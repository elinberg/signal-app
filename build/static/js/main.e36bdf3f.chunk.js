(this["webpackJsonpsignal-app"]=this["webpackJsonpsignal-app"]||[]).push([[0],{40:function(e,t,a){},41:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(16),i=a.n(c),o=(a(40),a(15)),r=a(5),l=a(7),h=(a(21),a(41),"SET_ALERT"),d="SET_ALERT_OVERWRITE",j="REMOVE_ALERT",b="LOGIN",u="LOGOUT",m=a.p+"static/media/logo.6ce24c58.svg",g=a(1),p=function(){var e,t=n.a.useContext(W),a=t.state,s=t.dispatch,c=a.alerts;return"undefined"!==typeof c&&null!==c&&c.length>0?c.filter((function(e){return"null"!==e.message})).map((function(t,a){return"alert alert-"+t.alertType,e=t.id,setTimeout((function(){return s({type:j,payload:t.id})}),t.timeout),t.id&&Object(g.jsx)("div",{className:"","aria-live":"polite","aria-atomic":"true",style:{position:"absolute",top:"150px",right:"500px",minHeight:"200px",width:"200px",zIndex:1e3},children:Object(g.jsxs)("div",{id:e,className:"toast fade show",children:[Object(g.jsxs)("div",{className:"toast-header",children:[Object(g.jsx)("img",{style:{width:30,height:30},src:m,className:"rounded mr-2",alt:"..."}),Object(g.jsx)("strong",{class:"mr-auto",children:"System"}),Object(g.jsx)("button",{type:"button",onClick:function(t){return a=e,console.log(a),void s({type:j,payload:a});var a},className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",children:Object(g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(g.jsx)("div",{className:"toast-body",children:t.message})]})})})):null},x=a(9),O=a.n(x),v=a(4),f=function(){var e=n.a.useContext(W),t=e.state,a=e.dispatch,s=Object(v.e)();return Object(g.jsx)("div",{children:Object(g.jsx)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:Object(g.jsxs)("div",{className:"",children:[Object(g.jsxs)("div",{className:"pull-left",children:[Object(g.jsx)("a",{className:"navbar-brand",href:"https://codingthesmartway.com",target:"_blank",rel:"noreferrer",children:Object(g.jsx)("img",{src:m,width:"30",height:"30",alt:"CodingTheSmartWay.com"})}),Object(g.jsx)(l.b,{to:"/dashboard",className:"navbar-brand",children:"Order Desk"})]}),Object(g.jsx)("div",{className:"pull-right",children:Object(g.jsxs)("ul",{className:"navbar-nav navbar-right pull-right mr-auto",children:[t.isAuthenticated?Object(g.jsx)("li",{className:"navbar-item pull-right",children:Object(g.jsx)(l.b,{to:"/login",onClick:function(e){console.log("Logout"),localStorage.setItem("token",null),O.a.defaults.headers.common.Authorization=null,a({type:u}),a({type:d,payload:{message:"Logout Successful",alertType:"success",timeout:5e3}}),s.push("/login")},className:"nav-link",children:"Log Out"})}):Object(g.jsx)("li",{className:"navbar-item pull-right",children:Object(g.jsx)(l.b,{to:"/login",isloggedin:"true",className:"nav-link",children:"Login "})}),Object(g.jsx)("li",{className:"navbar-item",children:Object(g.jsx)(l.b,{to:"/register",className:"nav-link",children:"Register"})})]})})]})})})},y=function(){var e=n.a.useContext(W).dispatch,t=n.a.useState({username:"",password:"",isSubmitting:!1,errorMessage:null}),a=Object(o.a)(t,2),s=a[0],c=a[1],i=Object(v.e)();return Object(g.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(g.jsx)("h3",{children:"Login"}),Object(g.jsxs)("form",{onSubmit:function(t){t.preventDefault(),c(Object(r.a)(Object(r.a)({},s),{},{isSubmitting:!0,errorMessage:null})),console.log("Form submitted:");var a={username:s.username,password:s.password};O.a.post("http://localhost:4000/auth/signin",a).then((function(t){console.log(t.data),localStorage.setItem("token",t.data.token),O.a.defaults.headers.common.Authorization=t.data.token,O.a.defaults.baseURL="",e({type:b,payload:t.data}),e({type:h,payload:{message:"Login Successful",alertType:"success",timeout:5e3}}),i.push("/dashboard")})),c(Object(r.a)(Object(r.a)({},s),{},{username:"",password:"",isLoggedIn:!0}))},children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"User Name: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:s.username,onChange:function(e){c(Object(r.a)(Object(r.a)({},s),{},{username:e.target.value}))}})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Password: "}),Object(g.jsx)("input",{type:"password",className:"form-control",value:s.password,onChange:function(e){c(Object(r.a)(Object(r.a)({},s),{},{password:e.target.value}))}})]}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"submit",value:"Login",className:"btn btn-primary"})})]})]})},N=function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.asset.pair}),Object(g.jsx)("td",{children:e.asset.price}),Object(g.jsx)("td",{children:e.asset.amount}),Object(g.jsxs)("td",{children:[Object(g.jsx)(l.b,{to:"/edit/"+e.asset._id,children:"Edit"}),"\xa0",Object(g.jsx)(l.b,{id:e.asset._id,asset:e.asset,onClick:C,to:"/asset/",children:"Delete"})]})]})},C=function(e){console.log(e.target.asset),O.a.delete("http://localhost:4000/asset/delete/"+e.target.id).then((function(e){console.log(e.data)}))},S=function(){n.a.useContext(W).dispatch;var e=n.a.useState({asset:[]}),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(v.e)();Object(s.useEffect)((function(){O.a.get("http://localhost:4000/asset/").then((function(e){c(Object(r.a)(Object(r.a)({},a),{},{asset:e.data}))})).catch((function(e){console.log(e)}))}),[]);return Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"Assets"}),Object(g.jsxs)("table",{className:"table table-striped",style:{marginTop:20},children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Pair"}),Object(g.jsx)("th",{children:"Price"}),Object(g.jsx)("th",{children:"Amount"}),Object(g.jsx)("th",{children:"Action"})]})}),Object(g.jsx)("tbody",{children:a.asset.map((function(e,t){return Object(g.jsx)(N,{asset:e},t)}))})]})]})},w=function(e){var t=n.a.useContext(W);t.state,t.dispatch;return Object(s.useEffect)((function(){}),[]),Object(g.jsx)("div",{children:Object(g.jsx)("p",{children:"Welcome to Edit Asset Component!!"})})},k=a(17),A=a(18),T=a(11),E=a(20),P=a(19),I=function(e){Object(E.a)(a,e);var t=Object(P.a)(a);function a(e){var s;return Object(k.a)(this,a),(s=t.call(this,e)).onChangePair=s.onChangePair.bind(Object(T.a)(s)),s.onChangePrice=s.onChangePrice.bind(Object(T.a)(s)),s.onChangeAmount=s.onChangeAmount.bind(Object(T.a)(s)),s.onSubmit=s.onSubmit.bind(Object(T.a)(s)),s.state={pair:"",price:"",amount:""},s}return Object(A.a)(a,[{key:"onChangePair",value:function(e){this.setState({pair:e.target.value})}},{key:"onChangePrice",value:function(e){this.setState({price:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Form submitted:",this.state),console.log("Pair: ".concat(this.state.pair)),console.log("Price: ".concat(this.state.price)),console.log("Amount: ".concat(this.state.amount));var a={pair:this.state.pair,price:this.state.price,amount:this.state.amount};O.a.post("http://localhost:8080/api/asset/add",a).then((function(e){console.log(e.data),t.setState({redirectTo:"/"})})),this.setState({pair:"",price:"",amount:""})}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(g.jsx)("h3",{children:"Create New Asset"}),Object(g.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Pair: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.pair,onChange:this.onChangePair})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Price: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.price,onChange:this.onChangePrice})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Amount: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.amount,onChange:this.onChangeAmount})]}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"submit",value:"Create Asset",className:"btn btn-primary"})})]})]})}}]),a}(s.Component),L=function(e){Object(E.a)(a,e);var t=Object(P.a)(a);function a(e){var s;return Object(k.a)(this,a),(s=t.call(this,e)).onChangeUsername=s.onChangeUsername.bind(Object(T.a)(s)),s.onChangePassword=s.onChangePassword.bind(Object(T.a)(s)),s.onSubmit=s.onSubmit.bind(Object(T.a)(s)),s.state={username:"",password:""},s}return Object(A.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Registration submitted:",this.state),console.log("Pair: ".concat(this.state.username)),console.log("Price: ".concat(this.state.price)),console.log("Amount: ".concat(this.state.amount));var a={username:this.state.username,password:this.state.password};O.a.post("http://localhost:8080/api/auth/signup",a).then((function(e){console.log(e.data),t.props.history.push("/login")})),this.setState({username:"",password:""})}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(g.jsx)("h3",{children:"Register"}),Object(g.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"User Name: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.onChangeUsername})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Password: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.password,onChange:this.onChangePassword})]}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"submit",value:"Register",className:"btn btn-primary"})})]})]})}}]),a}(s.Component),M=function(e){var t=n.a.useContext(W);t.state,t.dispatch;return Object(s.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:[Object(g.jsx)("h1",{className:"h2",children:"Dashboard"}),Object(g.jsxs)("div",{className:"btn-toolbar mb-2 mb-md-0",children:[Object(g.jsxs)("div",{className:"btn-group mr-2",children:[Object(g.jsx)("button",{className:"btn btn-sm btn-outline-secondary",children:"Share"}),Object(g.jsx)("button",{className:"btn btn-sm btn-outline-secondary",children:"Export"})]}),Object(g.jsxs)("button",{className:"btn btn-sm btn-outline-secondary dropdown-toggle",children:[Object(g.jsx)("span",{"data-feather":"calendar"}),"This week"]})]})]})},R=a(24),K=function(e){Object(E.a)(a,e);var t=Object(P.a)(a);function a(e){var s;return Object(k.a)(this,a),(s=t.call(this,e)).onChangeName=s.onChangeName.bind(Object(T.a)(s)),s.onChangeApiKey=s.onChangeApiKey.bind(Object(T.a)(s)),s.onChangeSecret=s.onChangeSecret.bind(Object(T.a)(s)),s.onSubmit=s.onSubmit.bind(Object(T.a)(s)),s.ex=JSON.parse(localStorage.getItem("exchanges")),s.thisExchange=s.ex.filter((function(t){return e.exchange.name===t.name})),s.thisExchange||(s.thisExchange=[{name:e.exchange.name,apiKey:"",secret:""}]),s.state={name:e.exchange.name,apiKey:s.thisExchange.length>0?s.thisExchange[0].apiKey:"",url:e.exchange.url,secret:s.thisExchange.length>0?s.thisExchange[0].secret:""},console.log("exchange",e.exchange),s}return Object(A.a)(a,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeApiKey",value:function(e){this.setState({apiKey:e.target.value})}},{key:"onChangeUrl",value:function(e){this.setState({url:e.target.value})}},{key:"onChangeSecret",value:function(e){this.setState({secret:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Form submitted:",this.state.name);var a=this.ex.filter((function(e){return t.state.name!==e.name}));a.push({name:this.state.name,secret:this.state.secret,apiKey:this.state.apiKey}),localStorage.setItem("exchanges",JSON.stringify(a)),this.props.hideModal()}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"container",style:{marginTop:10},children:Object(g.jsxs)("form",{style:{width:"100%"},onSubmit:this.onSubmit,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Name: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onChangeName})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Url: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.url,onChange:this.onChangeUrl})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"API Key: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.apiKey,onChange:this.onChangeApiKey})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Secret: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.secret,onChange:this.onChangeSecret})]}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"submit",value:"Save and Close",className:"btn btn-primary"})})]})})}}]),a}(s.Component),U=function(e){return Object(g.jsx)(R.a,{show:e.isOpen,tabIndex:"-1",children:Object(g.jsx)("div",{style:{width:"400px"},class:"modal-dialog",children:Object(g.jsxs)("div",{class:"modal-content",children:[Object(g.jsxs)("div",{class:"modal-header",children:[Object(g.jsx)("h5",{class:"modal-title",children:e.title}),Object(g.jsx)("button",{type:"button",class:"close",onClick:e.hideModal,"aria-label":"Close",children:Object(g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(g.jsx)("div",{class:"modal-body",children:Object(g.jsx)(K,{hideModal:e.hideModal,exchange:e.exchange})}),Object(g.jsx)("div",{class:"modal-footer",children:Object(g.jsx)("button",{type:"button",class:"btn btn-secondary",onClick:e.hideModal,children:"Close"})})]})})})},D=function(e){return Object(g.jsx)("div",{class:"card",style:{float:"left",width:"14rem",marginRight:"10px",height:"204px"},children:Object(g.jsxs)("div",{class:"card-body",children:[Object(g.jsx)("h5",{class:"card-title",children:e.exchange.name}),Object(g.jsx)("p",{class:"card-text"}),Object(g.jsx)(l.b,{className:"btn btn-primary",onClick:function(){return e.showModal(e)},to:"#",children:"Configure"})]})})},F=function(){n.a.useContext(W).dispatch;var e=n.a.useState({exchange:[]}),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(v.e)();Object(s.useEffect)((function(){O.a.get("http://localhost:8080/api/exchange/").then((function(e){c(Object(r.a)(Object(r.a)({},a),{},{exchange:e.data,showModal:"none"}))})).catch((function(e){console.log(e)}))}),[]);var i=n.a.useState(!1),l=Object(o.a)(i,2),h=l[0],d=l[1],j=n.a.useState({}),b=Object(o.a)(j,2),u=b[0],m=b[1],p=n.a.useState("Transitioning..."),x=Object(o.a)(p,2),f=x[0],y=x[1],N=function(e){d(!0),y(e.exchange.name),m(e.exchange)},C=function(){d(!1),y("")};return Object(g.jsxs)("div",{className:"container",style:{marginTop:"35px",width:"100%"},children:[Object(g.jsx)("div",{className:"card",style:{float:"left",width:"18rem",marginRight:"10px",height:"204px"},children:Object(g.jsx)("div",{class:"card-body",style:{paddingTop:"75px"},children:Object(g.jsx)("a",{href:"#",class:"btn btn-primary",children:"Add Exchange"})})}),(fetch("/bitmart/system/time").then((function(e){return e.json()})).then((function(e){return console.log(e)})),a.exchange.map((function(e,t){return Object(g.jsx)(D,{title:e.name,hideModal:C,setTitle:y,showModal:N,setIsOpen:d,exchange:e},t)}))),Object(g.jsx)(U,{id:"exchangeModal",setExchange:m,exchange:u,title:f,setTitle:y,isOpen:h,show:!0,hideModal:C,showModal:N,tabindex:"-1"})]})},_=function(){var e=n.a.useContext(W),t=e.state,a=(e.dispatch,Object(v.f)());return Object(g.jsx)("div",{className:"container-fluid",children:Object(g.jsxs)("div",{className:"row",children:[t.isAuthenticated&&"/register"!==a.pathname&&Object(g.jsx)("nav",{className:"col-md-2 d-none d-md-block eggplant sidebar",children:Object(g.jsx)("div",{className:"sidebar-sticky",children:Object(g.jsxs)("ul",{className:"nav flex-column",children:[t.isAuthenticated&&Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(l.b,{to:"/dashboard",className:"nav-link",children:"Dashboard"})}),t.isAuthenticated&&Object(g.jsx)("li",{className:"navbar-item",children:Object(g.jsx)(l.b,{to:"/exchanges",className:"nav-link",children:"Exchanges"})}),t.isAuthenticated&&Object(g.jsx)("li",{className:"navbar-item",children:Object(g.jsx)(l.b,{to:"/asset",className:"nav-link",children:"Assets"})}),t.isAuthenticated&&Object(g.jsx)("li",{className:"navbar-item",children:Object(g.jsx)(l.b,{to:"/create",className:"nav-link",children:"Create Asset"})}),t.isAuthenticated&&Object(g.jsx)("li",{className:"navbar-item",children:Object(g.jsx)(l.b,{to:"/edit",className:"nav-link",children:"Edit Asset"})})]})})}),Object(g.jsxs)("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-4",children:[Object(g.jsx)(v.a,{path:"/dashboard",exact:!0,component:M}),Object(g.jsx)(v.a,{path:"/asset",exact:!0,component:S}),Object(g.jsx)(v.a,{path:"/exchanges",exact:!0,component:F}),Object(g.jsx)(v.a,{path:"/edit",component:w}),Object(g.jsx)(v.a,{path:"/create",component:I}),Object(g.jsx)(v.a,{path:"/login",component:y}),Object(g.jsx)(v.a,{path:"/register",component:L})]})]})})},J=a(74),W=n.a.createContext(),z={isAuthenticated:!1,username:null,token:null,message:null,alerts:[]},B=function(e,t){switch(t.type){case b:localStorage.setItem("username",t.payload.username),localStorage.setItem("token",t.payload.token);var a=!!localStorage.getItem("exchanges")&&localStorage.getItem("exchanges");return console.log("exchanges",a),!1===a&&localStorage.setItem("exchanges",JSON.stringify([])),Object(r.a)(Object(r.a)({},e),{},{isAuthenticated:!0,username:t.payload.username,token:t.payload.token});case h:return e.alerts.push({message:t.payload.message,alertType:t.payload.alertType,timeout:t.payload.timeout,id:Object(J.a)()}),Object(r.a)(Object(r.a)({},e),{},{message:t.payload.message,alerts:e.alerts});case d:return e.alerts=[],e.alerts.push({message:t.payload.message,alertType:t.payload.alertType,timeout:t.payload.timeout,id:Object(J.a)()}),Object(r.a)(Object(r.a)({},e),{},{message:t.payload.message,alerts:e.alerts});case j:return Object(r.a)(Object(r.a)({},e),{},{message:"",alerts:e.alerts.filter((function(e){return e.id!==t.payload}))});case u:return localStorage.setItem("token",""),Object(r.a)(Object(r.a)({},e),{},{isAuthenticated:!1,username:null});default:return e}};var G=function(){var e=n.a.useReducer(B,z),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(g.jsx)(W.Provider,{value:{state:a,dispatch:s},children:Object(g.jsx)(l.a,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(p,{}),Object(g.jsx)(f,{}),Object(g.jsx)(_,{}),Object(g.jsx)("br",{})]})})})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(g.jsx)(G,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),V()}},[[70,1,2]]]);
//# sourceMappingURL=main.e36bdf3f.chunk.js.map