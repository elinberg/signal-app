(this["webpackJsonpsignal-app"]=this["webpackJsonpsignal-app"]||[]).push([[0],{183:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return l}));var n=a(3),c=a(85),s=a(88),i=a(46);function l(e,t,a,n){var c=Object.create(r);return c.client={},c.getClient(e,t,a,n)}var r={getClient:function(t,a,l,r){var o="";o="Binance"==t.exchange.name?"wss://stream.binance.com:9443/ws/"+t.selectedTicker.replace(/_/g,"").toLowerCase()+"@miniTicker":"wss://ws-manager-compress.bitmart.com?protocol=1.1",this.client=new s(o,null,{timeout:4e3,shouldReconnect:function(e,t){if(console.log("Reconnecting",e,t,o),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){console.log("WebSocket Client Connected"),r.length>0&&"Bitmart"==t.exchange.name&&this.send(r)}));var d=[];return this.client.addEventListener("message",(function(s){if(r.length,s.data instanceof Blob){var o=new i(t.exchange.name);s.data.stream().getReader().read().then((function(s){var i=s.done,r=s.value;if(i);else{var h=e.from(r);c.inflateRaw(h,{flush:3,info:!0},(function(e,c){var s=JSON.parse(c.toString("UTF-8")),i=o.getStream(s.data[0],t.selectedTicker,d);a(Object(n.a)(Object(n.a)({},l),i)),d.push(i.lastPrice),d.length>2&&d.splice(0,1)}))}}))}else{if("pong"==s.data||"ping"==s.data)return;var h=new i(t.exchange.name);try{var u=JSON.parse(s.data),b=h.getStream(u,t.selectedTicker,d);a(Object(n.a)(Object(n.a)({},l),b)),d.push(b.lastPrice),d.length>2&&d.splice(0,1)}catch(m){console.log(m)}}})),this.client.addEventListener("close",(function(e){d=[],a({high24hr:"",low24hr:"",open24hr:"",volume24hr:"",lastPrice:"",priceStyle:"",prevPrice:"0.00"}),e.data})),this.client}}}).call(this,a(13).Buffer)},184:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var n=a(3),c=a(85),s=a(88);a(46);function i(e,t,a,n){var c=Object.create(l);return c.client={},c.getClient(e,t,a,n)}var l={getClient:function(t,a,i,l){var r="";r="Binance"==t.exchange.name?"wss://stream.binance.com:9443/ws/"+t.selectedTicker.replace(/_/g,"").toLowerCase()+"@depth5@100ms":"wss://ws-manager-compress.bitmart.com?protocol=1.1",this.client=new s(r,null,{timeout:4e3,shouldReconnect:function(e,t){if(console.log("Reconnecting"),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){console.log("WebSocket Client Connected"),l.length>0&&"Bitmart"==t.exchange.name&&this.send(l)}));return this.client.addEventListener("message",(function(t){if(l.length,t.data instanceof Blob){t.data.stream().getReader().read().then((function(t){var s=t.done,l=t.value;if(s);else{var r=e.from(l);c.inflateRaw(r,{flush:3,info:!0},(function(e,t){var c=JSON.parse(t.toString("UTF-8")).data[0];a(Object(n.a)(Object(n.a)({},i),c))}))}}))}else{if("pong"==t.data||"ping"==t.data)return;try{var s=JSON.parse(t.data);a(Object(n.a)(Object(n.a)({},i),s))}catch(r){console.log(r)}}})),this.client.addEventListener("close",(function(e){a({asks:[],bids:[]}),e.data})),this.client}}}).call(this,a(13).Buffer)},185:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var n=a(3),c=a(85),s=a(88);a(46);function i(e,t,a,n){var c=Object.create(l);return c.client={},c.getClient(e,t,a,n)}var l={getClient:function(t,a,i,l){var r="";r="Binance"==t.exchange.name?"wss://stream.binance.com:9443/ws/"+t.selectedTicker.replace(/_/g,"").toLowerCase()+"@trade":"wss://ws-manager-compress.bitmart.com?protocol=1.1",this.client=new s(r,null,{timeout:4e3,shouldReconnect:function(e,t){if(console.log("Reconnecting"),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){console.log("WebSocket Client Connected"),l.length>0&&"Bitmart"==t.exchange.name&&this.send(l)}));return this.client.addEventListener("message",(function(s){var r=s.data;console.log("we got: ",r),'{"event":"login"}'==r&&(l=JSON.stringify({op:"subscribe",args:["spot/user/order:"+t.selectedTicker]}),this.send(l));var o=[];if(s.data instanceof Blob){s.data.stream().getReader().read().then((function(t){var s=t.done,l=t.value;if(s);else{var r=e.from(l);c.inflateRaw(r,{flush:3,info:!0},(function(e,t){var c=JSON.parse(t.toString("UTF-8"));console.log("TRDATA",c.data),c.data.length>0&&(o.push(c.data[0]),a(Object(n.a)(Object(n.a)({},i),{},{newData:o})))}))}}))}else{if("pong"==s.data||"ping"==s.data)return;try{JSON.parse(s.data)}catch(d){console.log(d)}}})),this.client.addEventListener("close",(function(e){a({asks:[],bids:[]}),e.data})),this.client}}}).call(this,a(13).Buffer)},193:function(e,t,a){},194:function(e,t,a){},235:function(e,t){},237:function(e,t){},259:function(e,t){},261:function(e,t){},289:function(e,t){},291:function(e,t){},292:function(e,t){},297:function(e,t){},299:function(e,t){},318:function(e,t){},330:function(e,t){},333:function(e,t){},362:function(e,t,a){"use strict";a.r(t);var n,c=a(0),s=a.n(c),i=a(29),l=a.n(i),r=(a(193),a(7)),o=a(3),d=a(21),h=a(15),u=(a(57),a(194),"SET_ALERT"),b="SET_ALERT_OVERWRITE",m="REMOVE_ALERT",j="LOGIN",g="LOGOUT",p=a.p+"static/media/logo.6ce24c58.svg",x=a(1),O=function(){var e,t=s.a.useContext(ie),a=t.state,n=t.dispatch,c=a.alerts;return"undefined"!==typeof c&&null!==c&&c.length>0?c.filter((function(e){return"null"!==e.message})).map((function(t,a){return"alert alert-"+t.alertType,e=t.id,setTimeout((function(){return n({type:m,payload:t.id})}),t.timeout),t.id&&Object(x.jsx)("div",{className:"","aria-live":"polite","aria-atomic":"true",style:{position:"absolute",top:"150px",right:"500px",minHeight:"200px",width:"200px",zIndex:1e3},children:Object(x.jsxs)("div",{id:e,className:"toast fade show",children:[Object(x.jsxs)("div",{className:"toast-header",children:[Object(x.jsx)("img",{style:{width:30,height:30},src:p,className:"rounded mr-2",alt:"..."}),Object(x.jsx)("strong",{className:"mr-auto",children:"System"}),Object(x.jsx)("button",{type:"button",onClick:function(t){return a=e,console.log(a),void n({type:m,payload:a});var a},className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",children:Object(x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(x.jsx)("div",{className:"toast-body",children:t.message})]})},t.id)})):null},f=a(12),v=a.n(f),y=a(9),N=function(){var e=s.a.useContext(ie),t=e.state,a=e.dispatch,n=Object(y.e)();return Object(x.jsx)("div",{children:Object(x.jsx)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:Object(x.jsxs)("div",{className:"",children:[Object(x.jsxs)("div",{className:"pull-left",children:[Object(x.jsx)("a",{className:"navbar-brand",href:"https://codingthesmartway.com",target:"_blank",rel:"noreferrer",children:Object(x.jsx)("img",{src:p,width:"30",height:"30",alt:"CodingTheSmartWay.com"})}),Object(x.jsx)(h.b,{to:"/dashboard",className:"navbar-brand",children:"Order Desk"})]}),Object(x.jsx)("div",{className:"pull-right",children:Object(x.jsxs)("ul",{className:"navbar-nav navbar-right pull-right mr-auto",children:[t.isAuthenticated?Object(x.jsx)("li",{className:"navbar-item pull-right",children:Object(x.jsx)(h.b,{to:"/login",onClick:function(e){console.log("Logout"),localStorage.setItem("token",null),v.a.defaults.headers.common.Authorization=null,a({type:g}),a({type:b,payload:{message:"Logout Successful",alertType:"success",timeout:3e3}}),n.push("/login")},className:"nav-link",children:"Log Out"})}):Object(x.jsx)("li",{className:"navbar-item pull-right",children:Object(x.jsx)(h.b,{to:"/login",isloggedin:"true",className:"nav-link",children:"Login "})}),Object(x.jsx)("li",{className:"navbar-item",children:Object(x.jsx)(h.b,{to:"/register",className:"nav-link",children:"Register"})})]})})]})})})},k=function(){var e=s.a.useContext(ie).dispatch,t=s.a.useState({username:"",password:"",isSubmitting:!1,errorMessage:null}),a=Object(r.a)(t,2),n=a[0],i=a[1],l=Object(y.e)(),d=Object(c.useState)(navigator.onLine),h=Object(r.a)(d,2),b=h[0],m=h[1],g=function(){console.log("We are online!");m(!0)},p=function(){console.log("We are offline!");m(!1)};Object(c.useEffect)((function(){return window.addEventListener("offline",p),window.addEventListener("online",g),function(){window.removeEventListener("offline",p),window.removeEventListener("online",g)}}),[]);var O=window.location.search;return b=!0!==new URLSearchParams(O).get("offline")&&!1!==b,Object(x.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(x.jsx)("h3",{children:"Login"}),Object(x.jsxs)("form",{onSubmit:function(t){t.preventDefault(),i(Object(o.a)(Object(o.a)({},n),{},{isSubmitting:!0,errorMessage:null})),console.log("Form submitted:");var a={username:n.username,password:n.password};v.a.post("/api/auth/signin",a).then((function(t){console.log(t.data),localStorage.setItem("token",t.data.token),v.a.defaults.headers.common.Authorization=t.data.token,v.a.defaults.baseURL="",e({type:j,payload:t.data}),e({type:u,payload:{message:"Login Successful",alertType:"success",timeout:3e3}}),l.push("/exchanges")})),i(Object(o.a)(Object(o.a)({},n),{},{username:"",password:"",isLoggedIn:!0}))},children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"User Name: "}),Object(x.jsx)("input",{type:"text",className:"form-control",autoComplete:"username",value:n.username,onChange:function(e){i(Object(o.a)(Object(o.a)({},n),{},{username:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Password: "}),Object(x.jsx)("input",{type:"password",className:"form-control",value:n.password,autoComplete:"current-password",onChange:function(e){i(Object(o.a)(Object(o.a)({},n),{},{password:e.target.value}))}})]}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{type:"submit",disabled:!b,value:b?"Login":"Offline",className:"btn btn-primary"})})]})]})},T=function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.asset.pair}),Object(x.jsx)("td",{children:e.asset.price}),Object(x.jsx)("td",{children:e.asset.amount}),Object(x.jsxs)("td",{children:[Object(x.jsx)(h.b,{to:"/edit/"+e.asset._id,children:"Edit"}),"\xa0",Object(x.jsx)(h.b,{id:e.asset._id,asset:e.asset,onClick:S,to:"/asset/",children:"Delete"})]})]})},S=function(e){console.log(e.target.asset),v.a.delete("http://localhost:4000/asset/delete/"+e.target.id).then((function(e){console.log(e.data)}))},w=function(){s.a.useContext(ie).dispatch;var e=s.a.useState({asset:[]}),t=Object(r.a)(e,2),a=t[0],n=t[1];Object(y.e)();Object(c.useEffect)((function(){v.a.get("http://localhost:4000/asset/").then((function(e){n(Object(o.a)(Object(o.a)({},a),{},{asset:e.data}))})).catch((function(e){console.log(e)}))}),[]);return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"Assets"}),Object(x.jsxs)("table",{className:"table table-striped",style:{marginTop:20},children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Pair"}),Object(x.jsx)("th",{children:"Price"}),Object(x.jsx)("th",{children:"Amount"}),Object(x.jsx)("th",{children:"Action"})]})}),Object(x.jsx)("tbody",{children:a.asset.map((function(e,t){return Object(x.jsx)(T,{asset:e},t)}))})]})]})},C=function(e){var t=s.a.useContext(ie);t.state,t.dispatch;return Object(c.useEffect)((function(){}),[]),Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:"Welcome to Edit Asset Component!!"})})},E=a(33),A=a(34),L=a(19),P=a(41),I=a(40),B=function(e){Object(P.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onChangePair=n.onChangePair.bind(Object(L.a)(n)),n.onChangePrice=n.onChangePrice.bind(Object(L.a)(n)),n.onChangeAmount=n.onChangeAmount.bind(Object(L.a)(n)),n.onSubmit=n.onSubmit.bind(Object(L.a)(n)),n.state={pair:"",price:"",amount:""},n}return Object(A.a)(a,[{key:"onChangePair",value:function(e){this.setState({pair:e.target.value})}},{key:"onChangePrice",value:function(e){this.setState({price:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Form submitted:",this.state),console.log("Pair: ".concat(this.state.pair)),console.log("Price: ".concat(this.state.price)),console.log("Amount: ".concat(this.state.amount));var a={pair:this.state.pair,price:this.state.price,amount:this.state.amount};v.a.post("/api/asset/add",a).then((function(e){console.log(e.data),t.setState({redirectTo:"/"})})),this.setState({pair:"",price:"",amount:""})}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(x.jsx)("h3",{children:"Create New Asset"}),Object(x.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Pair: "}),Object(x.jsx)("input",{type:"text",className:"form-control",value:this.state.pair,onChange:this.onChangePair})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Price: "}),Object(x.jsx)("input",{type:"text",className:"form-control",value:this.state.price,onChange:this.onChangePrice})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Amount: "}),Object(x.jsx)("input",{type:"text",className:"form-control",value:this.state.amount,onChange:this.onChangeAmount})]}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{type:"submit",value:"Create Asset",className:"btn btn-primary"})})]})]})}}]),a}(c.Component),R=function(e){Object(P.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(L.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(L.a)(n)),n.onSubmit=n.onSubmit.bind(Object(L.a)(n)),n.state={username:"",password:""},n}return Object(A.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Registration submitted:",this.state),console.log("Pair: ".concat(this.state.username)),console.log("Price: ".concat(this.state.price)),console.log("Amount: ".concat(this.state.amount));var a={username:this.state.username,password:this.state.password};v.a.post("/api/auth/signup",a).then((function(e){console.log(e.data),t.props.history.push("/login")})),this.setState({username:"",password:""})}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(x.jsx)("h3",{children:"Register"}),Object(x.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"User Name: "}),Object(x.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.onChangeUsername})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Password: "}),Object(x.jsx)("input",{type:"text",className:"form-control",value:this.state.password,onChange:this.onChangePassword})]}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{type:"submit",value:"Register",className:"btn btn-primary"})})]})]})}}]),a}(c.Component),_=(a(55),a(77),a(187)),F=function(e){return Object(x.jsx)(_.a,{style:e.style,options:e.options,onFocus:e.onFocus,onChange:e.onChange})},J=a(53),K=a(183),M=(a(46),function(e){var t=s.a.useContext(ie),a=(t.state,t.dispatch,Object(y.e)()),n=Object(c.useState)(""),i=Object(r.a)(n,2),l=i[0],o=i[1],h=Object(c.useState)({}),u=Object(r.a)(h,2),b=u[0],m=u[1],j=Object(c.useState)(navigator.onLine),g=Object(r.a)(j,2),p=(g[0],g[1]),O=function(){console.log("We are online!"),p(!0)},f=function(){console.log("We are offline!"),a.push("/login?offline=true"),p(!1)};return Object(c.useEffect)((function(){}),[b.lastPrice,e.selectedTicker]),Object(c.useEffect)((function(){window.addEventListener("offline",f),window.addEventListener("online",O);var t=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(t||(e.exchange.name,Object(J.a)("thisExchange")),m(Object(d.a)({name:e.exchange.name,apiKey:t.length>0?t[0].apiKey:"",secret:t.length>0?t[0].secret:"",url:e.exchange.url,high24hr:"",low24hr:"",open24hr:"",volume24hr:"",lastPrice:"",priceStyle:"",prevPrice:"0.00",selectedTicker:"",prevSelectedTicker:e.selectedTicker,tickerEndpoint:e.exchange.tickerEndpoint},"secret",t.length>0?t[0].secret:"")),console.log("exchange",e.exchange,e),!(e.selectedTicker.length<3)){var a="";void 0===localStorage.getItem("selectedTicker")?(localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/ticker:"+e.selectedTicker]}),console.log("ws_send1",e.selectedTicker)):e.selectedTicker===localStorage.getItem("selectedTicker")?console.log("ws_send2",e.selectedTicker):e.selectedTicker!==localStorage.getItem("selectedTicker")&&(a=JSON.stringify({op:"unsubscribe",args:["spot/ticker:"+localStorage.getItem("selectedTicker")]}),console.log("ws_send3",e.selectedTicker),localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/ticker:"+e.selectedTicker]}),console.log("ws_send4",e.selectedTicker)),e.exchange.name;var n=[];if(n[e.exchange.name]=new K.a(e,m,b,a),"Bitmart"===e.exchange.name){var c=setInterval((function(){1==n.Bitmart.readyState&&n.Bitmart.send("ping")}),15e3);o(c)}return function(){window.removeEventListener("offline",f),window.removeEventListener("online",O),m({});var e=JSON.stringify({op:"unsubscribe",args:["spot/ticker:"+localStorage.getItem("selectedTicker")]});localStorage.setItem("selectedTicker","");n.Bitmart&&(clearInterval(l),n.Bitmart.close()),n.Binance&&n.Binance.close(),console.log("Leaving",e)}}}),[e.selectedTicker]),Object(x.jsxs)("div",{className:"container",style:{marginTop:"2px",marginBottom:"2px"},children:[Object(x.jsx)("div",{onClick:function(t){console.log("Price Click",t.target.innerText);var a={target:{value:t.target.innerText}};e.onChangePrice(a)},style:{width:"72%",paddingLeft:"1px",paddingTop:"1px"},className:"float-left",children:Object(x.jsx)("h6",{className:b.priceStyle,children:b.lastPrice})}),Object(x.jsx)("div",{style:{width:"28%",paddingLeft:"1px",paddingTop:"1px"},className:"float-left",children:Object(x.jsx)("small",{children:b.baseAsset})}),Object(x.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(x.jsx)("small",{children:b.high24hr})}),Object(x.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(x.jsx)("small",{children:"High"})}),Object(x.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(x.jsx)("small",{children:b.low24hr})}),Object(x.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(x.jsx)("small",{children:" Low"})}),Object(x.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",color:"",marginTop:"0px"},className:"float-left",children:Object(x.jsx)("small",{children:b.open24hr})}),Object(x.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(x.jsx)("small",{children:"Open"})}),Object(x.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",color:"",marginTop:"0px"},className:"float-left",children:Object(x.jsx)("small",{children:b.volume24hr})}),Object(x.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(x.jsx)("small",{children:" Volume"})})]})}),D=a(184),U=(a(46),function(e){var t=s.a.useContext(ie),a=(t.state,t.dispatch,Object(y.e)()),n=Object(c.useState)(""),i=Object(r.a)(n,2),l=i[0],o=i[1],h=Object(c.useState)({}),u=Object(r.a)(h,2),b=u[0],m=u[1],j=Object(c.useState)(navigator.onLine),g=Object(r.a)(j,2),p=(g[0],g[1]),O=function(){console.log("We are online!"),p(!0)},f=function(){console.log("We are offline!"),a.push("/login?offline=true"),p(!1)},v=function(t){console.log("Price Click",t.target.innerText);var a={target:{value:t.target.innerText}};e.onChangePrice(a)};return Object(c.useEffect)((function(){window.addEventListener("offline",f),window.addEventListener("online",O);var t=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(t||(e.exchange.name,Object(J.a)("thisExchange")),m(Object(d.a)({name:e.exchange.name,apiKey:t.length>0?t[0].apiKey:"",secret:t.length>0?t[0].secret:"",url:e.exchange.url,asks:[],bids:[],selectedTicker:"",prevSelectedTicker:e.selectedTicker,tickerEndpoint:e.exchange.tickerEndpoint},"secret",t.length>0?t[0].secret:"")),console.log("exchange",e.exchange,e),!(e.selectedTicker.length<3)){var a="";void 0===localStorage.getItem("selectedTicker")?(localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]}),console.log("ws_send1",e.selectedTicker)):e.selectedTicker===localStorage.getItem("selectedTicker")?console.log("ws_send2",e.selectedTicker):e.selectedTicker!==localStorage.getItem("selectedTicker")&&(a=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]}),console.log("ws_send3",e.selectedTicker),localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]}),console.log("ws_send4",e.selectedTicker)),e.exchange.name;var n=[];if(a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]}),n[e.exchange.name]=new D.a(e,m,b,a),"Bitmart"===e.exchange.name){var c=setInterval((function(){1==n.Bitmart.readyState&&n.Bitmart.send("ping")}),15e3);o(c)}return function(){window.removeEventListener("offline",f),window.removeEventListener("online",O),m({});var e=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]});localStorage.setItem("selectedTicker","");n.Bitmart&&(clearInterval(l),n.Bitmart.close()),n.Binance&&n.Binance.close(),console.log("Leaving",e)}}}),[e.selectedTicker]),void 0===b.asks||void 0===b.bids?null:Object(x.jsxs)("div",{className:"container",style:{marginTop:"2px",marginBottom:"2px",paddingLeft:"0px"},children:[Object(x.jsx)("ul",{style:{listStyleType:"none",paddingLeft:"0px"},children:b.asks.map((function(e,t){return Object(x.jsxs)("li",{style:{whiteSpace:"nowrap"},children:[Object(x.jsx)("small",{onClick:v,className:"text-danger",children:e[0]})," ",Object(x.jsx)("small",{className:"",children:e[1]})]},t)}))}),Object(x.jsx)("ul",{style:{listStyleType:"none",paddingLeft:"0px"},children:b.bids.map((function(e,t){return Object(x.jsxs)("li",{style:{whiteSpace:"nowrap"},children:[Object(x.jsx)("small",{onClick:v,className:"text-success",children:e[0]})," ",Object(x.jsx)("small",{className:"",children:e[1]})]},t)}))})]})}),W=function(e){Object(P.a)(a,e);var t=Object(I.a)(a);function a(e){return Object(E.a)(this,a),t.call(this,e)}return Object(A.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return null}}]),a}(c.Component),q=function(e){var t,a,n="",c="",s="";if(void 0!=e.wallet){t="buy"==e.tab?void 0!==e.ticker?e.ticker.replace(/.*_/g,""):"":void 0!==e.ticker?e.ticker.replace(/_.*/g,""):"",a=e.wallet.filter((function(e){return e.id===t})),console.log("WALLET TAG",a,t),a.length>0&&(n=a[0].available,s=a[0].frozen,c=a[0].id);return Object(x.jsxs)("div",{className:"",style:{paddingLeft:"0px"},children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{onClick:function(t){console.log("PERCENT25"),n.length>0&&e.setAmount({target:{value:.25*Math.round(n)}})},className:"col-sm-3",children:Object(x.jsx)("small",{className:"tiny",children:"25%"})}),Object(x.jsx)("div",{onClick:function(t){console.log("PERCENT50"),n.length>0&&e.setAmount({target:{value:.5*Math.round(n)}})},className:"col-sm-3",children:Object(x.jsx)("small",{className:"tiny",children:"50%"})}),Object(x.jsx)("div",{onClick:function(t){console.log("PERCENT75"),n.length>0&&e.setAmount({target:{value:.75*Math.round(n)}})},className:"col-sm-3",children:Object(x.jsx)("small",{className:"tiny",children:"75%"})}),Object(x.jsx)("div",{onClick:function(t){console.log("PERCENT100",n),n.length>0&&e.setAmount({target:{value:Math.round(n)}})},className:"col-sm-3",children:Object(x.jsx)("small",{className:"tiny",children:"100%"})})]}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{style:{whiteSpace:"nowrap"},className:"col-sm-12",children:Object(x.jsxs)("small",{className:"tiny",children:["Avail. ",n," ",c]})}),Object(x.jsx)("div",{style:{whiteSpace:"nowrap"},className:"col-sm-12",children:Object(x.jsxs)("small",{className:"tiny",children:["In Orders ",s," "]})})]})]})}},G=a(188),z=a(115),H=a(185),V=(a(257),a(46),function(e){var t=s.a.useContext(ie);t.state,t.dispatch;console.log("Trade",e);var n=Object(y.e)(),i=Object(c.useState)(""),l=Object(r.a)(i,2),o=l[0],h=l[1],u=Object(c.useState)({}),b=Object(r.a)(u,2),m=b[0],j=b[1],g=Object(c.useState)(navigator.onLine),p=Object(r.a)(g,2),O=(p[0],p[1]),f=function(){console.log("We are online!"),O(!0)},v=function(){console.log("We are offline!"),n.push("/login?offline=true"),O(!1)},N=function(t){console.log("Price Click",t.target.innerText);var a={target:{value:t.target.innerText}};e.onChangePrice(a)};return Object(c.useEffect)((function(){window.addEventListener("offline",v),window.addEventListener("online",f);var t=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(t||(e.exchange.name,Object(J.a)("thisExchange")),j(Object(d.a)({name:e.exchange.name,apiKey:t.length>0?t[0].apiKey:"",secret:t.length>0?t[0].secret:"",url:e.exchange.url,asks:[],bids:[],selectedTicker:"",prevSelectedTicker:e.selectedTicker,tickerEndpoint:e.exchange.tickerEndpoint},"secret",t.length>0?t[0].secret:"")),console.log("exchange",e.exchange,e),!(e.selectedTicker.length<3)){var n="";void 0===localStorage.getItem("selectedTicker")?(localStorage.setItem("selectedTicker",e.selectedTicker),n=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]}),console.log("ws_send1",e.selectedTicker)):e.selectedTicker===localStorage.getItem("selectedTicker")?console.log("ws_send2",e.selectedTicker):e.selectedTicker!==localStorage.getItem("selectedTicker")&&(n=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]}),console.log("ws_send3",e.selectedTicker),localStorage.setItem("selectedTicker",e.selectedTicker),n=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]}),console.log("ws_send4",e.selectedTicker)),e.exchange.name;var c=[],s=JSON.parse(localStorage.getItem("exchanges")),i=s.filter((function(t){return t.name===e.exchange.name})),l=i[0].apiKey,r=i[0].apiName,u=i[0].secret;console.log("KEY/SECRET",e.selectedTicker,i,l,u,e.exchange.name,s);var b=Date.now().toString(),g=a(136).createHmac("sha256",u).update(b+"#"+r+"#bitmart.WebSocket").digest("hex");if(console.log("key,secret,timestamp,signature",b,g,g),n=JSON.stringify({op:"login",args:[l,b,g]}),console.log("TRADE MSG",n),c[e.exchange.name]=new H.a(e,j,m,n),"Bitmart"===e.exchange.name){1==c.Bitmart.readyState&&(n=JSON.stringify({op:"subscribe",args:["spot/user/order:"+e.selectedTicker]}),c.Bitmart.send(n));var p=setInterval((function(){1==c.Bitmart.readyState&&c.Bitmart.send("ping")}),15e3);h(p)}return function(){window.removeEventListener("offline",v),window.removeEventListener("online",f),j({});var e=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]});localStorage.setItem("selectedTicker","");c.Bitmart&&(clearInterval(o),c.Bitmart.close()),c.Binance&&c.Binance.close(),console.log("Leaving",e)}}}),[e.selectedTicker]),console.log("USER-TRADE",m),void 0===m.asks?null:(console.log("DEPTH",m),Object(x.jsxs)("div",{className:"container",style:{marginTop:"2px",marginBottom:"2px",paddingLeft:"0px"},children:[Object(x.jsx)("ul",{style:{listStyleType:"none",paddingLeft:"0px"},children:m.asks.map((function(e,t){return Object(x.jsxs)("li",{style:{whiteSpace:"nowrap"},children:[Object(x.jsx)("small",{onClick:N,className:"text-danger",children:e[0]})," ",Object(x.jsx)("small",{className:"",children:e[1]})]},t)}))}),Object(x.jsx)("ul",{style:{listStyleType:"none",paddingLeft:"0px"},children:m.bids.map((function(e,t){return Object(x.jsxs)("li",{style:{whiteSpace:"nowrap"},children:[Object(x.jsx)("small",{onClick:N,className:"text-success",children:e[0]})," ",Object(x.jsx)("small",{className:"",children:e[1]})]},t)}))})]}))}),Q=function(e){var t=Object(c.useState)("limit"),a=Object(r.a)(t,2),n=a[0],i=a[1],l=s.a.useContext(ie),d=(l.state,l.dispatch),h=JSON.parse(localStorage.getItem("exchanges")),b=(e.tab,h.filter((function(t){return e.exchange.name===t.name})));b||(b=[{name:e.exchange.name,apiKey:"",secret:""}]);var m={name:e.exchange.name,apiKey:b.length>0?b[0].apiKey:"",url:e.exchange.url,tickers:[],amount:"",qty:"",lastPrice:"",selectedTicker:"",baseAsset:"",price:"",tickerEndpoint:e.exchange.tickerEndpoint,secret:b.length>0?b[0].secret:""},j=Object(c.useState)(m),g=Object(r.a)(j,2),p=g[0],O=g[1],f=Object(c.useState)({wallet:[]}),y=Object(r.a)(f,2),N=y[0],k=y[1];Object(c.useEffect)((function(){(p.price.length>0||p.qty.length>0||p.amount.length>0)&&O(Object(o.a)(Object(o.a)({},p),{},{price:"",amount:"",qty:""}))}),[e.tab]),Object(c.useEffect)((function(){(p.price.length>0||p.qty.length>0||p.amount.length>0)&&O(Object(o.a)(Object(o.a)({},p),{},{price:"",amount:"",qty:""}))}),[n]),Object(c.useEffect)((function(){return v.a.get(e.exchange.url+"/tickers").then((function(t){t.data.tickers.map((function(e,a){t.data.tickers[a]={value:e,label:e}})),console.log("TICKERS:",e.exchange.url,t.data.tickers),O(Object(o.a)(Object(o.a)({},p),{},{tickers:t.data.tickers}))})),console.log("URL",e.exchange.url),v.a.get(e.exchange.url+"/accounts",{headers:{xbmkey:p.apiKey,xbmsecret:p.secret}}).then((function(e){console.log("WALLET",e.data.wallet),k({wallet:e.data.wallet})})),function(){console.log("LEAVING")}}),[]);var T=function(e){O(Object(o.a)(Object(o.a)({},p),{},{selectedTicker:"",baseAsset:""}))},S=function(e){O(Object(o.a)(Object(o.a)({},p),{},{price:"",amount:"",qty:""}))},w=function(t){var a,c;p.price.length<1&&"limit"==n?d({type:u,payload:{message:"Please Choose a price before setting qty",alertType:"success",timeout:3e3}}):("buy"==e.tab&&"limit"==n?(a=Math.round(parseFloat(t.target.value)/parseFloat(p.price)),c=parseFloat(t.target.value).toFixed(2)):"sell"==e.tab&&"limit"==n?(a=t.target.value,c=(c=Math.round(parseFloat(t.target.value)*parseFloat(p.price))).toFixed(2)):("buy"==e.tab&&"market"==n||"sell"==e.tab&&"market"==n)&&(c=parseFloat(t.target.value).toFixed(2),a=""),O(Object(o.a)(Object(o.a)({},p),{},{amount:c,qty:a})))},C=function(e){O(Object(o.a)(Object(o.a)({},p),{},{price:e.target.value}))},E=function(e){O(Object(o.a)(Object(o.a)({},p),{},{qty:e.target.value}))};return console.log("RETURN FORM",p,e),Object(x.jsxs)("div",{className:"container pl-0",style:{marginTop:"10px",marginLeft:"2px",marginRight:"2px"},children:[Object(x.jsxs)("form",{className:"form-row",style:{width:"100%"},onSubmit:function(e){e.preventDefault(),console.log("Form submitted:",p.name)},children:[Object(x.jsxs)("div",{className:"form-group col-sm-6",children:[Object(x.jsx)(F,{class:{width:"8rem"},options:p.tickers,onFocus:function(e){O(Object(o.a)(Object(o.a)({},p),{},{prevSelectedTicker:p.selectedTicker?p.selectedTicker:""}))},onChange:function(t){var a,n;console.log("OnChangeTicker",t),"buy"==e.tab?(a=t.value.replace(/.*_/g,""),n=t.value.replace(/_.*/g,"")):(a=t.value.replace(/_.*/g,""),n=t.value.replace(/.*_/g,"")),O(Object(o.a)(Object(o.a)({},p),{},{selectedTicker:t.value?t.value:"",baseAsset:void 0!==t.value?a:"",sellAsset:n}))}}),Object(x.jsx)("input",{type:"hidden",className:"form-control",value:p.name,onChange:function(e){O(Object(o.a)(Object(o.a)({},p),{},{name:e.target.value}))}}),Object(x.jsx)(W,{})]}),Object(x.jsx)("div",{className:"form-group col-sm-6",children:Object(x.jsx)(M,{onChangePrice:C,clearTicker:T,baseAsset:p.baseAsset,exchange:e.exchange,selectedTicker:p.selectedTicker,prevSelectedTicker:p.prevSelectedTicker})}),Object(x.jsxs)(G.a,{onSelect:function(e){console.log("onSelect",e),i(e)},defaultActiveKey:"limit",id:"controlled-tab-example",className:"col-sm-12",children:[Object(x.jsx)(z.a,{eventKey:"limit",title:"Limit",className:"col-sm-12",children:Object(x.jsxs)("div",{className:"row pt-2",children:[Object(x.jsxs)("div",{className:"col-sm-6",children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Price"}),Object(x.jsx)("input",{type:"text",placeholder:"Price",className:"form-control",value:p.price,onChange:C})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Qty"}),Object(x.jsx)("input",{type:"text",placeholder:"Quantity",className:"form-control",value:p.qty,onChange:E})]}),Object(x.jsx)(q,{tab:e.tab,clearAmount:S,wallet:N.wallet,ticker:p.selectedTicker,setAmount:w}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Total:"})," ",Object(x.jsx)("div",{style:{display:"inline-block"},onChange:w,children:p.amount})]})]}),Object(x.jsxs)("div",{className:"col-sm-6",children:["Depth",Object(x.jsx)(U,{onChangePrice:C,clearTicker:T,baseAsset:p.baseAsset,exchange:e.exchange,selectedTicker:p.selectedTicker,prevSelectedTicker:p.prevSelectedTicker})]})]})}),Object(x.jsx)(z.a,{eventKey:"market",title:"Market",className:"col-sm-12",children:Object(x.jsxs)("div",{className:"row pt-2",children:[Object(x.jsxs)("div",{className:"col-sm-6",children:[Object(x.jsxs)("div",{className:"form-group ",children:[Object(x.jsx)("label",{children:"Price"}),Object(x.jsx)("input",{type:"text",disabled:"disabled",placeholder:"Optimal Market Price",className:"form-control",value:"Optimal Market Price"})]}),Object(x.jsxs)("div",{className:"form-group ",children:[Object(x.jsx)("label",{children:"Total"}),Object(x.jsx)("input",{type:"text",placeholder:"buy"==e.tab?"Total "+p.baseAsset:"Total "+p.sellAsset,className:"form-control",value:p.amount,onChange:E})]}),Object(x.jsx)("div",{children:Object(x.jsx)(q,{clearAmount:S,tab:e.tab,wallet:N.wallet,ticker:p.selectedTicker,setAmount:w})}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Total:"})," ",Object(x.jsx)("div",{style:{display:"inline-block"},onChange:w,children:p.amount})]})]}),Object(x.jsxs)("div",{className:"col-sm-6",children:["Depth",Object(x.jsx)(U,{onChangePrice:C,clearTicker:T,baseAsset:p.baseAsset,exchange:e.exchange,selectedTicker:p.selectedTicker,prevSelectedTicker:p.prevSelectedTicker})]})]})})]}),Object(x.jsx)("div",{className:"form-group col-sm-12",children:"buy"===e.tab?Object(x.jsx)("input",{type:"submit",value:"Place buy order",className:"btn btn-success"}):Object(x.jsx)("input",{type:"submit",value:"Place sell order",className:"btn btn-danger"})})]}),Object(x.jsx)("div",{className:"d-flex justify-content-between flex-wrap  align-items-center pb-2 mb-3 border-bottom",children:Object(x.jsx)(V,{exchange:e.exchange,selectedTicker:p.selectedTicker,prevSelectedTicker:p.prevSelectedTicker})})]})},X=function(e){var t=Object(c.useState)("buy"),a=Object(r.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)("sell"),l=Object(r.a)(i,2),o=l[0],d=l[1],h=function(e){console.log("onSelect",e),d("buy"==e?"sell":"buy"),s(e)};return Object(c.useEffect)((function(){}),[]),Object(x.jsx)("div",{className:"card",style:{float:"left",width:"29rem",marginRight:"10px"},children:Object(x.jsxs)("div",{style:{paddingLeft:"5px",paddingRight:"5px"},className:"card-body",children:[Object(x.jsxs)("h5",{className:"card-title",children:[e.exchange.name," "]}),Object(x.jsxs)(G.a,{defaultActiveKey:"buy",id:"buy-sell-tab-"+e.exchange.name,onSelect:h,className:"nav nav-pills nav-fill",children:[Object(x.jsx)(z.a,{className:"tab","data-toggle":"tab",eventKey:"buy",title:"Buy",tabClassName:""}),Object(x.jsx)(z.a,{className:"tab","data-toggle":"tab",eventKey:"sell",title:"Sell",tabClassName:""})]}),Object(x.jsx)(Q,{onTabSelect:h,prev:o,setTab:s,tab:n,exchange:e.exchange})]})})},Y=function(e){var t=s.a.useState({exchange:[],showModal:"none"}),a=Object(r.a)(t,2),n=a[0],i=a[1];Object(y.e)();console.log("ExchangeTradeList",n),Object(c.useEffect)((function(){return v.a.get("/api/exchange/").then((function(e){console.log("GET EX",e.data,n),i(Object(o.a)(Object(o.a)({},n),{},{exchange:e.data,showModal:"none"}))})).catch((function(e){console.log(e)})),function(){i({})}}),[]);var l=s.a.useState(!1),d=Object(r.a)(l,2),h=(d[0],d[1]),u=s.a.useState({}),b=Object(r.a)(u,2),m=(b[0],b[1],s.a.useState("Transitioning...")),j=Object(r.a)(m,2),g=(j[0],j[1]),p=s.a.useState(""),O=Object(r.a)(p,2),f=(O[0],O[1]),N=(s.a.useContext(ie).dispatch,function(e){h(!0),g(e.exchange.name)}),k=function(){h(!1),g("")};return void 0===n?null:Object(x.jsx)("div",{className:"container",style:{marginTop:"35px",width:"100%"},children:(console.log("ListEx",n),n.exchange.map((function(e,t){return console.log("DATA",e),Object(x.jsx)(X,{title:e.name,hideModal:k,setUrl:f,setTitle:g,showModal:N,setIsOpen:h,exchange:e},t)})))})},$=function(e){var t=s.a.useContext(ie);t.data,t.setData;return console.log("CONTEXT",e),Object(x.jsxs)("div",{className:"float-left",children:[Object(x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap  align-items-center pt-3 pb-0 mb-3 border-bottom",children:[Object(x.jsx)("h1",{className:"h2",children:"Dashboard "}),Object(x.jsxs)("div",{className:"btn-toolbar mb-2 mb-md-0",children:[Object(x.jsxs)("div",{className:"btn-group mr-2",children:[Object(x.jsx)("button",{className:"btn btn-sm btn-outline-secondary",children:"Share"}),Object(x.jsx)("button",{className:"btn btn-sm btn-outline-secondary",children:"Export"})]}),Object(x.jsxs)("button",{className:"btn btn-sm btn-outline-secondary dropdown-toggle",children:[Object(x.jsx)("span",{"data-feather":"calendar"}),"This week"]})]}),Object(x.jsx)("div",{className:"container",style:{marginTop:"35px",width:"100%"}})]}),Object(x.jsx)(Y,{})]})},Z=a(112),ee=function(e){Object(P.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(L.a)(n)),n.onChangeApiKey=n.onChangeApiKey.bind(Object(L.a)(n)),n.onChangeApiName=n.onChangeApiName.bind(Object(L.a)(n)),n.onChangeSecret=n.onChangeSecret.bind(Object(L.a)(n)),n.onSubmit=n.onSubmit.bind(Object(L.a)(n)),n.ex=JSON.parse(localStorage.getItem("exchanges")),n.thisExchange=n.ex.filter((function(t){return e.exchange.name===t.name})),n.thisExchange||(n.thisExchange=[{name:e.exchange.name,apiKey:"",apiName:"",secret:""}]),n.state={name:e.exchange.name,apiKey:n.thisExchange.length>0?n.thisExchange[0].apiKey:"",apiName:n.thisExchange.length>0?n.thisExchange[0].apiName:"",url:e.exchange.url,secret:n.thisExchange.length>0?n.thisExchange[0].secret:""},console.log("exchange",e.exchange),n}return Object(A.a)(a,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeApiKey",value:function(e){this.setState({apiKey:e.target.value})}},{key:"onChangeApiName",value:function(e){this.setState({apiName:e.target.value})}},{key:"onChangeUrl",value:function(e){this.setState({url:e.target.value})}},{key:"onChangeSecret",value:function(e){this.setState({secret:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Form submitted:",this.state.name);var a=this.ex.filter((function(e){return t.state.name!==e.name}));a.push({name:this.state.name,secret:this.state.secret,apiKey:this.state.apiKey,apiName:this.state.apiName}),localStorage.setItem("exchanges",JSON.stringify(a)),this.props.hideModal()}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"container",style:{marginTop:10},children:Object(x.jsxs)("form",{style:{width:"100%"},onSubmit:this.onSubmit,children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Name: "}),Object(x.jsx)("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onChangeName})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Url: "}),Object(x.jsx)("input",{type:"text",className:"form-control",value:this.state.url,onChange:this.onChangeUrl})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"API Name: "}),Object(x.jsx)("input",{type:"text",className:"form-control",value:this.state.apiName,onChange:this.onChangeApiName})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"API Key: "}),Object(x.jsx)("input",{type:"text",className:"form-control",value:this.state.apiKey,onChange:this.onChangeApiKey})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Secret: "}),Object(x.jsx)("input",{type:"text",className:"form-control",value:this.state.secret,onChange:this.onChangeSecret})]}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{type:"submit",value:"Save and Close",className:"btn btn-primary"})})]})})}}]),a}(c.Component),te=function(e){return Object(x.jsx)(Z.a,{show:e.isOpen,tabIndex:"-1",children:Object(x.jsx)("div",{style:{width:"400px"},className:"modal-dialog",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("h5",{className:"modal-title",children:e.title}),Object(x.jsx)("button",{type:"button",className:"close",onClick:e.hideModal,"aria-label":"Close",children:Object(x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsx)(ee,{hideModal:e.hideModal,exchange:e.exchange})}),Object(x.jsx)("div",{className:"modal-footer",children:Object(x.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:e.hideModal,children:"Close"})})]})})})},ae=function(e){return Object(x.jsx)("div",{className:"card",style:{float:"left",width:"14rem",marginRight:"10px",height:"204px"},children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("h5",{className:"card-title",children:[e.exchange.name," "]}),Object(x.jsx)("p",{className:"card-text"}),Object(x.jsx)(h.b,{className:"btn btn-primary",onClick:function(){return e.showModal(e)},to:"#",children:"Configure"})]})})},ne=function(){var e=s.a.useState({exchange:[]}),t=Object(r.a)(e,2),a=t[0],n=t[1];Object(y.e)();Object(c.useEffect)((function(){v.a.get("/api/exchange/").then((function(e){n(Object(o.a)(Object(o.a)({},a),{},{exchange:e.data,showModal:"none"}))})).catch((function(e){console.log(e)}))}),[]);var i=s.a.useState(!1),l=Object(r.a)(i,2),d=l[0],h=l[1],u=s.a.useState({}),b=Object(r.a)(u,2),m=b[0],j=b[1],g=s.a.useState("Transitioning..."),p=Object(r.a)(g,2),O=p[0],f=p[1],N=s.a.useState(""),k=Object(r.a)(N,2),T=k[0],S=k[1],w=(s.a.useContext(ie).dispatch,function(e){h(!0),f(e.exchange.name),j(e.exchange)}),C=function(){h(!1),f("")};return Object(x.jsxs)("div",{className:"container",style:{marginTop:"35px",width:"100%"},children:[a.exchange.map((function(e,t){return console.log("DATA",e),console.log("FFFF",a),Object(x.jsx)(ae,{title:e.name,hideModal:C,setUrl:S,setTitle:f,showModal:w,setIsOpen:h,exchange:e},t)})),Object(x.jsx)(te,{id:"exchangeModal",setExchange:j,exchange:m,title:O,url:T,setUrl:S,setTitle:f,isOpen:d,show:!0,hideModal:C,showModal:w,tabindex:"-1"})]})},ce=function(){var e=s.a.useContext(ie),t=e.state,a=(e.dispatch,Object(y.f)());return Object(x.jsx)("div",{className:"container-fluid",children:Object(x.jsxs)("div",{className:"row",children:[t.isAuthenticated&&"/register"!==a.pathname&&Object(x.jsx)("nav",{className:"col-md-2 d-none d-md-block eggplant sidebar",children:Object(x.jsx)("div",{className:"sidebar-sticky",children:Object(x.jsxs)("ul",{className:"nav flex-column",children:[t.isAuthenticated&&Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(h.b,{to:"/dashboard",className:"nav-link",children:"Dashboard"})}),t.isAuthenticated&&Object(x.jsx)("li",{className:"navbar-item",children:Object(x.jsx)(h.b,{to:"/exchanges",className:"nav-link",children:"Exchanges"})}),t.isAuthenticated&&Object(x.jsx)("li",{className:"navbar-item",children:Object(x.jsx)(h.b,{to:"/asset",className:"nav-link",children:"Assets"})}),t.isAuthenticated&&Object(x.jsx)("li",{className:"navbar-item",children:Object(x.jsx)(h.b,{to:"/create",className:"nav-link",children:"Create Asset"})}),t.isAuthenticated&&Object(x.jsx)("li",{className:"navbar-item",children:Object(x.jsx)(h.b,{to:"/edit",className:"nav-link",children:"Edit Asset"})})]})})}),Object(x.jsxs)("main",{role:"main",style:{margingLeft:"unset"},className:"col-md-9 ml-sm-auto col-lg-10 px-4",children:[Object(x.jsx)(y.a,{path:"/dashboard",exact:!0,component:$}),Object(x.jsx)(y.a,{path:"/asset",exact:!0,component:w}),Object(x.jsx)(y.a,{path:"/exchanges",exact:!0,component:ne}),Object(x.jsx)(y.a,{path:"/edit",component:C}),Object(x.jsx)(y.a,{path:"/create",component:B}),Object(x.jsx)(y.a,{path:"/login",component:k}),Object(x.jsx)(y.a,{path:"/register",component:R})]})]})})},se=a(367),ie=s.a.createContext(),le={isAuthenticated:!1,username:null,token:null,message:null,alerts:[],onTabSelect:{},prev:"",setTab:{},tab:"",selectedTicker:"",exchange:[]},re=(n={onTabSelect:{},prev:"",setTab:{},tab:"",selectedTicker:"",exchange:[],name:"",apiKey:"",secret:"",url:"",asks:[],bids:[],prevSelectedTicker:"",tickerEndpoint:""},Object(d.a)(n,"secret",""),Object(d.a)(n,"price",""),Object(d.a)(n,"qty",""),Object(d.a)(n,"amount",""),Object(d.a)(n,"wallet",[]),n),oe=function(e,t){switch(t.type){case j:localStorage.setItem("username",t.payload.username),localStorage.setItem("token",t.payload.token);var a=!!localStorage.getItem("exchanges")&&localStorage.getItem("exchanges");return console.log("exchanges",a),!1===a&&localStorage.setItem("exchanges",JSON.stringify([])),Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!0,username:t.payload.username,token:t.payload.token});case u:return e.alerts.push({message:t.payload.message,alertType:t.payload.alertType,timeout:t.payload.timeout,id:Object(se.a)()}),Object(o.a)(Object(o.a)({},e),{},{message:t.payload.message,alerts:e.alerts});case b:return e.alerts=[],e.alerts.push({message:t.payload.message,alertType:t.payload.alertType,timeout:t.payload.timeout,id:Object(se.a)()}),Object(o.a)(Object(o.a)({},e),{},{message:t.payload.message,alerts:e.alerts});case m:return Object(o.a)(Object(o.a)({},e),{},{message:"",alerts:e.alerts.filter((function(e){return e.id!==t.payload}))});case g:return localStorage.setItem("token",""),Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!1,username:null});default:return e}};var de=function(){var e=s.a.useReducer(oe,le),t=Object(r.a)(e,2),a=t[0],n=t[1],c=s.a.useState(re),i=Object(r.a)(c,2),l=i[0],o=i[1];return Object(x.jsx)(ie.Provider,{value:{state:a,dispatch:n,data:l,setData:o},children:Object(x.jsx)(h.a,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(O,{}),Object(x.jsx)(N,{}),Object(x.jsx)(ce,{}),Object(x.jsx)("br",{})]})})})},he=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,368)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(x.jsx)(de,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),he()},46:function(e,t,a){"use strict";a.r(t),function(e){var t=a(33),n=a(34),c=function(){function e(a){Object(t.a)(this,e),this.name=a}return Object(n.a)(e,[{key:"getStream",value:function(e,t,a){if("Bitmart"===this.name){var n=a.length,c="";return c=parseFloat(a[n-1])>parseFloat(e.last_price)?"text-danger":parseFloat(a[n-1])<parseFloat(e.last_price)?"text-success":"",{lastPrice:e.last_price,high24hr:e.high_24h,low24hr:e.low_24h,open24hr:e.open_24h,volume24hr:e.base_volume_24h.split(".")[0],priceStyle:c,prevPrice:a[n-1],baseAsset:t.replace(/.*_/g,"")}}if("Binance"===this.name){n=a.length,c="";return c=parseFloat(a[n-1])>parseFloat(e.c)?"text-danger":parseFloat(a[n-1])<parseFloat(e.c)?"text-success":"",{lastPrice:e.c,high24hr:e.h,low24hr:e.l,open24hr:e.o,volume24hr:void 0!==e.v?e.v.split(".")[0]:"",priceStyle:c,prevPrice:a[n-1],baseAsset:t.replace(/.*_/g,"")}}}}]),e}();e.exports=c}.call(this,a(256)(e))}},[[362,1,2]]]);
//# sourceMappingURL=main.963afccc.chunk.js.map