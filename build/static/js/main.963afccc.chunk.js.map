{"version":3,"sources":["components/assets/websocket.js","components/assets/depth.websocket.js","components/assets/trade.websocket.js","components/types.js","logo.svg","components/alert.component.js","components/nav.component.js","components/login.component.js","components/asset-list.component.js","components/edit-asset.component.js","components/create-asset.component.js","components/register.component.js","components/assets/ticker.select.component.js","components/assets/spot.component.js","components/assets/depth.component.js","components/assets/technicals.component.js","components/assets/wallet.component.js","components/assets/trade.component.js","components/exchange.tradeForm.component.js","components/exchange.trade.component.js","components/dashboard.component.js","components/exchange.component.js","components/modal-exchange.component.js","components/exchanges.component.js","components/sidebar.component.js","App.js","reportWebVitals.js","serviceWorker.js","index.js","components/assets/transformer.js"],"names":["zlib","require","RobustWebSocket","_transform","WebSocketConnection","props","setData","data","msg","obj","Object","create","protoMethods","client","getClient","url","exchange","name","selectedTicker","replace","toLowerCase","this","timeout","shouldReconnect","event","ws","console","log","code","attempts","automaticOpen","ignoreConnectivityEvents","binaryType","addEventListener","length","send","prevPrices","Blob","transformer","stream","getReader","read","then","done","value","b","Buffer","from","inflateRaw","flush","info","err","buffer","json","JSON","parse","toString","newState","getStream","push","lastPrice","splice","newData","e","high24hr","low24hr","open24hr","volume24hr","priceStyle","prevPrice","DepthWebSocketConnection","asks","bids","TradeWebSocketConnection","m","stringify","SET_ALERT","SET_ALERT_OVERWRITE","REMOVE_ALERT","LOGIN","LOGOUT","Alert","aid","React","useContext","AuthContext","state","dispatch","alerts","filter","alert","message","map","i","alertType","id","setTimeout","type","payload","className","aria-live","aria-atomic","style","position","top","right","minHeight","width","zIndex","height","src","logo","alt","onClick","data-dismiss","aria-label","aria-hidden","Nav","history","useHistory","href","target","rel","to","isAuthenticated","localStorage","setItem","axios","defaults","headers","common","isloggedin","Login","useState","username","password","isSubmitting","errorMessage","navigator","onLine","online","isOnline","setOnline","setOffline","useEffect","window","removeEventListener","search","location","URLSearchParams","get","marginTop","onSubmit","preventDefault","newLogin","post","res","token","baseURL","isLoggedIn","autoComplete","onChange","disabled","Asset","asset","pair","price","amount","_id","onDelete","delete","AssetList","response","catch","error","currentAsset","EditAsset","CreateAsset","onChangePair","bind","onChangePrice","onChangeAmount","setState","newAsset","redirectTo","Component","Register","onChangeUsername","onChangePassword","newRegistration","TickerSelect","options","onFocus","Spot","intervalId","setIntervalId","thisExchange","getItem","apiKey","secret","prevSelectedTicker","tickerEndpoint","undefined","iid","setInterval","readyState","clearInterval","close","marginBottom","innerText","paddingLeft","paddingTop","baseAsset","color","Depth","onPriceClick","listStyleType","index","whiteSpace","Technicals","Wallet","wallet","avail","currency","frozen","tab","ticker","account","available","setAmount","Math","round","Trade","exchanges","exchanged","key","apiName","timestamp","Date","now","signature","createHmac","update","digest","ExchangeTradeForm","orderType","setOrderType","ex","initalState","tickers","qty","setWallet","result","label","clearTicker","clearAmount","parseFloat","toFixed","onChangeQty","marginLeft","marginRight","class","sellAsset","Tabs","onSelect","k","defaultActiveKey","Tab","eventKey","title","placeholder","display","Exchange","setKey","prev","setPrev","float","paddingRight","data-toggle","tabClassName","onTabSelect","setTab","ExchangeTradeList","showModal","setIsOpen","setTitle","setUrl","hideModal","currentExchange","Dashboard","data-feather","ExchangeForm","onChangeName","onChangeApiKey","onChangeApiName","onChangeSecret","onChangeUrl","ModalExchange","Modal","show","isOpen","tabIndex","ExchangeList","setExchange","tabindex","Sidebar","useLocation","pathname","role","margingLeft","path","exact","component","Exchanges","createContext","initialState","initalData","reducer","action","ls","uuid","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Boolean","hostname","match","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister","Transformer","exchangeName","symbol","len","last_price","high_24h","low_24h","open_24h","base_volume_24h","split","c","h","l","o","v","module","exports"],"mappings":"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","file":"static/js/main.963afccc.chunk.js","sourcesContent":["const zlib = require(\"zlib\");\nconst RobustWebSocket = require('robust-websocket');\nconst _transform = require('./transformer')\n//const prevPrice = '0.00';\nexport default  function WebSocketConnection(props, setData, data, msg) {\n\nconst obj = Object.create(protoMethods);\n obj.client = {};\n //obj.msg = msg;\n return obj.getClient(props,setData,data, msg);\n\n}\n    //console.log('Previous Ticker', localStorage.getItem('selectedTicker'), this.props.selectedTicker);\n const protoMethods = {\n    getClient: function(props, setData, data, msg){\n        let url=''\n        if(props.exchange.name == 'Binance'){\n            url = 'wss://stream.binance.com:9443/ws/'+props.selectedTicker.replace(/_/g,\"\").toLowerCase()+'@miniTicker';\n        } else {\n            url = 'wss://ws-manager-compress.bitmart.com?protocol=1.1'\n        }\n\n    this.client = new RobustWebSocket(url, null, {\n                // The number of milliseconds to wait before a connection is considered to have timed out. Defaults to 4 seconds.\n                timeout: 4000,\n                // A function that given a CloseEvent or an online event (https://developer.mozilla.org/en-US/docs/Online_and_offline_events) and the `RobustWebSocket`,\n                // will return the number of milliseconds to wait to reconnect, or a non-Number to not reconnect.\n                // see below for more examples; below is the default functionality.\n                shouldReconnect: function(event, ws) {\n                    console.log('Reconnecting', event,ws, url)\n                    if (event.code === 1008 || event.code === 1011) return\n                    return [0, 3000, 10000][ws.attempts]\n                },\n                // A boolean indicating whether or not to open the connection automatically. Defaults to true, matching native [WebSocket] behavior.\n                // You can open the websocket by calling `open()` when you are ready. You can close and re-open the RobustWebSocket instance as much as you wish.\n                automaticOpen: true,\n                // A boolean indicating whether to disable subscribing to the connectivity events provided by the browser.\n                // By default RobustWebSocket instances use connectivity events to avoid triggering reconnection when the browser is offline. This flag is provided in the unlikely event of cases where this may not be desired.\n                ignoreConnectivityEvents: false\n                })\n        this.client.binaryType='blob'; \n        this.client.addEventListener('open', function(event) {\n         console.log('WebSocket Client Connected');\n         if(msg.length > 0 && props.exchange.name == 'Bitmart'){\n            this.send(msg);\n         }\n        // let iid2 = setInterval(() =>{\n        //     //console.log('READYSTATE1',client['Bitmart'].readyState)\n        //     if(props.exchange.name == 'Bitmart'){\n        //         console.log('PINGING:','ping')\n        //         this.send('ping');\n        //         //client['Bitmart'].send(msg);\n        //     } \n        // }, 10000);\n\n        })\n        var prevPrices = [];\n        this.client.addEventListener('message', function(event) {\n\n        //console.log('we got: ' + event.data)\n        if(msg.length > 0){\n            //client.send(msg);\n        }\n        // var newState;\n             if(event.data instanceof Blob) {\n        let transformer = new _transform(props.exchange.name);\n        //console.log(event.data)\n        const stream = event.data.stream();\n        const reader = stream.getReader();\n        reader.read().then(({ done, value }) => {\n            if(done){\n                \n            } else {\n                var b = Buffer.from(value)\n                \n                zlib.inflateRaw(b,{flush: 3, info: true}, (err, buffer) => {\n                var json = JSON.parse(buffer.toString('UTF-8'))\n\n                //let prevPrice = this.prevPrice;\n\n                let newState = transformer.getStream(json.data[0],props.selectedTicker,prevPrices);\n                 \n                setData({\n                    ...data,\n                    ...newState\n                })\n                prevPrices.push(newState.lastPrice );\n\n                if(prevPrices.length > 2){\n                    prevPrices.splice(0,1);\n                }\n                //console.log('Text Frame Bitmart');\n                //console.log(err,json.data[0]);\n                }); \n            }  \n        })\n        \n        } else {\n            // text frame\n\n            if(event.data == 'pong' || event.data == 'ping' ){\n                //client.send(\"ping\")\n                return;\n            }\n            //console.log('PROPS', props);\n            let transformer = new _transform(props.exchange.name);\n            try {\n                let json = JSON.parse(event.data);\n                \n                let newData = transformer.getStream(json, props.selectedTicker, prevPrices);\n                setData({\n                    ...data,\n                    ...newData\n                })\n            prevPrices.push(newData.lastPrice );\n\n            if(prevPrices.length > 2){\n                prevPrices.splice(0,1);\n            }\n\n            } catch(e){\n                console.log(e);\n            }\n\n        \n            \n            //console.log('Text Frame Binance',);\n        }\n        })\n\n        this.client.addEventListener('close', function(event) {\n            prevPrices = [];\n            \n            setData({\n                high24hr: '',\n                low24hr: '',\n                open24hr: '',\n                volume24hr: '',\n                lastPrice:'',\n                priceStyle:'' ,\n                prevPrice:'0.00' \n            });\n            if(event.data === undefined){\n                return;\n            }\n        //console.log('we got: ' + event.data)\n        })\n\n        return (this.client);\n     }\n    }   \n","const zlib = require(\"zlib\");\nconst RobustWebSocket = require('robust-websocket');\nconst _transform = require('./transformer')\n//const prevPrice = '0.00';\nexport default  function DepthWebSocketConnection(props, setData, data, msg) {\n\nconst obj = Object.create(protoMethods);\n obj.client = {};\n //obj.msg = msg;\n return obj.getClient(props,setData,data, msg);\n\n}\n    //console.log('Previous Ticker', localStorage.getItem('selectedTicker'), this.props.selectedTicker);\n const protoMethods = {\n    getClient: function(props, setData, data, msg){\n        let url=''\n        if(props.exchange.name == 'Binance'){\n            url = 'wss://stream.binance.com:9443/ws/'+props.selectedTicker.replace(/_/g,\"\").toLowerCase()+'@depth5@100ms';\n        } else {\n            url = 'wss://ws-manager-compress.bitmart.com?protocol=1.1'\n        }\n\n    this.client = new RobustWebSocket(url, null, {\n                // The number of milliseconds to wait before a connection is considered to have timed out. Defaults to 4 seconds.\n                timeout: 4000,\n                // A function that given a CloseEvent or an online event (https://developer.mozilla.org/en-US/docs/Online_and_offline_events) and the `RobustWebSocket`,\n                // will return the number of milliseconds to wait to reconnect, or a non-Number to not reconnect.\n                // see below for more examples; below is the default functionality.\n                shouldReconnect: function(event, ws) {\n                    console.log('Reconnecting')\n                    if (event.code === 1008 || event.code === 1011) return\n                    return [0, 3000, 10000][ws.attempts]\n                },\n                // A boolean indicating whether or not to open the connection automatically. Defaults to true, matching native [WebSocket] behavior.\n                // You can open the websocket by calling `open()` when you are ready. You can close and re-open the RobustWebSocket instance as much as you wish.\n                automaticOpen: true,\n                // A boolean indicating whether to disable subscribing to the connectivity events provided by the browser.\n                // By default RobustWebSocket instances use connectivity events to avoid triggering reconnection when the browser is offline. This flag is provided in the unlikely event of cases where this may not be desired.\n                ignoreConnectivityEvents: false\n                })\n        this.client.binaryType='blob'; \n        this.client.addEventListener('open', function(event) {\n         console.log('WebSocket Client Connected');\n         if(msg.length > 0 && props.exchange.name == 'Bitmart'){\n            this.send(msg);\n        }\n        // let iid2 = setInterval(() =>{\n        //     //console.log('READYSTATE1',client['Bitmart'].readyState)\n        //     if(props.exchange.name == 'Bitmart'){\n        //         console.log('PINGING:','ping')\n        //         this.send('ping');\n        //         //client['Bitmart'].send(msg);\n        //     } \n        // }, 15000);\n        })\n        var prevPrices = [];\n        this.client.addEventListener('message', function(event) {\n\n        //console.log('we got: ' + event.data)\n        if(msg.length > 0){\n            //this.client.send(msg);\n        }\n        // var newState;\n             if(event.data instanceof Blob) {\n        //let transformer = new _transform(props.exchange.name);\n        //console.log(event.data)\n        const stream = event.data.stream();\n        const reader = stream.getReader();\n        reader.read().then(({ done, value }) => {\n            if(done){\n                \n            } else {\n                var b = Buffer.from(value)\n                \n                zlib.inflateRaw(b,{flush: 3, info: true}, (err, buffer) => {\n                var json = JSON.parse(buffer.toString('UTF-8'))\n\n                //let prevPrice = this.prevPrice;\n\n                //let newState = transformer.getStream(json.data[0],props.selectedTicker,prevPrices);\n                let newState = json.data[0];\n                setData({\n                    ...data,\n                    ...newState\n                })\n                // prevPrices.push(newState.lastPrice );\n\n                // if(prevPrices.length > 2){\n                //     prevPrices.splice(0,1);\n                // }\n                //console.log('Text Frame Bitmart');\n                //console.log(err,json.data[0]);\n                }); \n            }  \n        })\n        \n        } else {\n            // text frame\n\n            if(event.data == 'pong' || event.data == 'ping' ){\n                //client.send(\"ping\")\n                return;\n            }\n            \n            //let transformer = new _transform(props.exchange.name);\n            try {\n                let json = JSON.parse(event.data);\n                \n                //let newData = transformer.getStream(json, props.selectedTicker, prevPrices);\n                let newData = json;\n                setData({\n                    ...data,\n                    ...newData\n                })\n            //prevPrices.push(newData.lastPrice );\n\n            // if(prevPrices.length > 2){\n            //     prevPrices.splice(0,1);\n            // }\n\n            } catch(e){\n                console.log(e);\n            }\n\n        \n            \n            //console.log('Text Frame Binance',);\n        }\n        })\n\n        this.client.addEventListener('close', function(event) {\n            //prevPrices = [];\n            setData({\n                asks: [],\n                bids: []\n            });\n            if(event.data === undefined){\n                return;\n            }\n        //console.log('we got: ' + event.data)\n        })\n\n        return (this.client);\n     }\n    }   \n","const zlib = require(\"zlib\");\nconst RobustWebSocket = require('robust-websocket');\nconst _transform = require('./transformer')\n//const prevPrice = '0.00';\nexport default  function TradeWebSocketConnection(props, setData, data, msg) {\n\nconst obj = Object.create(protoMethods);\n obj.client = {};\n //obj.msg = msg;\n return obj.getClient(props,setData,data, msg);\n\n}\n    //console.log('Previous Ticker', localStorage.getItem('selectedTicker'), this.props.selectedTicker);\n const protoMethods = {\n    getClient: function(props, setData, data, msg){\n        let url=''\n        if(props.exchange.name == 'Binance'){\n            url = 'wss://stream.binance.com:9443/ws/'+props.selectedTicker.replace(/_/g,\"\").toLowerCase()+'@trade';\n        } else {\n            url = 'wss://ws-manager-compress.bitmart.com?protocol=1.1'\n        }\n\n    this.client = new RobustWebSocket(url, null, {\n                // The number of milliseconds to wait before a connection is considered to have timed out. Defaults to 4 seconds.\n                timeout: 4000,\n                // A function that given a CloseEvent or an online event (https://developer.mozilla.org/en-US/docs/Online_and_offline_events) and the `RobustWebSocket`,\n                // will return the number of milliseconds to wait to reconnect, or a non-Number to not reconnect.\n                // see below for more examples; below is the default functionality.\n                shouldReconnect: function(event, ws) {\n                    console.log('Reconnecting')\n                    if (event.code === 1008 || event.code === 1011) return\n                    return [0, 3000, 10000][ws.attempts]\n                },\n                // A boolean indicating whether or not to open the connection automatically. Defaults to true, matching native [WebSocket] behavior.\n                // You can open the websocket by calling `open()` when you are ready. You can close and re-open the RobustWebSocket instance as much as you wish.\n                automaticOpen: true,\n                // A boolean indicating whether to disable subscribing to the connectivity events provided by the browser.\n                // By default RobustWebSocket instances use connectivity events to avoid triggering reconnection when the browser is offline. This flag is provided in the unlikely event of cases where this may not be desired.\n                ignoreConnectivityEvents: false\n                })\n        this.client.binaryType='blob'; \n        this.client.addEventListener('open', function(event) {\n         console.log('WebSocket Client Connected');\n        if(msg.length > 0 && props.exchange.name == 'Bitmart'){\n            this.send(msg);\n        }\n        // let iid2 = setInterval(() =>{\n        //     //console.log('READYSTATE1',client['Bitmart'].readyState)\n        //     if(props.exchange.name == 'Bitmart'){\n        //         console.log('PINGING:','ping')\n        //         this.send('ping');\n        //         //client['Bitmart'].send(msg);\n        //     } \n        // }, 15000);\n        })\n        var prevPrices = [];\n        this.client.addEventListener('message', function(event) {\n\n        \n        let m = event.data\n        console.log('we got: ' , m)\n        if(m  == '{\"event\":\"login\"}'){\n            msg = JSON.stringify({\"op\": \"subscribe\", \"args\":[\"spot/user/order:\"+props.selectedTicker]});\n            //msg = JSON.stringify({\"op\": \"subscribe\", \"args\":[\"spot/user/order:SHIB_USDT\"]});\n            this.send(msg);\n           \n        }\n        // var newState;\n        let newData = [] ;\n             if(event.data instanceof Blob) {\n        //let transformer = new _transform(props.exchange.name);\n        //console.log(event.data)\n        const stream = event.data.stream();\n        const reader = stream.getReader();\n        reader.read().then(({ done, value }) => {\n            if(done){\n                \n            } else {\n                var b = Buffer.from(value)\n                \n                zlib.inflateRaw(b,{flush: 3, info: true}, (err, buffer) => {\n\n                var json = JSON.parse(buffer.toString('UTF-8'))\n\n                //let prevPrice = this.prevPrice;\n                console.log('TRDATA',json.data);\n                //let newState = transformer.getStream(json.data[0],props.selectedTicker,prevPrices);\n                if(json.data.length > 0){\n                    newData.push(json.data[0]);\n                    setData({\n                        ...data,\n                        newData\n                    })\n                }\n                \n               \n                \n                // prevPrices.push(newState.lastPrice );\n\n                // if(prevPrices.length > 2){\n                //     prevPrices.splice(0,1);\n                // }\n                //console.log('Text Frame Bitmart');\n                //console.log(err,json.data[0]);\n                }); \n            }  \n        })\n        \n        } else {\n            // text frame\n\n            if(event.data == 'pong' || event.data == 'ping' ){\n                //client.send(\"ping\")\n                return;\n            }\n            \n            //let transformer = new _transform(props.exchange.name);\n            try {\n                let json = JSON.parse(event.data);\n                \n                //let newData = transformer.getStream(json, props.selectedTicker, prevPrices);\n                \n                // newData.push(json.data[0])\n                // setData({\n                //     ...data,\n                //     ...newData\n                // })\n            //prevPrices.push(newData.lastPrice );\n\n            // if(prevPrices.length > 2){\n            //     prevPrices.splice(0,1);\n            // }\n\n            } catch(e){\n                console.log(e);\n            }\n\n        \n            \n            //console.log('Text Frame Binance',);\n        }\n        })\n\n        this.client.addEventListener('close', function(event) {\n            //prevPrices = [];\n            setData({\n                asks: [],\n                bids: []\n            });\n            if(event.data === undefined){\n                return;\n            }\n        //console.log('we got: ' + event.data)\n        })\n\n        return (this.client);\n     }\n    }   \n","export const SET_ALERT =  'SET_ALERT';\nexport const SET_ALERT_OVERWRITE =  'SET_ALERT_OVERWRITE';\nexport const REMOVE_ALERT = 'REMOVE_ALERT';\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\n\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react';\nimport { AuthContext } from '../App';\nimport { REMOVE_ALERT} from './types';\nimport logo from \"../logo.svg\";\n\nconst Alert = () => {\n    const { state, dispatch } = React.useContext(AuthContext);  \n    const alerts = state.alerts;\n    const onClose = (e, id) => {\n        console.log(id);\n        //document.getElementById(id).a\n        dispatch({ type: REMOVE_ALERT, payload: id})\n        //e.target.parent.toast('hide');\n    }\n    if(typeof alerts !== 'undefined' && alerts !== null && alerts.length > 0){\n        let alertsList,als, aid;\n        \n        alertsList = alerts.filter(alert => alert.message !== 'null').map((alert,i) => {\n            \n            als = 'alert alert-'+alert.alertType;\n            aid = alert.id;\n            setTimeout(() => dispatch({ type: REMOVE_ALERT, payload: alert.id}), alert.timeout);\n            // return (\n            //     alert.id && <div className='alert' key={aid} className={als} role='alert'>{alert.message}</div>\n            // )\n            return (\n                alert.id && <div key={alert.id} className='' aria-live='polite' aria-atomic='true' style={{position: 'absolute', top:'150px', right: '500px', minHeight:'200px', width:'200px',zIndex:1000}}>\n                <div id={aid} className='toast fade show'>\n                    <div className='toast-header'>\n                    <img style={{width:30, height:30}} src={logo} className='rounded mr-2' alt='...' />\n                    <strong className='mr-auto'>System</strong>\n                    \n                    <button type='button' onClick={ (e) => onClose(e,aid)} className='ml-2 mb-1 close' data-dismiss='toast' aria-label='Close'>\n                        <span aria-hidden='true'>&times;</span>\n                    </button>\n                    </div>\n                    <div className='toast-body'>\n                    {alert.message}\n                    \n                </div>\n                </div>\n                </div>\n            )\n\n\n            \n        });\n        \n        return alertsList;\n    } else {\n        return null;\n    }\n    \n};\n\n\nexport default Alert;\n\n\n","import React from \"react\";\nimport { AuthContext } from \"../App\";\nimport logo from \"../logo.svg\";\nimport {  Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n//import Alert from \"./alert.component\";\nimport axios from 'axios';\nimport { useHistory } from \"react-router\";\nimport { LOGOUT, SET_ALERT_OVERWRITE, SET_ALERT} from './types';\n\nexport const Nav = () => {\n  const { state, dispatch } = React.useContext(AuthContext);\n  const history = useHistory();\n  const onLogout = e => {      \n    console.log('Logout');\n    localStorage.setItem('token', null);\n    \n    axios.defaults.headers.common['Authorization'] = null;\n    dispatch({\n        type: LOGOUT\n    })\n    dispatch({\n        type: SET_ALERT_OVERWRITE,\n        payload: {  message:'Logout Successful', alertType: 'success', timeout:3000}\n    })\n    history.push(\"/login\");\n }\n  return (\n    <div>\n    \n          <nav className=\"navbar navbar-expand-sm navbar-dark bg-dark\">\n            <div className=\"\">\n            <div className=\"pull-left\">\n            <a className=\"navbar-brand\" href=\"https://codingthesmartway.com\" target=\"_blank\" rel=\"noreferrer\">\n              <img src={logo} width=\"30\" height=\"30\" alt=\"CodingTheSmartWay.com\" />\n            </a>\n            <Link to=\"/dashboard\" className=\"navbar-brand\">Order Desk</Link>\n            </div>\n            <div className=\"pull-right\">\n              <ul className=\"navbar-nav navbar-right pull-right mr-auto\">\n              \n                \n                {\n                  !state.isAuthenticated ?  <li className=\"navbar-item pull-right\">\n                  <Link to=\"/login\" isloggedin=\"true\" className=\"nav-link\">Login </Link>\n                </li> : <li className=\"navbar-item pull-right\">\n                <Link to=\"/login\" onClick={onLogout} className=\"nav-link\">Log Out</Link>\n                </li>\n                }\n                <li className=\"navbar-item\">\n                  <Link to=\"/register\" className=\"nav-link\">Register</Link>\n                </li>\n              </ul>\n            </div>\n            </div>\n          </nav>\n          \n          </div>\n          \n  );\n};\n\nexport default Nav;\n\n\n\n","import React , {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport { useHistory } from \"react-router\";\nimport {SET_ALERT_OVERWRITE, SET_ALERT, LOGIN} from './types';\n\nimport { AuthContext } from \"../App\";\n\nexport const Login = () => {\n    const { dispatch } = React.useContext(AuthContext);\n    const initialState = {\n        username: \"\",\n        password: \"\",\n        isSubmitting: false,\n        errorMessage: null\n      };\n      //localStorage.clear();\n      const [data, setData] = React.useState(initialState);\n      let history = useHistory();\n      let [online, isOnline] = useState(navigator.onLine);\n      const setOnline = () => {\n          console.log('We are online!');\n          let online=true;\n          isOnline(true);\n      };\n      const setOffline = () => {\n          console.log('We are offline!');\n          //props.selectedTicker='';\n          //props.clearTicker();\n          let online=false;\n          isOnline(false);\n      };\n\n    const onChangeUsername = e => {\n\n        setData({\n            ...data,\n            username: e.target.value\n          });\n    }\n\n    const onChangePassword = e => {\n        setData({\n            ...data,\n            password: e.target.value\n        });\n    }\n\n    useEffect(() => {\n        window.addEventListener('offline', setOffline);\n        window.addEventListener('online', setOnline);\n        return () => {\n\n            window.removeEventListener('offline', setOffline);\n            window.removeEventListener('online', setOnline);\n        }\n    },[]);\n    const onSubmit = e => {\n        e.preventDefault();\n        //const history = useHistory();\n        setData({\n            ...data,\n            isSubmitting: true,\n            errorMessage: null\n          });\n        console.log(`Form submitted:`);\n         \n        const newLogin = {\n            username: data.username,\n            password: data.password\n        };\n        \n        \n        axios.post('/api/auth/signin', newLogin)\n            .then(res => {\n                console.log(res.data);\n                \n                localStorage.setItem('token', res.data.token);\n                \n                axios.defaults.headers.common['Authorization'] = res.data.token;\n                axios.defaults.baseURL='';\n                dispatch({\n                    type: LOGIN,\n                    payload: res.data\n                })\n                dispatch({\n                    type: SET_ALERT,\n                    payload: {  message:'Login Successful', alertType: 'success', timeout:3000}\n                })\n                \n                history.push(\"/exchanges\");\n                \n            });\n            \n\n\n        setData({\n            ...data,\n            username: '',\n            password: '',\n            isLoggedIn: true\n        })\n    }\n    const search = window.location.search;\n    const params = new URLSearchParams(search);\n    const offline = params.get('offline');\n    if( offline === true ){\n        online = false;\n    } else{\n        if(online === false){\n            online = false;\n        } else {\n            online = true;\n        }\n    }\n    \n    return (\n        <div className=\"container\" style={{marginTop: 10}}>\n            <h3>Login</h3>\n            <form onSubmit={onSubmit}>\n                <div className=\"form-group\"> \n                    <label>User Name: </label>\n                    <input  type=\"text\"\n                            className=\"form-control\"\n                            autoComplete=\"username\"\n                            value={data.username}\n                            onChange={onChangeUsername}\n                            />\n                </div>\n                <div className=\"form-group\">\n                    <label>Password: </label>\n                    <input \n                            type=\"password\" \n                            className=\"form-control\"\n                            value={data.password}\n                            autoComplete=\"current-password\"\n                            onChange={onChangePassword}\n                            />\n                </div>\n                \n\n                <div className=\"form-group\">\n                    <input type=\"submit\" disabled={online ? false : true} value={online ? 'Login' : 'Offline'} className=\"btn btn-primary\" />\n                </div>\n            </form>\n        </div>\n    )\n    \n}\n\n\n\n  export default Login;","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useHistory } from \"react-router\";\nimport {SET_ALERT_OVERWRITE} from './types';\nimport { AuthContext } from \"../App\";\n\n const Asset  = props => (\n\n    <tr>\n        <td>{props.asset.pair}</td>\n        <td>{props.asset.price}</td>\n        <td>{props.asset.amount}</td>\n        <td>\n            <Link to={\"/edit/\"+props.asset._id}>Edit</Link>\n            &nbsp;\n            <Link id={props.asset._id} asset={props.asset} onClick={onDelete} to={\"/asset/\"}>Delete</Link>\n        </td>\n    </tr>\n)\n\nconst onDelete = e => {\n    \n    console.log(e.target.asset)\n    axios.delete( 'http://localhost:4000/asset/delete/'+e.target.id)\n    .then(res => {\n        console.log(res.data);\n        \n        // dispatch({\n        //     type: SET_ALERT_OVERWRITE,\n        //     payload: {  message:'Login Successful', alertType: 'success', timeout:10000}\n        // })\n        // dispatch({\n        //     type: SET_ALERT_OVERWRITE,\n        //     payload: {  message:'Login Successful', alertType: 'success', timeout:10000}\n        // })\n        //let history = useHistory();\n       //history.push(\"/asset\");\n        \n    });\n} \n\n\nconst AssetList = () => {\n//export default className AssetList extends Component {\n\n    // constructor(props) {\n    //     super(props);\n    //     this.state = {asset: []};\n    // }\n    const { dispatch } = React.useContext(AuthContext);\n\n    const initialState = {\n        asset: []\n      };\n\n    const [data, setData] = React.useState(initialState);\n      let history = useHistory();\n\n\n\n    //useEffect(() => {\n        useEffect(() => {\n           \n        axios.get('http://localhost:4000/asset/')\n            .then(response => {\n                //this.setState({ asset: response.data });\n                setData({\n                    ...data,\n                    asset: response.data\n                  });\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n        }, []);\n    //});\n    // componentDidMount() {\n        // axios.get('http://localhost:4000/asset/')\n        //     .then(response => {\n        //         this.setState({ asset: response.data });\n        //     })\n        //     .catch(function (error){\n        //         console.log(error);\n        //     })\n    // }\n    const listAssets = () => {\n    //assetList() {\n        return data.asset.map(function(currentAsset, i){\n            return <Asset asset={currentAsset} key={i} />;\n        })\n    }\n\n          \n        return (\n            <div>\n                <h3>Assets</h3>\n                <table className=\"table table-striped\" style={{ marginTop: 20 }} >\n                    <thead>\n                        <tr>\n                            <th>Pair</th>\n                            <th>Price</th>\n                            <th>Amount</th>\n                            <th>Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        { listAssets() }\n                    </tbody>\n                </table>\n            </div>\n        )\n\n}\nexport default AssetList;","import React, {useEffect} from 'react';\nimport { REMOVE_ALERT, SET_ALERT } from \"../components/types\";\nimport { AuthContext } from \"../App\";\n\n const EditAsset = (props) => { \n\n\n    const { state, dispatch } = React.useContext(AuthContext);  \n     \n    useEffect(() => {\n    // dispatch({\n    //     type: SET_ALERT,\n    //     payload: msg\n    // })\n    }, []);\n\n        return (\n            <div>\n                <p>Welcome to Edit Asset Component!!</p>\n                \n            </div>\n            \n        )\n\n}\n\nexport default EditAsset","import React, { Component } from 'react';\nimport axios from 'axios';\n\nexport default class CreateAsset extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.onChangePair = this.onChangePair.bind(this);\n        this.onChangePrice = this.onChangePrice.bind(this);\n        this.onChangeAmount = this.onChangeAmount.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n\n        this.state = {\n            pair: '',\n            price: '',\n            amount: '',\n            //todo_completed: false\n        }\n    }\n\n    onChangePair(e) {\n        this.setState({\n            pair: e.target.value\n        });\n    }\n\n    onChangePrice(e) {\n        this.setState({\n            price: e.target.value\n        });\n    }\n\n    onChangeAmount(e) {\n        this.setState({\n            amount: e.target.value\n        });\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        \n        console.log(`Form submitted:`, this.state);\n        console.log(`Pair: ${this.state.pair}`);\n        console.log(`Price: ${this.state.price}`);\n        console.log(`Amount: ${this.state.amount}`);\n        \n\n        const newAsset = {\n            pair: this.state.pair,\n            price: this.state.price,\n            amount: this.state.amount,\n            //todo_completed: this.state.todo_completed\n        };\n\n        axios.post('/api/asset/add', newAsset)\n\n            .then(res => {\n                console.log(res.data);\n                this.setState({\n                    redirectTo: '/'\n                })\n            \n            });\n            \n\n\n        this.setState({\n            pair: '',\n            price: '',\n            amount: '',\n            //order_type: '',\n            //order_status: 0,\n            //status_message: ''\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"container\" style={{marginTop: 10}}>\n                <h3>Create New Asset</h3>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\"> \n                        <label>Pair: </label>\n                        <input  type=\"text\"\n                                className=\"form-control\"\n                                value={this.state.pair}\n                                onChange={this.onChangePair}\n                                />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Price: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={this.state.price}\n                                onChange={this.onChangePrice}\n                                />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Amount: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={this.state.amount}\n                                onChange={this.onChangeAmount}\n                                />\n                    </div>\n                    \n\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Create Asset\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react';\nimport axios from 'axios';\n\nexport default class Register extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.onChangeUsername = this.onChangeUsername.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n        //this.onChangeAmount = this.onChangeAmount.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n\n        this.state = {\n            username: '',\n            password: '',\n            //amount: '',\n            //todo_completed: false\n        }\n    }\n\n    onChangeUsername(e) {\n        this.setState({\n            username: e.target.value\n        });\n    }\n\n    onChangePassword(e) {\n        this.setState({\n            password: e.target.value\n        });\n    }\n\n\n    onSubmit(e) {\n        e.preventDefault();\n        \n        console.log(`Registration submitted:`, this.state);\n        console.log(`Pair: ${this.state.username}`);\n        console.log(`Price: ${this.state.price}`);\n        console.log(`Amount: ${this.state.amount}`);\n        \n        const newRegistration = {\n            username: this.state.username,\n            password: this.state.password,\n            //amount: this.state.amount,\n            //todo_completed: this.state.todo_completed\n        };\n\n        axios.post('/api/auth/signup', newRegistration)\n\n            .then(res => {\n                console.log(res.data);\n                this.props.history.push(\"/login\");\n                // this.setState({\n                //     redirectTo: '/login'\n                // })\n            \n            });\n            \n        this.setState({\n            username: '',\n            password: '',\n            //amount: '',\n            //order_type: '',\n            //order_status: 0,\n            //status_message: ''\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"container\" style={{marginTop: 10}}>\n                <h3>Register</h3>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\"> \n                        <label>User Name: </label>\n                        <input  type=\"text\"\n                                className=\"form-control\"\n                                value={this.state.username}\n                                onChange={this.onChangeUsername}\n                                />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Password: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={this.state.password}\n                                onChange={this.onChangePassword}\n                                />\n                    </div>\n                    \n\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Register\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n","import React, {Component} from 'react';\nimport Select, {components} from \"react-select\";\n//import axios from 'axios';\n//var opts = [{ value: 'SHIB_USDT', label: 'SHIB_USDT' }]\n//props.options\n const TickerSelect = props => (\n    <Select style={props.style} options={props.options} onFocus={props.onFocus} onChange={props.onChange} />\n)\n\nexport default TickerSelect;","import React, { Component, useEffect,useLayoutEffect, useState } from 'react';\nimport { useHistory } from \"react-router\";\nimport { AuthContext } from '../../App';\nimport WebSocketConnection from './websocket';\nconst _transform = require('./transformer')\nlet count = 0;\nlet prices = [];\nlet gains = [];\nlet losses = [];\nconst Spot = props => {\nconst { state, dispatch } = React.useContext(AuthContext); \nconst history = useHistory();\nconst [intervalId, setIntervalId ] = useState('');\nconst [ data, setData ]= useState( {})\n//const [ prices, setPrices ]= useState( [])\n//const [ prevPrice, setPrevPrice ]= useState('0.00')  ;    \nlet [online, isOnline] = useState(navigator.onLine);\n\nconst setOnline = () => {\n    console.log('We are online!');\n    isOnline(true);\n};\nconst setOffline = () => {\n    console.log('We are offline!');\n    //props.selectedTicker='';\n    //props.clearTicker();\n    history.push('/login?offline=true')\n    isOnline(false);\n}; \n\nconst onPriceClick = e => {\n    console.log('Price Click', e.target.innerText);\n    let event = {target:{value:e.target.innerText}}\n    props.onChangePrice(event);\n}\n\nuseEffect(()=>{\n    //let prices = [];\n    // if(props !== undefined && props.selectedTicker !== undefined && props.selectedTicker.length > 0){\n\n    //     if(data.priceStyle==='text-danger'){\n    //         //loss\n    //         if(losses.length < 14){\n    //             losses.push(parseFloat(data.prevPrice)-parseFloat(data.lastPrice))\n    //             console.log('Losses',parseFloat(data.prevPrice)-parseFloat(data.lastPrice))\n    //         }\n            \n    //     } else if(data.priceStyle==='text-success'){\n    //         if(gains.length < 14){\n    //             gains.push(parseFloat(data.lastPrice)-parseFloat(data.prevPrice))\n    //             console.log('Gains', parseFloat(data.lastPrice)-parseFloat(data.prevPrice))\n    //         }\n    //     }\n\n    //     console.log(gains,losses)\n    //     if(gains.length == 14 && losses.length == 14){\n    //         console.log('GOT HERE')\n    //     //let gains = prices.filter(price => price > 0);\n    //     console.log('Gains',gains)\n    //     let avgGain = (gains) => gains.reduce((a, b) => a + b) / gains.length;\n    //     //let losses = prices.filter(price => price < 0);\n    //     let avgLoss= (losses) => losses.reduce((a, b) => a + b) / losses.length;\n    //     console.log('Losses',losses)\n    //     let gain = avgGain(gains);\n    //     let loss = avgLoss(losses)\n    //     let rs = Math.abs(gain) / Math.abs(loss);\n    //     let rsi = 100 - (100 / (1 + rs));\n    //     console.log('RSI',rsi);\n    //     gains=[];\n    //     losses=[]\n    //     }\n    //     //prices = [];\n        \n\n    // } else {\n        \n    //     count = 0;\n\n    // count++\n    // console.log(count);\n    // }//if selectedTicker\n     \n},[data.lastPrice, props.selectedTicker])\n\n\n\nuseEffect(() => {\n    window.addEventListener('offline', setOffline);\n    window.addEventListener('online', setOnline);\n\n        //console.log('HANDLESTATE')\n  const ex = JSON.parse(localStorage.getItem('exchanges'))\n        //console.log('local', ex)\nconst thisExchange = ex.filter(exchange => \n            props.exchange.name === exchange.name\n        )\n        if(thisExchange){ \n        } else {\n            thisExchange = [{ \n                name: props.exchange.name,\n                apiKey: '',\n                secret: '',}];        \n        }\n\n        setData({\n            name: props.exchange.name,\n            apiKey: thisExchange.length > 0 ? thisExchange[0].apiKey: '',\n            secret: thisExchange.length > 0 ? thisExchange[0].secret: '',\n            url: props.exchange.url,\n            high24hr: '',\n            low24hr: '',\n            open24hr: '',\n            volume24hr: '',\n            lastPrice:'',\n            priceStyle:'' ,\n            prevPrice:'0.00' ,\n            selectedTicker: '',\n            prevSelectedTicker: props.selectedTicker,\n            tickerEndpoint: props.exchange.tickerEndpoint,\n            secret: thisExchange.length > 0 ? thisExchange[0].secret: '',\n        });\n\n        console.log('exchange' ,props.exchange,props);\n        if(props.selectedTicker.length < 3){\n            return;\n        }\n\n        let msg = '';\n        if(localStorage.getItem('selectedTicker') === undefined){ \n            localStorage.setItem('selectedTicker',props.selectedTicker);\n            msg = JSON.stringify({\"op\": \"subscribe\", \"args\":[\"spot/ticker:\"+props.selectedTicker]});\n            console.log('ws_send1',props.selectedTicker)\n           // ws_send(msg);\n        } else if(props.selectedTicker === localStorage.getItem('selectedTicker')){\n            console.log('ws_send2',props.selectedTicker)\n        } else if(props.selectedTicker !== localStorage.getItem('selectedTicker')){\n            msg = JSON.stringify({\"op\": \"unsubscribe\", \"args\": [\"spot/ticker:\"+localStorage.getItem('selectedTicker')]});\n            console.log('ws_send3',props.selectedTicker)\n            //ws_send(msg);\n            localStorage.setItem('selectedTicker',props.selectedTicker);\n            msg = JSON.stringify({\"op\": \"subscribe\", \"args\":[\"spot/ticker:\"+props.selectedTicker]});\n            console.log('ws_send4',props.selectedTicker)\n            //ws_send(msg);\n        }\n        if(props.exchange.name == 'Binance'){\n            //msg='';\n        }\n        let client = [];\n        client[props.exchange.name] = new WebSocketConnection(props,setData, data ,msg );\n        \n        //c//lient.push(ws);\n        if(props.exchange.name === 'Bitmart'){\n\n        // let iid = setInterval(() =>{\n            \n        //     if(client['Bitmart'].readyState == 1){\n        //         console.log('SENDING:',msg)\n        //         client['Bitmart'].send(msg);\n        //         clearInterval(iid)\n        //     }\n        // }, 500);\n\n        let iid = setInterval(() =>{\n            //console.log('READYSTATE1',client['Bitmart'].readyState)\n            if(client['Bitmart'].readyState == 1 ){\n                //console.log('PINGING:','ping')\n                client['Bitmart'].send('ping');\n                //client['Bitmart'].send(msg);\n            } \n        }, 15000);\n        setIntervalId(iid)\n\n        }\n        \n        \n        //console.log('CLIENT', client);\n      \n        return () => {\n\n            window.removeEventListener('offline', setOffline);\n            window.removeEventListener('online', setOnline);\n            setData({});\n            let msg = JSON.stringify({\"op\": \"unsubscribe\", \"args\": [\"spot/ticker:\"+localStorage.getItem('selectedTicker')]});\n            \n            \n            localStorage.setItem('selectedTicker', '');\n            var unSubscribe = [\"btcusd@miniTicker\",\"ethusd@miniTicker\",\"bnbusd@miniTicker\",\"aadausd@miniTicker\",\"adausd@miniTicker\",\"dogeusdt@miniTicker\", \"enjusd@miniTicker\", \"maticusd@miniTicker\", \"eosusd@miniTicker\", \"vthousdt@miniTicker\", \"uniusdt@miniTicker\"]\n            \n            //send unsubscrube message here\n            //client.send(msg)\n            if(client['Bitmart']){\n                \n                //client['Bitmart'].send(msg)\n                \n                clearInterval(intervalId)\n                client['Bitmart'].close();\n            }\n            if(client['Binance']){\n                client['Binance'].close();\n            }\n\n            \n            console.log('Leaving', msg);\n        }\n\n},[props.selectedTicker]);\n\n//console.log(count++) \n        return (\n            \n            <div className=\"container\" style={{marginTop: '2px', marginBottom: '2px'}}>\n                \n                 <div onClick={onPriceClick} style={{width:'72%', paddingLeft:'1px',paddingTop:'1px'}} className=\"float-left\"><h6 className={data.priceStyle}>{data.lastPrice}</h6></div>\n                <div style={{width:'28%', paddingLeft:'1px',paddingTop:'1px'}} className=\"float-left\"><small>{data.baseAsset}</small></div>\n\n                <div style={{width:'72%', paddingLeft:'1px',paddingTop:'1px', marginTop:'0px' }} className=\"float-left\"><small>{data.high24hr}</small></div>\n                <div style={{width:'28%',color:'',paddingTop:'1px', marginTop:'0px' }}  className=\"float-left\"><small>High</small></div>\n\n                <div style={{width:'72%', paddingLeft:'1px',paddingTop:'1px', marginTop:'0px'}} className=\"float-left\"><small>{data.low24hr}</small></div>\n                <div style={{width:'28%',color:'',paddingTop:'1px', marginTop:'0px' }}  className=\"float-left\"><small> Low</small></div>\n\n                <div style={{width:'72%', paddingLeft:'1px',paddingTop:'1px', color:'', marginTop:'0px' }} className=\"float-left\"><small>{data.open24hr}</small></div>\n                <div style={{width:'28%',color:'',paddingTop:'1px', marginTop:'0px' }}  className=\"float-left\"><small>Open</small></div>\n\n\n                <div style={{width:'72%', paddingLeft:'1px',paddingTop:'1px', color:'', marginTop:'0px'}} className=\"float-left\"><small>{data.volume24hr}</small></div>\n                <div style={{width:'28%',color:'',paddingTop:'1px', marginTop:'0px'}}  className=\"float-left\"><small> Volume</small></div>\n\n            </div>\n            \n        );\n        \n}\nexport default Spot;","import React, { Component, useEffect,useLayoutEffect, useState } from 'react';\nimport { useHistory } from \"react-router\";\nimport { AuthContext } from '../../App';\nimport DepthWebSocketConnection from './depth.websocket';\nconst _transform = require('./transformer')\n\nconst Depth = props => {\nconst { state, dispatch } = React.useContext(AuthContext); \nconst history = useHistory();\nconst [intervalId, setIntervalId ] = useState('');\nconst [ data, setData ]= useState( {})\n//const [ prevPrice, setPrevPrice ]= useState('0.00')  ;    \nlet [online, isOnline] = useState(navigator.onLine);\nconst setOnline = () => {\n    console.log('We are online!');\n    isOnline(true);\n};\nconst setOffline = () => {\n    console.log('We are offline!');\n    //props.selectedTicker='';\n    //props.clearTicker();\n    history.push('/login?offline=true')\n    isOnline(false);\n};  \nconst onPriceClick = e => {\n    console.log('Price Click', e.target.innerText);\n    let event = {target:{value:e.target.innerText}}\n    props.onChangePrice(event);\n}\nuseEffect(() => {\n    window.addEventListener('offline', setOffline);\n    window.addEventListener('online', setOnline);\n        //console.log('HANDLESTATE')\n  const ex = JSON.parse(localStorage.getItem('exchanges'))\n        //console.log('local', ex)\nconst thisExchange = ex.filter(exchange => \n            props.exchange.name === exchange.name\n        )\n        if(thisExchange){ \n        } else {\n            thisExchange = [{ \n                name: props.exchange.name,\n                apiKey: '',\n                secret: '',}];        \n        }\n\n        setData({\n            name: props.exchange.name,\n            apiKey: thisExchange.length > 0 ? thisExchange[0].apiKey: '',\n            secret: thisExchange.length > 0 ? thisExchange[0].secret: '',\n            url: props.exchange.url,\n            asks:[],\n            bids:[],\n            selectedTicker: '',\n            prevSelectedTicker: props.selectedTicker,\n            tickerEndpoint: props.exchange.tickerEndpoint,\n            secret: thisExchange.length > 0 ? thisExchange[0].secret: '',\n        });\n\n        console.log('exchange' ,props.exchange,props);\n        if(props.selectedTicker.length < 3){\n            return;\n        }\n\n        let msg = '';\n        if(localStorage.getItem('selectedTicker') === undefined){ \n            localStorage.setItem('selectedTicker',props.selectedTicker);\n            msg = JSON.stringify({\"op\": \"subscribe\", \"args\":[\"spot/depth5:\"+props.selectedTicker]});\n            console.log('ws_send1',props.selectedTicker)\n           // ws_send(msg);\n        } else if(props.selectedTicker === localStorage.getItem('selectedTicker')){\n            console.log('ws_send2',props.selectedTicker)\n        } else if(props.selectedTicker !== localStorage.getItem('selectedTicker')){\n            msg = JSON.stringify({\"op\": \"unsubscribe\", \"args\": [\"spot/depth5:\"+localStorage.getItem('selectedTicker')]});\n            console.log('ws_send3',props.selectedTicker)\n            //ws_send(msg);\n            localStorage.setItem('selectedTicker',props.selectedTicker);\n            msg = JSON.stringify({\"op\": \"subscribe\", \"args\":[\"spot/depth5:\"+props.selectedTicker]});\n            console.log('ws_send4',props.selectedTicker)\n            //ws_send(msg);\n        }\n        if(props.exchange.name == 'Binance'){\n            //msg='';\n        }\n        let client = [];\n        msg = JSON.stringify({\"op\": \"subscribe\", \"args\":[\"spot/depth5:\"+props.selectedTicker]});\n        //console.log('DEPTH MSG', msg)\n        client[props.exchange.name] = new DepthWebSocketConnection(props,setData, data ,msg );\n        \n        //c//lient.push(ws);\n        if(props.exchange.name === 'Bitmart'){\n\n           \n\n        // let iid = setInterval(() =>{\n            \n        //     if(client['Bitmart'].readyState == 1){\n        //         //console.log('DEPTH SENDING:',msg)\n        //         client['Bitmart'].send(msg);\n        //         clearInterval(iid)\n        //     }\n        // }, 500);\n        // console.log('DEPTH SENT:',msg)\n\n        let iid = setInterval(() =>{\n            //console.log('READYSTATE1',client['Bitmart'].readyState)\n            if(client['Bitmart'].readyState == 1 ){\n                //console.log('PINGIN:','ping')\n                client['Bitmart'].send('ping');\n                //client['Bitmart'].send(msg);\n            } \n        }, 15000);\n        setIntervalId(iid);\n\n        }\n\n        \n        //console.log('CLIENT', client);\n      \n        return () => {\n\n            window.removeEventListener('offline', setOffline);\n            window.removeEventListener('online', setOnline);\n            setData({});\n            let msg = JSON.stringify({\"op\": \"unsubscribe\", \"args\": [\"spot/depth5:\"+localStorage.getItem('selectedTicker')]});\n            \n            \n            localStorage.setItem('selectedTicker', '');\n            var unSubscribe = [\"btcusd@miniTicker\",\"ethusd@miniTicker\",\"bnbusd@miniTicker\",\"aadausd@miniTicker\",\"adausd@miniTicker\",\"dogeusdt@miniTicker\", \"enjusd@miniTicker\", \"maticusd@miniTicker\", \"eosusd@miniTicker\", \"vthousdt@miniTicker\", \"uniusdt@miniTicker\"]\n            \n            //send unsubscrube message here\n            //client.send(msg)\n            if(client['Bitmart']){\n                //client.send(msg)\n                clearInterval(intervalId)\n            client['Bitmart'].close();\n            }\n            if(client['Binance']){\n                client['Binance'].close();\n            }\n\n            \n            console.log('Leaving', msg);\n        }\n\n},[props.selectedTicker]);\n        if(data.asks === undefined){\n            return null;\n        }\n        if(data.bids === undefined){\n            return null;\n        }\n        //console.log('DEPTH',data)\n        return (\n            \n            <div className=\"container\" style={{marginTop: '2px', marginBottom: '2px', paddingLeft:'0px'}}>\n                \n                <ul style={{listStyleType:'none', paddingLeft:'0px'}}>\n                {data.asks.map((value, index) => {\n                            return <li key={index} style={{whiteSpace:'nowrap'}}><small onClick={onPriceClick} className=\"text-danger\" >{value[0]}</small> <small className=\"\" >{value[1]}</small></li>\n                })}\n                </ul>\n                <ul style={{listStyleType:'none', paddingLeft:'0px'}}>\n                {data.bids.map((value, index) => {\n                            return <li key={index} style={{whiteSpace:'nowrap'}}><small onClick={onPriceClick} className=\"text-success\">{value[0]}</small> <small className=\"\" >{value[1]}</small></li>\n                })}\n                </ul>\n                \n            </div>\n            \n        );\n        \n}\nexport default Depth;","import React, {Component} from 'react';\n\n\n\n class  Technicals extends Component {\n\nconstructor(props){\n    super(props)\n    // this.data =       {\n    //     \"interval\": \"15m\",\n    //     \"width\": \"100%\",\n    //     \"isTransparent\": false,\n    //     \"height\": \"100%\",\n    //     \"symbol\": \"BINANCE:SHIBUSDT\",\n    //     \"showIntervalTabs\": true,\n    //     \"locale\": \"en\",\n    //     \"colorTheme\": \"light\"\n    //   };\n}\n    componentDidMount() {\n        // const script = document.createElement(\"script\");\n        // script.async = true;\n        // script.src = \"https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js\";\n        // //const el =findDOMNode(this.domRef)\n        // script.innerHTML=  JSON.stringify({\n        //     \"interval\": \"15m\",\n        //     \"width\": \"100%\",\n        //     \"isTransparent\": false,\n        //     \"height\": \"50%\",\n        //     \"symbol\": \"BINANCE:SHIBUSDT\",\n        //     \"showIntervalTabs\": false,\n        //     \"locale\": \"en\",\n        //     \"colorTheme\": \"light\"\n        //   })\n        \n        // document.getElementById('tradingview').appendChild(script);\n        // console.log('SCRIPTS',document.getElementById('tradingview'))\n         \n      }\nrender(){\n    return(null)\nreturn (\n\n\n    <div class=\"tradingview-widget-container\">\n      <div class=\"tradingview-widget-container__widget\"></div>\n      <div id=\"tradingview\" class=\"tradingview-widget-copyright\"></div>\n      \n    </div>\n\n\n)\n}\n}\n\nexport default Technicals;","import React from 'react';\n\n const Wallet = props => {\n     let avail = '';\n     let currency = '';\n     let frozen = '';\n     let asset, wallet;\n     if( props.wallet == undefined ){\n         return;\n     }\n\n     if(props.tab == 'buy'){\n        \n        asset = props.ticker !== undefined ? props.ticker.replace(/.*_/g,\"\") : '';\n    } else {\n        \n        asset =  props.ticker !== undefined ? props.ticker.replace(/_.*/g,\"\"): '';\n    }\n     wallet = props.wallet.filter(account => \n        account.id === asset\n    ) \n     console.log('WALLET TAG', wallet,asset)\n     if(wallet.length > 0 ){\n        avail = wallet[0].available;\n        frozen = wallet[0].frozen;\n        currency = wallet[0].id\n     }\n\n     const percent25 = e => {\n         console.log('PERCENT25')\n         if(avail.length>0){\n        \n        props.setAmount({target:{value:.25 * Math.round(avail)}})\n         }\n    }\n\n    const percent50 = e => {\n        console.log('PERCENT50')\n        if(avail.length>0){\n       \n       props.setAmount({target:{value:.50 * Math.round(avail)}})\n        }\n   }\n\n   const percent75 = e => {\n    console.log('PERCENT75')\n    if(avail.length>0){\n   \n   props.setAmount({target:{value:.75 * Math.round(avail)}})\n    }\n}\n\nconst percent100 = e => {\n    console.log('PERCENT100', avail)\n    if(avail.length>0){\n   \n        props.setAmount({target:{value:Math.round(avail)}})\n    }\n}\n\n    return (\n    <div className=\"\" style={{paddingLeft:'0px'}}>\n    <div className=\"row\">\n        <div onClick={percent25} className=\"col-sm-3\"><small className=\"tiny\">25%</small></div>\n        <div onClick={percent50} className=\"col-sm-3\"><small className=\"tiny\">50%</small></div>\n        <div onClick={percent75} className=\"col-sm-3\"><small className=\"tiny\">75%</small></div>\n        <div onClick={percent100} className=\"col-sm-3\"><small className=\"tiny\">100%</small></div>\n    </div>\n     <div className=\"row\">    \n        <div style={{whiteSpace:'nowrap'}} className=\"col-sm-12\"><small className=\"tiny\">Avail. {avail} {currency}</small></div> \n        <div style={{whiteSpace:'nowrap'}} className=\"col-sm-12\"><small className=\"tiny\">In Orders {frozen} </small></div> \n    </div>\n    </div>\n    )\n     \n }\n\nexport default Wallet;","import React, { Component, useEffect,useLayoutEffect, useState } from 'react';\nimport { useHistory } from \"react-router\";\nimport { AuthContext } from '../../App';\n//import TradeFormContext from \"../tradeFormContext\"\nimport TradeWebSocketConnection from './trade.websocket';\nimport CryptoJS from 'crypto-js';\nconst _transform = require('./transformer')\n\nconst Trade = props => {\nconst { state, dispatch } = React.useContext(AuthContext); \nconsole.log('Trade', props)\n//const { state } = React.useContext(TradeFormContext); \nconst history = useHistory();\nconst [intervalId, setIntervalId ] = useState('');\nconst [ data, setData ]= useState( {})\n//const [ prevPrice, setPrevPrice ]= useState('0.00')  ;    \nlet [online, isOnline] = useState(navigator.onLine);\nconst setOnline = () => {\n    console.log('We are online!');\n    isOnline(true);\n};\nconst setOffline = () => {\n    console.log('We are offline!');\n    //props.selectedTicker='';\n    //props.clearTicker();\n    history.push('/login?offline=true')\n    isOnline(false);\n};  \nconst onPriceClick = e => {\n    console.log('Price Click', e.target.innerText);\n    let event = {target:{value:e.target.innerText}}\n    props.onChangePrice(event);\n}\nuseEffect(() => {\n    window.addEventListener('offline', setOffline);\n    window.addEventListener('online', setOnline);\n        //console.log('HANDLESTATE')\n  const ex = JSON.parse(localStorage.getItem('exchanges'))\n        //console.log('local', ex)\nconst thisExchange = ex.filter(exchange => \n            props.exchange.name === exchange.name\n        )\n        if(thisExchange){ \n        } else {\n            thisExchange = [{ \n                name: props.exchange.name,\n                apiKey: '',\n                secret: '',}];        \n        }\n\n        setData({\n            name: props.exchange.name,\n            apiKey: thisExchange.length > 0 ? thisExchange[0].apiKey: '',\n            secret: thisExchange.length > 0 ? thisExchange[0].secret: '',\n            url: props.exchange.url,\n            asks:[],\n            bids:[],\n            selectedTicker: '',\n            prevSelectedTicker: props.selectedTicker,\n            tickerEndpoint: props.exchange.tickerEndpoint,\n            secret: thisExchange.length > 0 ? thisExchange[0].secret: '',\n        });\n\n        console.log('exchange' ,props.exchange,props);\n        if(props.selectedTicker.length < 3){\n            return;\n        }\n\n        let msg = '';\n        if(localStorage.getItem('selectedTicker') === undefined){ \n            localStorage.setItem('selectedTicker',props.selectedTicker);\n            msg = JSON.stringify({\"op\": \"subscribe\", \"args\":[\"spot/depth5:\"+props.selectedTicker]});\n            console.log('ws_send1',props.selectedTicker)\n           // ws_send(msg);\n        } else if(props.selectedTicker === localStorage.getItem('selectedTicker')){\n            console.log('ws_send2',props.selectedTicker)\n        } else if(props.selectedTicker !== localStorage.getItem('selectedTicker')){\n            msg = JSON.stringify({\"op\": \"unsubscribe\", \"args\": [\"spot/depth5:\"+localStorage.getItem('selectedTicker')]});\n            console.log('ws_send3',props.selectedTicker)\n            //ws_send(msg);\n            localStorage.setItem('selectedTicker',props.selectedTicker);\n            msg = JSON.stringify({\"op\": \"subscribe\", \"args\":[\"spot/depth5:\"+props.selectedTicker]});\n            console.log('ws_send4',props.selectedTicker)\n            //ws_send(msg);\n        }\n        if(props.exchange.name == 'Binance'){\n            //msg='';\n        }\n        let client = [];\n        //msg = JSON.stringify({\"op\": \"subscribe\", \"args\":[\"spot/depth5:\"+props.selectedTicker]});\n\n        var exchanges = JSON.parse(localStorage.getItem('exchanges'));\n        var exchanged = exchanges.filter(exchange => exchange.name === props.exchange.name)\n        var key = exchanged[0].apiKey;\n        var apiName = exchanged[0].apiName;\n        var secret = exchanged[0].secret;\n        console.log('KEY/SECRET',props.selectedTicker,exchanged,key, secret, props.exchange.name,exchanges)\n        //return null;\n        var timestamp = Date.now().toString();\n        var signature = require(\"crypto\")\n        .createHmac(\"sha256\", secret)\n        .update(timestamp+'#'+apiName+'#bitmart.WebSocket')\n        .digest(\"hex\"); //binary, hex,base64\n\n\n        //var signature = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(timestamp + \"#\" + \"test001\" +  \"#bitmart.WebSocket\", secret))\n\n        console.log('key,secret,timestamp,signature', timestamp,signature, signature)\n        msg = JSON.stringify({\"op\": \"login\", \"args\":[key,timestamp,signature]});\n\n\n        console.log('TRADE MSG', msg)\n        client[props.exchange.name] = new TradeWebSocketConnection(props,setData, data ,msg );\n        \n        //c//lient.push(ws);\n        if(props.exchange.name === 'Bitmart'){\n\n            if(client['Bitmart'].readyState == 1 ){\n                // {\"op\": \"subscribe\", \"args\": [\"spot/user/order:BTC_ USDT\"]}\n                msg = JSON.stringify({\"op\": \"subscribe\", \"args\":[\"spot/user/order:\"+props.selectedTicker]});\n                client['Bitmart'].send(msg)\n            }\n\n        // let iid = setInterval(() =>{\n            \n        //     if(client['Bitmart'].readyState == 1){\n        //         //console.log('DEPTH SENDING:',msg)\n        //         client['Bitmart'].send(msg);\n        //         clearInterval(iid)\n        //     }\n        // }, 500);\n        // console.log('DEPTH SENT:',msg)\n\n        let iid = setInterval(() =>{\n            //console.log('READYSTATE1',client['Bitmart'].readyState)\n            if(client['Bitmart'].readyState == 1 ){\n                //console.log('PINGIN:','ping')\n                client['Bitmart'].send('ping');\n                //client['Bitmart'].send(msg);\n            } \n        }, 15000);\n        setIntervalId(iid);\n\n        }\n\n        \n        //console.log('CLIENT', client);\n      \n        return () => {\n\n            window.removeEventListener('offline', setOffline);\n            window.removeEventListener('online', setOnline);\n            setData({});\n            let msg = JSON.stringify({\"op\": \"unsubscribe\", \"args\": [\"spot/depth5:\"+localStorage.getItem('selectedTicker')]});\n            \n            \n            localStorage.setItem('selectedTicker', '');\n            var unSubscribe = [\"btcusd@miniTicker\",\"ethusd@miniTicker\",\"bnbusd@miniTicker\",\"aadausd@miniTicker\",\"adausd@miniTicker\",\"dogeusdt@miniTicker\", \"enjusd@miniTicker\", \"maticusd@miniTicker\", \"eosusd@miniTicker\", \"vthousdt@miniTicker\", \"uniusdt@miniTicker\"]\n            \n            //send unsubscrube message here\n            //client.send(msg)\n            if(client['Bitmart']){\n                //client.send(msg)\n                clearInterval(intervalId)\n            client['Bitmart'].close();\n            }\n            if(client['Binance']){\n                client['Binance'].close();\n            }\n\n            \n            console.log('Leaving', msg);\n        }\n\n},[props.selectedTicker]);\n        // if(data.last_fill_count === undefined){\n        //     return null;\n        // }\n        // if(data.last_fill_price === undefined){\n        //     return null;\n        // }\n        // if(data.last_fill_time === undefined){\n        //     return null;\n        // }\n        // if(data.symbol === undefined){\n        //     return null;\n        // }\n        // if(data.type === undefined){\n        //     return null; //order type\n        // }\n        // if(data.side === undefined){\n        //     return null; //buy / sell\n        // }\n        // if(data.order_id === undefined){\n        //     return null;\n        // }\n        console.log('USER-TRADE',data)\n        if(data.asks === undefined){\n            return null;\n        }\n        console.log('DEPTH',data)\n        return (\n            <div className=\"container\" style={{marginTop: '2px', marginBottom: '2px', paddingLeft:'0px'}}>\n                \n                <ul style={{listStyleType:'none', paddingLeft:'0px'}}>\n                {data.asks.map((value, index) => {\n                            return <li key={index} style={{whiteSpace:'nowrap'}}><small onClick={onPriceClick} className=\"text-danger\" >{value[0]}</small> <small className=\"\" >{value[1]}</small></li>\n                })}\n                </ul>\n                <ul style={{listStyleType:'none', paddingLeft:'0px'}}>\n                {data.bids.map((value, index) => {\n                            return <li key={index} style={{whiteSpace:'nowrap'}}><small onClick={onPriceClick} className=\"text-success\">{value[0]}</small> <small className=\"\" >{value[1]}</small></li>\n                })}\n                </ul>\n                \n            </div>\n        \n        );\n        \n}\nexport default Trade;","import React, { Component , createContext, useState, useEffect} from 'react';\nimport axios from 'axios';\nimport TickerSelect from \"./assets/ticker.select.component\";\nimport Spot from \"./assets/spot.component\";\nimport Depth from \"./assets/depth.component\";\nimport Technicals from \"./assets/technicals.component\";\nimport Wallet from \"./assets/wallet.component\";\nimport {Tabs, Tab, Modal, Row, Button, Col, Form, Card, Container} from \"react-bootstrap\";\nimport {SET_ALERT_OVERWRITE, SET_ALERT} from './types';\nimport { AuthContext } from '../App';\nimport Trade from \"./assets/trade.component\"\n\n\n const  ExchangeTradeForm = (props) => {\n// onTabSelect={onSelect} prev={prev} setTab={setKey} tab={key} exchange={props.exchange}\n    \n\n    const [orderType, setOrderType] = useState('limit');\n    \n    const onSelect = k => {\n        console.log('onSelect',k)\n        setOrderType(k)\n    }\n        const { state, dispatch } = React.useContext(AuthContext);\n        //const { state, dispatch, data, setData } = React.useContext(AuthContext);\n        var ex = JSON.parse(localStorage.getItem('exchanges'))\n\n        //console.log('TAB:',props.tab)\n        var prevTab = props.tab;\n        var thisExchange = ex.filter(exchange => \n            props.exchange.name === exchange.name\n        )\n        if(thisExchange){ \n        } else {\n            thisExchange = [{ \n                name: props.exchange.name,\n                apiKey: '',\n                secret: ''}];        \n        }\n        \n        var initalState = {\n            name: props.exchange.name,\n            apiKey: thisExchange.length > 0 ? thisExchange[0].apiKey: '',\n            url: props.exchange.url,\n            tickers: [],\n            amount: '',\n            qty: '',\n            lastPrice:'',\n            selectedTicker: '',\n            baseAsset:'',\n            price:'',\n            tickerEndpoint: props.exchange.tickerEndpoint,\n            secret: thisExchange.length > 0 ? thisExchange[0].secret: ''\n        }\n\n\n        \nconst [data, setData]= useState(initalState);          \nconst [wallet, setWallet]= useState({wallet:[]});\nuseEffect(() => {\n\n    \n    \n    if(data.price.length > 0 || data.qty.length > 0 || data.amount.length > 0 ){\n        setData(\n            {...data,\n            price:'',\n            amount: '',\n            qty: ''}\n        )\n    }\n\n}, [props.tab]); \n\nuseEffect(() => {\n    if(data.price.length > 0 || data.qty.length > 0 || data.amount.length > 0 ){\n        setData(\n            {...data,\n            price:'',\n            amount: '',\n            qty: ''}\n        )\n    }\n\n}, [orderType]);\n\nuseEffect(() => {\n\n\n      axios.get(props.exchange.url+'/tickers').then(result => {\n            \n        result.data.tickers.map((ticker,i) => {\n\n            result.data.tickers[i] = { value: ticker, label: ticker }\n        })\n\n        console.log('TICKERS:',props.exchange.url,result.data.tickers);\n            \n            setData({\n            ...data,\n            tickers:result.data.tickers\n            })\n\n        });\n        //if(props.exchange.name == 'Bitmart'){\n            \n            console.log('URL',props.exchange.url)\n            axios.get(props.exchange.url+'/accounts', {\n                headers: {\n                'xbmkey': data.apiKey,\n                'xbmsecret': data.secret\n                }\n            }).then(result => {\n            \n            console.log('WALLET',result.data.wallet)\n    \n                setWallet({\n                wallet:result.data.wallet\n                })\n                //console.log('ACCOUNTDATA:',data);\n    \n            })\n        //}\n      return () => {\n          //setData({})\n          console.log('LEAVING')\n      };\n}, []);  \n\n\n const onFocusTicker = e => {\n\n     setData({\n            ...data,\n            prevSelectedTicker: data.selectedTicker ? data.selectedTicker : \"\",\n            \n          });\n }\n const clearTicker = e => {\n    setData({\n        ...data,\n        selectedTicker:  \"\",\n        baseAsset:  ''\n\n      });\n }\nconst onChangeTicker = e => {\n    //    \nconsole.log('OnChangeTicker', e)\n    \n    let asset, sellAsset;\n    //   setData({\n        //       name: e.target.value\n        //   });\n        //console.log('MYWALLET',mywallet)\n        if(props.tab == 'buy'){\n            asset = e.value.replace(/.*_/g,\"\");\n            sellAsset = e.value.replace(/_.*/g,\"\");\n        } else {\n            asset = e.value.replace(/_.*/g,\"\");\n            sellAsset = e.value.replace(/.*_/g,\"\");\n            \n        }\n        setData({\n            ...data,\n            selectedTicker: e.value ? e.value : \"\",\n            baseAsset: e.value !== undefined ? asset : '',\n            sellAsset: sellAsset\n          });\n          //data.wallet.filter( account => account.id === e.value.replace(/.*_/g,\"\") )\n       // console.log('FILTERED WALLET',data.wallet, e.value.replace(/.*_/g,\"\"));\n  \n}\n\n\n//const { Provider, Consumer } = React.createContext();\n\nconst onChangeName = e => {\n        setData({\n            ...data,\n            name: e.target.value\n        });\n        \n}\nconst tabEvent = e => {\n    console.log('TABEVENT',e)\n}\nconst clearAmount = e => {\n    setData(\n        {...data,\n        price:'',\n        amount: '',\n        qty: ''}\n    )\n}\nconst onChangeAmount = e => {\n    let qty, amount;\n    if(data.price.length < 1 && orderType == 'limit'){\n        dispatch({\n            type: SET_ALERT,\n            payload: {  message:'Please Choose a price before setting qty', alertType: 'success', timeout:3000}\n        })\n        return;\n    }\n\n    if(props.tab == 'buy' && orderType == 'limit'){\n         qty = Math.round(parseFloat(e.target.value) / parseFloat(data.price));\n         amount = parseFloat(e.target.value).toFixed(2);\n    } else if(props.tab == 'sell' && orderType == 'limit') {\n        qty = e.target.value ;\n        amount = Math.round(parseFloat(e.target.value) * parseFloat(data.price));\n        amount = amount.toFixed(2)\n    } else if(props.tab == 'buy' && orderType == 'market') {\n        amount = parseFloat(e.target.value).toFixed(2);\n        qty = '';\n    } else if(props.tab == 'sell' && orderType == 'market'){\n        amount = parseFloat(e.target.value).toFixed(2);\n        qty='';\n    }\n\n    setData({\n        ...data,\n        amount: amount,\n        qty: qty\n    });\n    \n}\nconst onChangePrice = e => {\n    \n    setData({\n        ...data,\n        price: e.target.value\n    });  \n}\n\nconst onChangeQty = e => {\n    setData({\n        ...data,\n        qty: e.target.value\n    });  \n}\n\n\n\nfunction onSubmit(e) {\n\n    e.preventDefault();\n    \n    console.log(`Form submitted:`, data.name);\n\n    \n\n\n}\n\n\n       console.log('RETURN FORM', data, props)\nreturn (       \n    \n            <div className=\"container pl-0\" style={{marginTop: '10px', marginLeft:'2px', marginRight:'2px'}}>\n                \n                <form className=\"form-row\" style={{width:'100%'}} onSubmit={onSubmit}>\n                    <div className=\"form-group col-sm-6\"> \n                    <TickerSelect class={{width:'8rem'}} options={data.tickers} onFocus={onFocusTicker} onChange={onChangeTicker} />\n                        <input  type=\"hidden\"\n                                className=\"form-control\"\n                                value={data.name}\n                                onChange={onChangeName}\n                                />\n                    {/* <Spot onRef={ref => (spot = ref)} baseAsset={data.baseAsset}  exchange={props.exchange} clearTicker={clearTicker} selectedTicker={data.selectedTicker}  /> */}\n                    <Technicals />\n                    </div>\n                    <div className=\"form-group col-sm-6\"> \n                    \n                    <Spot onChangePrice={onChangePrice} clearTicker={clearTicker}  baseAsset={data.baseAsset}  exchange={props.exchange} selectedTicker={data.selectedTicker} prevSelectedTicker={data.prevSelectedTicker}  />\n                    \n                    </div>\n\n                    <Tabs onSelect={onSelect} defaultActiveKey=\"limit\" id=\"controlled-tab-example\" className=\"col-sm-12\">\n                <Tab eventKey=\"limit\" title=\"Limit\" className=\"col-sm-12\">\n                \n                   <div className=\"row pt-2\"> \n                   <div className=\"col-sm-6\"> \n                    <div className=\"form-group\"> \n                        <label>Price</label>\n                        <input  type=\"text\"\n                                placeholder=\"Price\"\n                                className=\"form-control\"\n                                value={data.price}\n                                onChange={onChangePrice}\n                                />\n                    </div>\n                    <div className=\"form-group\"> \n                        <label>Qty</label>\n                        <input  type=\"text\"\n                                placeholder=\"Quantity\"\n                                className=\"form-control\"\n                                value={data.qty}\n                                onChange={onChangeQty}\n                                />\n                    </div>\n                    <Wallet tab={props.tab} clearAmount={clearAmount} wallet={wallet.wallet} ticker={data.selectedTicker} setAmount={onChangeAmount}/>\n                    <div className=\"form-group\"> \n                        <label>Total:</label> <div style={{display:'inline-block'}} onChange={onChangeAmount}>{data.amount}</div> \n                    </div>\n                </div>\n                <div className=\"col-sm-6\">\n                    Depth\n                    <Depth onChangePrice={onChangePrice} clearTicker={clearTicker}  baseAsset={data.baseAsset}  exchange={props.exchange} selectedTicker={data.selectedTicker} prevSelectedTicker={data.prevSelectedTicker}  />\n                </div>\n                    \n                </div>\n                </Tab>\n                <Tab eventKey=\"market\" title=\"Market\" className=\"col-sm-12\">\n                <div className=\"row pt-2\">\n                <div className=\"col-sm-6\"> \n                <div className=\"form-group \"> \n                        <label>Price</label>\n                        <input  type=\"text\"\n                                disabled=\"disabled\"\n                                placeholder=\"Optimal Market Price\"\n                                className=\"form-control\"\n                                value=\"Optimal Market Price\"\n                                \n                                />\n                </div>\n                <div className=\"form-group \"> \n                        <label>Total</label>\n                        <input  type=\"text\"\n                                placeholder={ props.tab == 'buy' ? 'Total '+data.baseAsset : 'Total '+data.sellAsset}\n                                className=\"form-control\"\n                                value={data.amount}\n                                onChange={onChangeQty}\n                                />\n                </div>\n                <div><Wallet clearAmount={clearAmount} tab={props.tab} wallet={wallet.wallet} ticker={data.selectedTicker}  setAmount={onChangeAmount}/></div>\n                    <div className=\"form-group\"> \n                        <label>Total:</label> <div style={{display:'inline-block'}} onChange={onChangeAmount}>{data.amount}</div> \n                    </div>\n                </div>\n                <div className=\"col-sm-6\">\n                    Depth\n                    <Depth onChangePrice={onChangePrice} clearTicker={clearTicker}  baseAsset={data.baseAsset}  exchange={props.exchange} selectedTicker={data.selectedTicker} prevSelectedTicker={data.prevSelectedTicker}  />\n                </div>\n                </div>\n                \n                </Tab>\n                </Tabs>\n                    \n                    <div className=\"form-group col-sm-12\">\n                        { props.tab ==='buy' ? <input type=\"submit\" value=\"Place buy order\" className=\"btn btn-success\" /> :\n                        <input type=\"submit\" value=\"Place sell order\" className=\"btn btn-danger\" />\n                    }\n                    </div>\n                </form>\n            <div className=\"d-flex justify-content-between flex-wrap  align-items-center pb-2 mb-3 border-bottom\">\n                <Trade exchange={props.exchange} selectedTicker={data.selectedTicker} prevSelectedTicker={data.prevSelectedTicker}  />\n            </div>\n            </div>\n        \n        )\n    \n}\nexport default ExchangeTradeForm;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useHistory } from \"react-router\";\nimport {SET_ALERT_OVERWRITE} from './types';\nimport { AuthContext } from \"../App\";\nimport ExchangeTradeForm from \"./exchange.tradeForm.component\"\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\n export const Exchange  = props => {\nconst [key, setKey] = useState('buy');\nconst [prev, setPrev] = useState('sell');\nconst onSelect = k => {\n    console.log('onSelect',k)\n    if(k == 'buy'){\n        setPrev('sell')\n    } else {\n        setPrev('buy')\n    }\n    setKey(k)\n}\n\nuseEffect(() => {\n\n\n}, []);\n    \n\nreturn (\n    \n    <div className=\"card\" style={{float:'left', width: '29rem', marginRight:'10px'}}>\n        \n        <div style={{paddingLeft:'5px', paddingRight:'5px'}} className=\"card-body\">\n            <h5 className=\"card-title\">{props.exchange.name} </h5>\n            <Tabs defaultActiveKey=\"buy\" \n                id={'buy-sell-tab-'+props.exchange.name}  onSelect={onSelect} className=\"nav nav-pills nav-fill\">\n                <Tab className=\"tab\" data-toggle=\"tab\" eventKey=\"buy\" title=\"Buy\" tabClassName=\"\">\n                {/* <ExchangeTradeForm exchange={props.exchange} /> */}\n                </Tab>\n                <Tab className=\"tab\" data-toggle=\"tab\" eventKey=\"sell\" title=\"Sell\" tabClassName=\"\">\n                {/* <ExchangeTradeForm exchange={props.exchange} />  */}\n                </Tab>\n            </Tabs>\n            <ExchangeTradeForm onTabSelect={onSelect} prev={prev} setTab={setKey} tab={key} exchange={props.exchange} /> \n            {/* <div class=\"btn-group\" style={{width:'100%'}} role=\"group\" aria-label=\"Buy or Sell\">\n                <button type=\"button\" class=\"btn btn-primary btn-block btn-sm mt-0 active\">Buy</button>\n                <button type=\"button\" class=\"btn btn-secondary btn-block btn-sm mt-0\">Sell</button>\n            </div> */}\n            {/* <div>\n                <div className=\"col-sm-12\" eventKey=\"buy\" title=\"Buy\" tabClassName=\"\">\n                <ExchangeTradeFormBuy exchange={props.exchange} />\n                </div>\n                <div className=\"col-sm-12\" eventKey=\"sell\" title=\"Sell\" tabClassName=\"\">\n                <ExchangeTradeFormBuy exchange={props.exchange} /> \n                </div>\n            </div> */}\n            \n        </div>\n    </div>\n    )\n\n    \n}\n\n\nconst ExchangeTradeList = props => {\n\n    //const { data, setData } = React.useContext(AuthContext);\n\n    const initialState = {\n        exchange: [],\n        showModal: 'none'\n      };\n\n    const [data, setData] = React.useState(initialState);\n    \n      let history = useHistory();\n\n// if(props.exchange === undefined){\n//     return null;\n// }\nconsole.log('ExchangeTradeList', data)\n    //useEffect(() => {\n        useEffect(() => {\n           \n         axios.get('/api/exchange/')\n             .then(response => {\n                 //this.setState({ asset: response.data });\n                 console.log('GET EX',response.data, data)\n                setData({\n                    ...data,\n                    exchange: response.data,\n                    showModal: 'none'\n                  });\n             })\n             .catch(function (error){\n                 console.log(error);\n             })\n\n            return () => {\n                 setData({})\n             }\n\n         }, []);\n    //console.log('isData', data)\n    const [isOpen, setIsOpen] = React.useState(false);\n    //const [hideModal, setHideModal] = React.useState({});\n    const [exchange, setExchange] = React.useState({});\n    //const [exchange, setExchange] = React.useState(props.exchange);\n    const [title, setTitle] = React.useState(\"Transitioning...\");\n    const [url, setUrl] = React.useState(\"\");\n    //const [time, setTime] = React.useState(\"\");\n    const { dispatch } = React.useContext(AuthContext);\n    const showModal = props => {\n        //document.getElementById('exchangeModal').setAttribute('show', true);\n        setIsOpen(true);\n        setTitle(props.exchange.name);\n       // setExchange(props.exchange)\n        //setUrl(props.exchange.url)\n        //setHideModal(hideModal);\n \n    };\n    const hideModal = () => {\n        //document.getElementById('exchangeModal').setAttribute('show', true);\n        setIsOpen(false);\n        setTitle('')\n    };\n    \n    async function asyncAxios(currentExchange) {\n        var config = {\n            method: 'get',\n            withCredentials: true,\n            url: currentExchange.url+'/time', \n            data : {}\n          };\n        try {\n        const response = await axios(config);\n        return response.data;\n        }\n        catch (error) {\n            console.log(error);\n        }\n        \n    }\n\n\n    const listExchange = () => {\n        console.log('ListEx', data)\n        return data.exchange.map(function(currentExchange, i){\n           \n            //setData(data)\n             console.log('DATA',currentExchange);\n            var datas = '';\n            \n            // var config = {\n            //     method: 'get',\n            //     withCredentials: true,\n            //     url: currentExchange.url+'/time', \n            //     data : {}\n            //   };\n            //   let {data} =  axios(config);\n            // asyncAxios(currentExchange).then(function(response) {\n            //     console.log('Time',response.serverTime);\n            //     //dispatch('SET_TIME',response.serverTime)\n            //     //currentExchange.serverTime = response.serverTime;\n                \n            //   });\n              //console.log('FFFF',props)\n            \n              return <Exchange title={currentExchange.name} hideModal={hideModal} setUrl={setUrl} setTitle={setTitle} showModal={showModal} setIsOpen={setIsOpen} exchange={currentExchange} key={i} />;\n            \n            \n        })\n    }\n\n  if( data === undefined){\n        return null;\n  }\n  return (\n    <div className=\"container\" style={{marginTop: '35px', width:'100%'}}>\n        \n        {listExchange()}\n\n        {/* <ModalExchange id=\"exchangeModal\" setExchange={setExchange} exchange={exchange} title={title} url={url} setUrl={setUrl} setTitle={setTitle} isOpen={isOpen} show={true} hideModal={hideModal} showModal={showModal} tabindex=\"-1\"></ModalExchange>    */}\n    </div>\n    \n  );\n\n}\nexport default ExchangeTradeList;","import React, {useContext, useEffect, useState} from 'react';\nimport { REMOVE_ALERT, SET_ALERT } from \"../components/types\";\nimport { AuthContext } from \"../App\";\nimport ExchangeTradeList from \"./exchange.trade.component\";\n//import Trade from \"./assets/trade.component\";\nimport TradeContext from './exchange.tradeForm.component'\nimport TradeFormContext from './tradeFormContext'\nimport axios from 'axios';\n\n const Dashboard = (props) => { \n  const { data , setData} = React.useContext(AuthContext);\n  //let exchange;\n  //const {state} = useContext(TradeFormContext);\n  console.log('CONTEXT',props)\n\n    //const { tradeFormContext } = React.useContext(TradeFormContext);  \n    //console.log(tradeFormContext);\n    //const { state, selectedTicker } = tradeFormContext;\n\n    //const data = state;\n    //const msg = {  message:'Fuck Yeah', alertType: 'success', timeout:10000 } \n    //const { exchange , setExchange} = React.useState({exchange:[]});\n//     useEffect(() => {\n      \n//       axios.get('/api/exchange/')\n//           .then(response => {\n//               //this.setState({ asset: response.data });\n              \n//                 setData({\n//                   ...data,\n//                   exchange: response.data\n//                 });\n//                 //setExchange(response.data)\n//           })\n//           .catch(function (error){\n//               console.log(error);\n//           })\n//       }, []);\n// console.log('AXIOS', data)\n        return (\n          \n          <div className=\"float-left\">\n            <div className=\"d-flex justify-content-between flex-wrap  align-items-center pt-3 pb-0 mb-3 border-bottom\">\n            <h1 className=\"h2\">Dashboard </h1>\n            <div className=\"btn-toolbar mb-2 mb-md-0\">\n              <div className=\"btn-group mr-2\">\n                <button className=\"btn btn-sm btn-outline-secondary\">Share</button>\n                <button className=\"btn btn-sm btn-outline-secondary\">Export</button>\n              </div>\n              <button className=\"btn btn-sm btn-outline-secondary dropdown-toggle\">\n                <span data-feather=\"calendar\"></span>\n                This week\n              </button>\n            </div>\n            <div className=\"container\" style={{marginTop: '35px', width:'100%'}}></div>\n           \n          </div>\n          \n           <ExchangeTradeList />\n        </div>\n        \n            \n        )\n\n}\n\nexport default Dashboard","import React, { Component } from 'react';\nimport axios from 'axios';\n\n\nexport default class ExchangeForm extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.onChangeName = this.onChangeName.bind(this);\n        this.onChangeApiKey = this.onChangeApiKey.bind(this);\n        this.onChangeApiName = this.onChangeApiName.bind(this);\n        this.onChangeSecret = this.onChangeSecret.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.ex = JSON.parse(localStorage.getItem('exchanges'))\n        //console.log('local',this.ex)\n        this.thisExchange = this.ex.filter(exchange => \n            props.exchange.name === exchange.name\n        )\n        if(this.thisExchange){ \n        } else {\n            this.thisExchange = [{ \n                name: props.exchange.name,\n                apiKey: '',\n                apiName: '',\n                secret: '',}];        \n        }\n\n        this.state = {\n            name: props.exchange.name,\n            apiKey: this.thisExchange.length > 0 ? this.thisExchange[0].apiKey: '',\n            apiName: this.thisExchange.length > 0 ? this.thisExchange[0].apiName: '',\n            url: props.exchange.url,\n            secret: this.thisExchange.length > 0 ? this.thisExchange[0].secret: '',\n        }\n        console.log('exchange',props.exchange);\n        \n        \n        \n    }\n\n    onChangeName(e) {\n        this.setState({\n            name: e.target.value\n        });\n    }\n\n    onChangeApiKey(e) {\n        this.setState({\n            apiKey: e.target.value\n        });\n    }\n    onChangeApiName(e) {\n        this.setState({\n            apiName: e.target.value\n        });\n    }\n\n    onChangeUrl(e) {\n        this.setState({\n            url: e.target.value\n        });\n    }\n\n    onChangeSecret(e) {\n        this.setState({\n            secret: e.target.value\n        });\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        \n        console.log(`Form submitted:`, this.state.name);;\n\n        const data = this.ex.filter(exchange => \n            this.state.name !== exchange.name\n        )\n\n        data.push({ name: this.state.name, secret: this.state.secret, apiKey:this.state.apiKey, apiName:this.state.apiName})\n        localStorage.setItem('exchanges', JSON.stringify(data));\n        this.props.hideModal();\n        //console.log(this.props)\n    }\n    \n\n    render() {\n        \n        return (\n            <div className=\"container\" style={{marginTop: 10}}>\n                \n                <form style={{width:'100%'}} onSubmit={this.onSubmit}>\n                    <div className=\"form-group\"> \n                        <label>Name: </label>\n                        <input  type=\"text\"\n                                className=\"form-control\"\n                                value={this.state.name}\n                                onChange={this.onChangeName}\n                                />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Url: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={this.state.url}\n                                onChange={this.onChangeUrl}\n                                \n                                />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>API Name: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={this.state.apiName}\n                                onChange={this.onChangeApiName}\n                                />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>API Key: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={this.state.apiKey}\n                                onChange={this.onChangeApiKey}\n                                />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Secret: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={this.state.secret}\n                                onChange={this.onChangeSecret}\n                                />\n                    </div>\n                    \n\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Save and Close\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n","import React from 'react';\n//import {SET_ALERT_OVERWRITE} from './types';\n//import { AuthContext } from \"../App\";\nimport Modal from \"react-bootstrap/Modal\";\nimport ExchangeForm from \"./exchange.component\"\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport ExchangeList from './exchanges.component';\n\n\n\n\n\nconst ModalExchange = props => {\n\n    \n    return(\n        <Modal  show={props.isOpen}  tabIndex=\"-1\">\n        <div style={{width:'400px'}} className=\"modal-dialog\">\n            <div className=\"modal-content\">\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\">{props.title}</h5>\n                <button type=\"button\" className=\"close\" onClick={props.hideModal} aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div className=\"modal-body\">\n                <ExchangeForm hideModal={props.hideModal} exchange={props.exchange} />\n            </div>\n            <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={props.hideModal}>Close</button>\n            </div>\n            </div>\n        </div>\n        </Modal>\n        )\n\n}\nexport default ModalExchange;","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useHistory } from \"react-router\";\nimport {SET_ALERT_OVERWRITE} from './types';\nimport { AuthContext } from \"../App\";\nimport ModalExchange from \"./modal-exchange.component\"\nimport Modal from \"react-bootstrap/Modal\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { combineReducers } from 'redux';\n//import { AuthContext } from \"../App\";\n//App.use(cors());\n const Exchange  = props => (\n    \n    <div className=\"card\" style={{float:'left', width: '14rem', marginRight:'10px', height:'204px'}}>\n \n        <div className=\"card-body\">\n            <h5 className=\"card-title\">{props.exchange.name} </h5>\n            <p className=\"card-text\"></p>\n            \n            <Link className=\"btn btn-primary\" onClick={() => props.showModal(props)} to={\"#\"}>Configure</Link>\n        </div>\n    </div>\n    \n    \n)\n\n\nconst ExchangeList = () => {\n\n //   const { dispatch } = React.useContext(AuthContext);\n\n    const initialState = {\n        exchange: []\n      };\n\n    const [data, setData] = React.useState(initialState);\n    \n      let history = useHistory();\n\n\n\n    //useEffect(() => {\n        useEffect(() => {\n           \n        axios.get('/api/exchange/')\n            .then(response => {\n                //this.setState({ asset: response.data });\n                setData({\n                    ...data,\n                    exchange: response.data,\n                    showModal: 'none'\n                  });\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n        }, []);\n    \n    const [isOpen, setIsOpen] = React.useState(false);\n    //const [hideModal, setHideModal] = React.useState({});\n    const [exchange, setExchange] = React.useState({});\n    const [title, setTitle] = React.useState(\"Transitioning...\");\n    const [url, setUrl] = React.useState(\"\");\n    //const [time, setTime] = React.useState(\"\");\n    const { dispatch } = React.useContext(AuthContext);\n    const showModal = props => {\n        //document.getElementById('exchangeModal').setAttribute('show', true);\n        setIsOpen(true);\n        setTitle(props.exchange.name);\n        setExchange(props.exchange)\n        //setUrl(props.exchange.url)\n        //setHideModal(hideModal);\n \n    };\n    const hideModal = () => {\n        //document.getElementById('exchangeModal').setAttribute('show', true);\n        setIsOpen(false);\n        setTitle('')\n    };\n    \n    async function asyncAxios(currentExchange) {\n        var config = {\n            method: 'get',\n            withCredentials: true,\n            url: currentExchange.url+'/time', \n            data : {}\n          };\n        try {\n        const response = await axios(config);\n        return response.data;\n        }\n        catch (error) {\n            console.log(error);\n        }\n        \n    }\n\n\n    const listExchange = () => {\n        \n        return data.exchange.map(function(currentExchange, i){\n           \n            \n             console.log('DATA',currentExchange);\n            var datas = '';\n            \n            // var config = {\n            //     method: 'get',\n            //     withCredentials: true,\n            //     url: currentExchange.url+'/time', \n            //     data : {}\n            //   };\n            //   let {data} =  axios(config);\n            //asyncAxios(currentExchange).then(function(response) {\n                //console.log('Time',response.serverTime);\n                //dispatch('SET_TIME',response.serverTime)\n                //currentExchange.serverTime = response.serverTime;\n                \n              //});\n              console.log('FFFF',data)\n            \n              return <Exchange title={currentExchange.name} hideModal={hideModal} setUrl={setUrl} setTitle={setTitle} showModal={showModal} setIsOpen={setIsOpen} exchange={currentExchange} key={i} />;\n            \n            \n        })\n    }\n\n\n  return (\n    <div className=\"container\" style={{marginTop: '35px', width:'100%'}}>\n        \n        {listExchange()}\n\n        <ModalExchange id=\"exchangeModal\" setExchange={setExchange} exchange={exchange} title={title} url={url} setUrl={setUrl} setTitle={setTitle} isOpen={isOpen} show={true} hideModal={hideModal} showModal={showModal} tabindex=\"-1\"></ModalExchange>   \n    </div>\n    \n  );\n\n}\nexport default ExchangeList;","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { AuthContext } from \"../App\";\nimport {  Link, useLocation } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n//import { Container, Row, Col, Nav, Navbar} from \"react-bootstrap\";\n\nimport Alert from \"./alert.component\";\n//import Dashboard from \"./dashboard.component\";\nimport Login from \"./login.component\";\nimport AssetList from \"./asset-list.component\";\nimport EditAsset from \"./edit-asset.component\";\nimport CreateAsset from \"./create-asset.component\";\nimport Register from \"./register.component\";\nimport Dashboard from \"./dashboard.component\";\nimport Exchanges from \"./exchanges.component\";\n\nexport const Sidebar = () => {\n\n    const { state, dispatch } = React.useContext(AuthContext);\n    let location = useLocation();\n    //console.log(location.pathname);\n    //const { state, dispatch } = React.useContext(AuthContext);\n//     const history = useHistory();\n//     const onLogout = e => {      \n//       console.log('Logout');\n//       localStorage.setItem('token', null);\n      \n//       axios.defaults.headers.common['Authorization'] = null;\n//       dispatch({\n//           type: LOGOUT\n//       })\n//       dispatch({\n//           type: SET_ALERT_OVERWRITE,\n//           payload: {  message:'Logout Successful', alertType: 'success', timeout:10000}\n//       })\n//       history.push(\"/login\");\n//    }\n    return (\n        <div className=\"container-fluid\">\n        <div className=\"row\"> \n          { state.isAuthenticated  && location.pathname !== '/register' && (<nav className=\"col-md-2 d-none d-md-block eggplant sidebar\">\n            <div className=\"sidebar-sticky\">\n              <ul className=\"nav flex-column\">\n                \n                {state.isAuthenticated && ( <li className=\"nav-item\">\n                  <Link to=\"/dashboard\" className=\"nav-link\">Dashboard</Link>\n                </li>)}\n                {state.isAuthenticated && ( <li className=\"navbar-item\">\n                  <Link to=\"/exchanges\" className=\"nav-link\">Exchanges</Link>\n                </li>)}\n                {state.isAuthenticated && ( <li className=\"navbar-item\">\n                  <Link to=\"/asset\" className=\"nav-link\">Assets</Link>\n                </li>)}\n                {state.isAuthenticated && ( <li className=\"navbar-item\">\n                  <Link to=\"/create\" className=\"nav-link\">Create Asset</Link>\n                </li>)}\n                {state.isAuthenticated && ( <li className=\"navbar-item\">\n                  <Link to=\"/edit\" className=\"nav-link\">Edit Asset</Link>\n                </li>)}\n                \n              </ul>\n            </div>\n          </nav>)}\n          \n          <main role=\"main\" style={{margingLeft:'unset'}}  className=\"col-md-9 ml-sm-auto col-lg-10 px-4\">\n          \n          \n          <Route path=\"/dashboard\" exact component={Dashboard} />\n          <Route path=\"/asset\" exact component={AssetList} />\n          <Route path=\"/exchanges\" exact component={Exchanges} />\n          <Route path=\"/edit\" component={EditAsset} />\n          <Route path=\"/create\" component={CreateAsset} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/register\" component={Register}  />\n          </main>\n          </div>\n    </div>\n    )\n};\nexport default Sidebar","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport './App.css'\nimport Alert from \"./components/alert.component\";\nimport Nav from \"./components/nav.component\";\nimport Sidebar from \"./components/sidebar.component\";\nimport {v4 as uuid } from 'uuid';\nimport { SET_ALERT, REMOVE_ALERT, LOGIN, LOGOUT, SET_ALERT_OVERWRITE} from \"./components/types\";\n\n\nexport const AuthContext = React.createContext();\n\nconst initialState = {\n  isAuthenticated: false,\n  username: null,\n  token: null,\n  message: null,\n  alerts: [],\n  onTabSelect: {},\n  prev: '',\n  setTab:{},\n  tab: '',\n  selectedTicker:'',\n  exchange: []\n};\nexport const  initalData = {\n  onTabSelect: {},\n  prev: '',\n  setTab:{},\n  tab: '',\n  selectedTicker:'',\n  exchange: [],\n  name: '',\n  apiKey:  '',\n  secret:  '',\n  url: '',\n  asks:[],\n  bids:[],\n  prevSelectedTicker: '',\n  tickerEndpoint: '',\n  secret: '',\n  price:'',\n  qty:'',\n  amount:'',\n  wallet:[]\n} ;\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case LOGIN:\n      localStorage.setItem(\"username\", action.payload.username);\n      localStorage.setItem(\"token\", action.payload.token);\n      const ls = localStorage.getItem('exchanges') ? localStorage.getItem('exchanges') : false;\n      console.log('exchanges', ls)\n      if(ls === false){\n          localStorage.setItem('exchanges',JSON.stringify([]));\n      }\n      return {\n        ...state,\n        isAuthenticated: true,\n        username: action.payload.username,\n        token: action.payload.token\n      };\n      case SET_ALERT:\n      //console.log('Message',action.payload)\n      state.alerts.push({message:action.payload.message,\n        alertType: action.payload.alertType,\n        timeout: action.payload.timeout,\n        id: uuid()});\n      return {\n        ...state,\n        message: action.payload.message,\n        alerts:state.alerts\n      };\n      case SET_ALERT_OVERWRITE:\n      //console.log('Message',action.payload)\n      state.alerts=[];\n      state.alerts.push({message:action.payload.message,\n        alertType: action.payload.alertType,\n        timeout: action.payload.timeout,\n        id: uuid()});\n      return {\n        ...state,\n        message: action.payload.message,\n        alerts:state.alerts\n      };\n      case REMOVE_ALERT:\n        //console.log('Remove Alert',action.payload, state)\n        \n        return {\n          ...state,\n          message: '',\n          alerts:state.alerts.filter(alert => alert.id !== action.payload)\n        };\n    case LOGOUT:\n      //localStorage.clear();\n      localStorage.setItem('token', '')\n      return {\n        ...state,\n        isAuthenticated: false,\n        username: null\n      };\n    default:\n      return state;\n  }\n};\n\n\n\n//console.log('Store New State',store.getState())\n\n\n  \n\n  function App() {\n\n \n\n    //let nav;\n    //window.$prevPrice = '0.00'\n    //console.log('Store State',this.props.store.getState())\n    const [state, dispatch] = React.useReducer(reducer, initialState);\n\n    const [data, setData] = React.useState(initalData);\n    \n\n \n\n\n    //console.log('App store 1',this.props.authenticated);\n    //var isLoggedIn = this.props.store.getState();\n\n    return (\n      <AuthContext.Provider\n      value={{\n        state,\n        dispatch,\n        data,\n        setData\n      }}\n    >\n      \n      <Router>\n        <div className=\"App\">     \n          <Alert />\n          <Nav /> \n          <Sidebar />\n          <br/>\n          \n        </div>\n      </Router>\n      \n      </AuthContext.Provider>\n    );\n  \n}\n\n\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === '[::1]' ||\n      // 127.0.0.1/8 is considered localhost for IPv4.\n      window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n      )\n  );\n  \n  export function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n      // The URL constructor is available in all browsers that support SW.\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n      if (publicUrl.origin !== window.location.origin) {\n        // Our service worker won't work if PUBLIC_URL is on a different origin\n        // from what our page is served on. This might happen if a CDN is used to\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n        return;\n      }\n  \n      window.addEventListener('load', () => {\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n  \n        if (isLocalhost) {\n          // This is running on localhost. Let's check if a service worker still exists or not.\n          checkValidServiceWorker(swUrl, config);\n  \n          // Add some additional logging to localhost, pointing developers to the\n          // service worker/PWA documentation.\n          navigator.serviceWorker.ready.then(() => {\n            console.log(\n              'This web app is being served cache-first by a service ' +\n                'worker. To learn more, visit https://bit.ly/CRA-PWA'\n            );\n          });\n        } else {\n          // Is not localhost. Just register service worker\n          registerValidSW(swUrl, config);\n        }\n      });\n    }\n  }\n  \n  function registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n      .register(swUrl)\n      .then(registration => {\n        registration.onupdatefound = () => {\n          const installingWorker = registration.installing;\n          if (installingWorker == null) {\n            return;\n          }\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the updated precached content has been fetched,\n                // but the previous service worker will still serve the older\n                // content until all client tabs are closed.\n                console.log(\n                  'New content is available and will be used when all ' +\n                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                );\n  \n                // Execute callback\n                if (config && config.onUpdate) {\n                  config.onUpdate(registration);\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n                console.log('Content is cached for offline use.');\n  \n                // Execute callback\n                if (config && config.onSuccess) {\n                  config.onSuccess(registration);\n                }\n              }\n            }\n          };\n        };\n      })\n      .catch(error => {\n        console.error('Error during service worker registration:', error);\n      });\n  }\n  \n  function checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n      .then(response => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        const contentType = response.headers.get('content-type');\n        if (\n          response.status === 404 ||\n          (contentType != null && contentType.indexOf('javascript') === -1)\n        ) {\n          // No service worker found. Probably a different app. Reload the page.\n          navigator.serviceWorker.ready.then(registration => {\n            registration.unregister().then(() => {\n              window.location.reload();\n            });\n          });\n        } else {\n          // Service worker found. Proceed as normal.\n          registerValidSW(swUrl, config);\n        }\n      })\n      .catch(() => {\n        console.log(\n          'No internet connection found. App is running in offline mode.'\n        );\n      });\n  }\n  \n  export function unregister() {\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.ready.then(registration => {\n        registration.unregister();\n      });\n    }\n  }\n  ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n\nserviceWorker.unregister();\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// {\n//   \"e\": \"24hrTicker\",  // Event type\n//   \"E\": 123456789,     // Event time\n//   \"s\": \"BNBBTC\",      // Symbol\n//   \"p\": \"0.0015\",      // Price change\n//   \"P\": \"250.00\",      // Price change percent\n//   \"w\": \"0.0018\",      // Weighted average price\n//   \"x\": \"0.0009\",      // First trade(F)-1 price (first trade before the 24hr rolling window)\n//   \"c\": \"0.0025\",      // Last price\n//   \"Q\": \"10\",          // Last quantity\n//   \"b\": \"0.0024\",      // Best bid price\n//   \"B\": \"10\",          // Best bid quantity\n//   \"a\": \"0.0026\",      // Best ask price\n//   \"A\": \"100\",         // Best ask quantity\n//   \"o\": \"0.0010\",      // Open price\n//   \"h\": \"0.0025\",      // High price\n//   \"l\": \"0.0010\",      // Low price\n//   \"v\": \"10000\",       // Total traded base asset volume\n//   \"q\": \"18\",          // Total traded quote asset volume\n//   \"O\": 0,             // Statistics open time\n//   \"C\": 86400000,      // Statistics close time\n//   \"F\": 0,             // First trade ID\n//   \"L\": 18150,         // Last trade Id\n//   \"n\": 18151          // Total number of trades\n// }\n\nclass Transformer {\n    constructor(exchangeName) {\n      this.name = exchangeName;\n    }\n\n    getStream( json, symbol, prevPrices) {\n    //console.log('GETSTREAM',this.name,json, symbol);\n        if(this.name === 'Bitmart'){\n          var transformed = {};\n          var len = prevPrices.length;\n          var priceStyle = '';\n          if(parseFloat(prevPrices[len-1]) > parseFloat(json.last_price)){\n            priceStyle = 'text-danger';\n          } else if(parseFloat(prevPrices[len-1]) < parseFloat(json.last_price)){\n            priceStyle = 'text-success';\n          } else {\n            priceStyle = '';\n          }\n\n          transformed = {\n            lastPrice: json.last_price,\n            high24hr: json.high_24h,\n            low24hr: json.low_24h,\n            open24hr: json.open_24h,\n            volume24hr: json.base_volume_24h.split('.')[0],\n            priceStyle: priceStyle,\n            prevPrice: prevPrices[len-1],\n            baseAsset: symbol.replace(/.*_/g,\"\")\n        };\n\n\n\n          return transformed;\n        }\n        if(this.name === 'Binance'){\n          var transformed = {};\n          var len = prevPrices.length\n          var priceStyle = '';\n          if(parseFloat(prevPrices[len-1]) > parseFloat(json.c)){\n            priceStyle = 'text-danger';\n          } else if(parseFloat(prevPrices[len-1]) < parseFloat(json.c)){\n            priceStyle = 'text-success';\n          } else {\n            priceStyle = '';\n          }\n        //console.log('PREVIOUS', prevPrices[len - 1], json.c, Math.floor(parseFloat(prevPrices[len-1])*1000000)   > Math.floor(parseFloat(json.c)*1000000));\n        transformed = {\n            lastPrice: json.c,\n            high24hr: json.h,\n            low24hr: json.l,\n            open24hr: json.o,\n            volume24hr: json.v !== undefined ? json.v.split('.')[0]: '',\n            priceStyle: priceStyle,\n            prevPrice: prevPrices[len-1],\n            baseAsset: symbol.replace(/.*_/g,\"\")\n        };\n          return transformed ;\n        }\n    }\n  }\n  module.exports = Transformer ;"],"sourceRoot":""}