(this["webpackJsonpsignal-app"]=this["webpackJsonpsignal-app"]||[]).push([[0],{126:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"Decompress",(function(){return l}));var n=a(39),s=a.n(n),c=a(53),i=a(16),r=a(17),o=a(70),l=function(){function t(){Object(i.a)(this,t)}return Object(r.a)(t,[{key:"unzip",value:function(){var t=Object(c.a)(s.a.mark((function t(a,n){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("UnZipping",a),a instanceof Blob?(c=a.stream(),c.getReader().read().then((function(t){var a=t.done,s=t.value;if(a);else{var c=e.from(s);o.inflateRaw(c,{flush:3,info:!0},n)}}))):console.log("Return Orig",a);case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}]),t}()}.call(this,a(14).Buffer)},187:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var n=a(3),s=a(70),c=a(60);function i(e,t,a,n){var s=Object.create(r);return s.client={},s.getClient(e,t,a,n)}var r={getClient:function(t,a,i,r){var o="";o="Binance"===t.exchange.name?"wss://stream.binance.com:9443/ws/"+t.selectedTicker.replace(/_/g,"").toLowerCase()+"@aggTrade":"wss://ws-manager-compress.bitmart.com?protocol=1.1",this.client=new c(o,null,{timeout:4e3,shouldReconnect:function(e,t){if(console.log("Reconnecting"),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){console.log("WebSocket Client Connected"),r.length>0&&"Bitmart"===t.exchange.name&&this.send(r)}));var l=[];return i.market=[],a(Object(n.a)({},i)),this.client.addEventListener("message",(function(t){if(r.length,t.data instanceof Blob){t.data.stream().getReader().read().then((function(t){var c=t.done,r=t.value;if(c);else{var o=e.from(r);s.inflateRaw(o,{flush:3,info:!0},(function(e,t){var s=JSON.parse(t.toString("UTF-8"));i.market.unshift(s.data[0]),i.market.length>9&&i.market.splice(9,1),a(Object(n.a)({},i))}))}}))}else{if("pong"===t.data||"ping"===t.data)return;try{var c=JSON.parse(t.data),o=l.length,d="";d=parseFloat(l[o-1])>parseFloat(c.p)?"sell":"buy",i.market.unshift({price:c.p,size:c.q,side:d}),i.market.length>9&&i.market.splice(9,1),a(Object(n.a)({},i)),l.push(c.p),l.length>2&&l.splice(0,1)}catch(u){console.log(u)}}})),this.client.addEventListener("close",(function(e){a({asks:[],bids:[],market:[]}),e.data})),this.client}}}).call(this,a(14).Buffer)},189:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));var n=a(3),s=a(70),c=a(60),i=a(73);function r(e,t,a,n){var s=Object.create(o);return s.client={},s.getClient(e,t,a,n)}var o={getClient:function(t,a,r,o){var l="";l="Binance"===t.exchange.name?"wss://stream.binance.com:9443/ws/"+t.selectedTicker.replace(/_/g,"").toLowerCase()+"@miniTicker":"wss://ws-manager-compress.bitmart.com?protocol=1.1",this.client=new c(l,null,{timeout:4e3,shouldReconnect:function(e,t){if(console.log("Reconnecting",e,t,l),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){console.log("WebSocket Client Connected"),o.length>0&&"Bitmart"===t.exchange.name&&this.send(o)}));var d=[];return this.client.addEventListener("message",(function(c){if(o.length,c.data instanceof Blob){var l=new i(t.exchange.name);c.data.stream().getReader().read().then((function(c){var i=c.done,o=c.value;if(i);else{var u=e.from(o);s.inflateRaw(u,{flush:3,info:!0},(function(e,s){var c=JSON.parse(s.toString("UTF-8")),i=l.getStream(c.data[0],t.selectedTicker,d);a(Object(n.a)(Object(n.a)({},r),i)),d.push(i.lastPrice),d.length>2&&d.splice(0,1)}))}}))}else{if("pong"===c.data||"ping"===c.data)return;var u=new i(t.exchange.name);try{var h=JSON.parse(c.data),m=u.getStream(h,t.selectedTicker,d);a(Object(n.a)(Object(n.a)({},r),m)),d.push(m.lastPrice),d.length>2&&d.splice(0,1)}catch(g){console.log(g)}}})),this.client.addEventListener("close",(function(e){d=[],a({high24hr:"",low24hr:"",open24hr:"",volume24hr:"",lastPrice:"",priceStyle:"",prevPrice:"0.00"}),e.data})),this.client}}}).call(this,a(14).Buffer)},190:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var n=a(3),s=a(70),c=a(60);function i(e,t,a,n){var s=Object.create(r);return s.client={},s.getClient(e,t,a,n)}var r={getClient:function(t,a,i,r){var o="";return o="Binance"===t.exchange.name?"wss://stream.binance.com:9443/ws/"+t.selectedTicker.replace(/_/g,"").toLowerCase()+"@depth5@100ms":"wss://ws-manager-compress.bitmart.com?protocol=1.1",this.client=new c(o,null,{timeout:4e3,shouldReconnect:function(e,t){if(console.log("Reconnecting"),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){console.log("WebSocket Client Connected"),r.length>0&&"Bitmart"===t.exchange.name&&this.send(r)})),this.client.addEventListener("message",(function(t){if(r.length,t.data instanceof Blob){t.data.stream().getReader().read().then((function(t){var c=t.done,r=t.value;if(c);else{var o=e.from(r);s.inflateRaw(o,{flush:3,info:!0},(function(e,t){var s=JSON.parse(t.toString("UTF-8")).data[0];a(Object(n.a)(Object(n.a)({},i),s))}))}}))}else{if("pong"===t.data||"ping"===t.data)return;try{var c=JSON.parse(t.data);a(Object(n.a)(Object(n.a)({},i),c))}catch(o){console.log(o)}}})),this.client.addEventListener("close",(function(e){a({asks:[],bids:[]}),e.data})),this.client}}}).call(this,a(14).Buffer)},200:function(e,t,a){},201:function(e,t,a){},232:function(e,t){},234:function(e,t){},255:function(e,t){},257:function(e,t){},285:function(e,t){},287:function(e,t){},288:function(e,t){},293:function(e,t){},295:function(e,t){},314:function(e,t){},326:function(e,t){},329:function(e,t){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(29),i=a.n(c),r=(a(200),a(7)),o=a(3),l=a(20),d=(a(44),a(201),"SET_ALERT"),u="SET_ALERT_OVERWRITE",h="REMOVE_ALERT",m="LOGIN",g="LOGOUT",b=a.p+"static/media/logo.6ce24c58.svg",p=a(1),j=function(){var e,t=s.a.useContext(ve),a=t.state,n=t.dispatch,c=a.alerts;return"undefined"!==typeof c&&null!==c&&c.length>0?c.filter((function(e){return"null"!==e.message})).map((function(t,a){return e=t.id,setTimeout((function(){return n({type:h,payload:t.id})}),t.timeout),t.id&&Object(p.jsx)("div",{className:"","aria-live":"polite","aria-atomic":"true",style:{position:"absolute",top:"150px",right:"500px",minHeight:"200px",width:"200px",zIndex:1e3},children:Object(p.jsxs)("div",{id:e,className:"toast fade show",children:[Object(p.jsxs)("div",{className:"toast-header",children:[Object(p.jsx)("img",{style:{width:30,height:30},src:b,className:"rounded mr-2",alt:"..."}),Object(p.jsx)("strong",{className:"mr-auto",children:"System"}),Object(p.jsx)("button",{type:"button",onClick:function(t){return a=e,console.log(a),void n({type:h,payload:a});var a},className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",children:Object(p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(p.jsx)("div",{className:"toast-body",children:t.message})]})},t.id)})):null},f=a(13),O=a.n(f),x=a(10),v=function(){var e=s.a.useContext(ve),t=e.state,a=e.dispatch,n=Object(x.e)();return Object(p.jsx)("div",{children:Object(p.jsx)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("div",{className:"pull-left",children:[Object(p.jsx)("a",{className:"navbar-brand",onClick:function(){t.isOpen||a({type:"MENU_STATE",payload:!0})},href:"#",target:"",rel:"noreferrer",children:Object(p.jsx)("img",{src:b,width:"30",height:"30",alt:"CodingTheSmartWay.com"})}),Object(p.jsx)(l.b,{to:"/dashboard",className:"navbar-brand",children:"Order Desk"})]}),Object(p.jsx)("div",{className:"pull-right",children:Object(p.jsxs)("ul",{className:"navbar-nav navbar-right pull-right mr-auto",children:[t.isAuthenticated?Object(p.jsx)("li",{className:"navbar-item pull-right",children:Object(p.jsx)(l.b,{to:"/login",onClick:function(e){console.log("Logout"),localStorage.setItem("token",null),O.a.defaults.headers.common.Authorization=null,a({type:g}),a({type:u,payload:{message:"Logout Successful",alertType:"success",timeout:3e3}}),n.push("/login")},className:"nav-link",children:"Log Out"})}):Object(p.jsx)("li",{className:"navbar-item pull-right",children:Object(p.jsx)(l.b,{to:"/login",isloggedin:"true",className:"nav-link",children:"Login "})}),Object(p.jsx)("li",{className:"navbar-item",children:Object(p.jsx)(l.b,{to:"/register",className:"nav-link",children:"Register"})})]})})]})})})},y=function(){var e=s.a.useContext(ve).dispatch,t=s.a.useState({username:"",password:"",isSubmitting:!1,errorMessage:null}),a=Object(r.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(navigator.onLine),u=Object(r.a)(l,2),h=u[0],g=(u[1],Object(x.e)());Object(n.useEffect)((function(){return function(){}}),[]);var b=window.location.search;new URLSearchParams(b).get("offline");return Object(p.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(p.jsx)("h3",{children:"Login"}),Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),i(Object(o.a)(Object(o.a)({},c),{},{isSubmitting:!0,errorMessage:null})),console.log("Form submitted:");var a={username:c.username,password:c.password};O.a.post("/api/auth/signin",a).then((function(t){console.log(t.data),localStorage.setItem("token",t.data.token),O.a.defaults.headers.common.Authorization=t.data.token,O.a.defaults.baseURL="",e({type:m,payload:t.data}),e({type:d,payload:{message:"Login Successful",alertType:"success",timeout:3e3}}),g.push("/dashboard")})),i(Object(o.a)(Object(o.a)({},c),{},{username:"",password:"",isLoggedIn:!0}))},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"User Name: "}),Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"User Name or Email",autoComplete:"username",value:c.username,onChange:function(e){i(Object(o.a)(Object(o.a)({},c),{},{username:e.target.value}))}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Password: "}),Object(p.jsx)("input",{type:"password",placeholder:"Password",className:"form-control",value:c.password,autoComplete:"current-password",onChange:function(e){i(Object(o.a)(Object(o.a)({},c),{},{password:e.target.value}))}})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"submit",disabled:!h,value:h?"Login":"Offline",className:"btn btn-primary"})})]})]})},k=a(16),S=a(17),N=a(366),T=a(365),w=a(126).Decompress,E=a(60),C=a(73),L=function(){function e(t,a,n,s,c){var i=this;Object(k.a)(this,e),console.log("BITMART PROPS",a,n,s,c);var r=n.selectedTicker;this.client=new E(a.url,null,{timeout:6e5,shouldReconnect:function(e,t){if(console.log("Reconnecting"),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]}}),this.name="Bitmart",this.login=a.login||!1,this.trades=c,this.ping_id=0,this.ping_time=1e4,this.symbol=n.selectedTicker||"SHIB_USDT",this.url=a.url||"wss://ws-manager-compress.bitmart.com?protocol=1.1",this.client.binaryType="blob",this.pingText="pong",this.subscribeMessage=this.getSubscribeMessage(r),this.unsubscribeMessage=this.getUnsubscribeMessage(r),this.transformer=new C(this.name),this.decompress=new w,this.key=s.key,this.secret=s.secret,this.apiName=s.apiName,this.client.addEventListener("open",(function(e){})),this.client.addEventListener("close",(function(e){})),this.client.addEventListener("message",(function(e){})),this.messageEvent=Object(N.a)(this.client,"message"),this.loginEvent=this.messageEvent.pipe(Object(T.a)((function(e){return"string"===typeof e.data}))).pipe(Object(T.a)((function(e){return e.data!==i.pingText}))).pipe(Object(T.a)((function(e){return"login"===JSON.parse(e.data).event}))),this.loginEvent.subscribe((function(e){var t=i.getSubscribeMessage(r);i.client.send(t)})),this.blobEvent=this.messageEvent.pipe(Object(T.a)((function(e){return e.data instanceof Blob}))),this.blobEvent.subscribe((function(e){var t=e.data;i.decompress.unzip(t,(function(e,a){t=JSON.parse(a.toString("UTF-8")),i.setOpenOrders(t,n)}))})),this.pingEvent=this.messageEvent.pipe(Object(T.a)((function(e){return"string"===typeof e.data}))).pipe(Object(T.a)((function(e){return e.data===i.pingText}))),this.pingEvent.subscribe((function(e){})),this.openEvent=Object(N.a)(this.client,"open").subscribe((function(e){if(console.log("OPEN EVENT",e),i.login){var t=i.getLoginMessage(s.key,s.secret,s.apiName);console.log("LoginMessage",t),i.client.send(t)}else var a=i.getSubscribeMessage(r),n=setInterval((function(){1===i.client.readyState&&(i.client.send(a),clearInterval(n))}),1e3);i.ping_id=setInterval((function(){1===i.client.readyState&&i.client.send("ping")}),i.ping_time)})),this.closeEvent=Object(N.a)(this.client,"close").subscribe((function(e){console.log("CLOSE EVENT",e),clearInterval(i.ping_id)}))}return Object(S.a)(e,[{key:"setOpenOrders",value:function(e,t){if(void 0!==e&&void 0!==e.data&&e.data.length>0){t.setData(Object(o.a)(Object(o.a)({},t.data),{},{asset:[]}));var a=this.transformer.getTradeStream(e.data[0],this.symbol);"CANCELED"===a.state?this.trades=this.trades.filter((function(e){return e.order_id!==a.order_id})):this.trades.unshift(a),t.setData(Object(o.a)(Object(o.a)({},t.data),{},{asset:this.trades}))}}},{key:"getLoginMessage",value:function(e,t,n){var s=Date.now().toString(),c={op:"login",args:[e,s,a(137).createHmac("sha256",t).update(s+"#"+n+"#bitmart.WebSocket").digest("hex")]};return JSON.stringify(c)}},{key:"getSubscribeMessage",value:function(e){return console.log("getSubscribeMessage",e),this.symbol=e,JSON.stringify({op:"subscribe",args:["spot/user/order:"+e]})}},{key:"getUnsubscribeMessage",value:function(e){return console.log("getUnSubscribeMessage",e),JSON.stringify({op:"unsubscribe",args:["spot/user/order:"+e]})}}]),e}(),A=a(126).Decompress,I=a(60),_=a(73),P={BitmartWebSocket:L,BinanceWebSocket:function(){function e(t,a,n,s,c){var i=this;Object(k.a)(this,e);var r=n.selectedTicker;this.client=new I(a.url,null,{timeout:6e5,shouldReconnect:function(e,t){if(console.log("Reconnecting"),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]}}),this.name="Binance",this.login=a.login||!1,this.trades=c||[],this.ping_id=0,this.ping_time=1e6,this.symbol=n.selectedTicker||"DOGEUSDT",this.url=a.url||"wss://stream.binance.us:9443/ws/",this.client.binaryType="blob",this.pingIn="ping",this.pingOut="pong",this.subscribeMessage=this.getSubscribeMessage(r),this.unsubscribeMessage=this.getUnsubscribeMessage(r),this.transformer=new _(this.name),this.decompress=new A,this.key=s.key,this.secret=s.secret,this.apiName=s.apiName,this.client.addEventListener("open",(function(e){console.log("RAW OPEN S B O",typeof e.data,e)})),this.client.addEventListener("close",(function(e){})),this.client.addEventListener("message",(function(e){})),this.messageEvent=Object(N.a)(this.client,"message"),this.loginEvent=this.messageEvent.pipe(Object(T.a)((function(e){return"string"===typeof e.data}))).pipe(Object(T.a)((function(e){return e.data!==i.pingIn}))).pipe(Object(T.a)((function(e){return"login"===JSON.parse(e.data).event}))),this.loginEvent.subscribe((function(e){})),this.blobEvent=this.messageEvent.pipe(Object(T.a)((function(e){return"executionReport"===JSON.parse(e.data).e}))),this.blobEvent.subscribe((function(e){var t=JSON.parse(e.data);i.setOpenOrders(t,n)})),this.pingEvent=this.messageEvent.pipe(Object(T.a)((function(e){return"string"===typeof e.data}))).pipe(Object(T.a)((function(e){return e.data===i.pingIn}))),this.pingEvent.subscribe((function(e){console.log("PING EVENT MESSAGE",e.data),i.client.send(i.pingOut)})),this.openEvent=Object(N.a)(this.client,"open").subscribe((function(e){i.login})),this.closeEvent=Object(N.a)(this.client,"close").subscribe((function(e){clearInterval(i.ping_id)}))}return Object(S.a)(e,[{key:"setOpenOrders",value:function(e,t){if(console.log("setOpenOrders",Array.isArray(e),typeof e),void 0!==e||!Array.isArray(e)){t.setData(Object(o.a)(Object(o.a)({},t.data),{},{asset:[]}));var a=this.transformer.getTradeStream(e,this.symbol);"CANCELED"===a.state?this.trades=this.trades.filter((function(e){return e.order_id!==a.order_id})):this.trades.unshift(a),t.setData(Object(o.a)(Object(o.a)({},t.data),{},{asset:this.trades}))}}},{key:"getLoginMessage",value:function(e,t,n){var s=Date.now().toString(),c={op:"login",args:[e,s,a(137).createHmac("sha256",t).update(s+"#"+n+"#bitmart.WebSocket").digest("hex")]};return JSON.stringify(c)}},{key:"getSubscribeMessage",value:function(e){return console.log("getSubscribeMessage",e),this.symbol=e,JSON.stringify({op:"subscribe",args:["spot/user/order:"+e]})}},{key:"getUnsubscribeMessage",value:function(e){return console.log("getUnSubscribeMessage",e),JSON.stringify({op:"unsubscribe",args:["spot/user/order:"+e]})}}]),e}()},B=function(){function e(){Object(k.a)(this,e)}return Object(S.a)(e,null,[{key:"createInstance",value:function(e,t,a,n,s){console.log("createInstance",e,a,n,s);var c=P[e.name];return c?new c(e,t,a,n,s):null}}]),e}(),M=a(81),R=a.n(M),F=(a(181),a(187)),D=function(e){var t=Object(x.e)(),a=Object(n.useState)(""),s=Object(r.a)(a,2),c=s[0],i=s[1],o=Object(n.useState)({}),l=Object(r.a)(o,2),d=l[0],u=l[1],h=Object(n.useState)(navigator.onLine),m=Object(r.a)(h,1)[0],g=function(){console.log("We are online!"),m(!0)},b=function(){console.log("We are offline!"),t.push("/login?offline=true"),m(!1)},j=function(t){console.log("Price Click",t.target.innerText);var a={target:{value:t.target.innerText}};e.onChangePrice(a)};if(Object(n.useEffect)((function(){window.addEventListener("offline",b),window.addEventListener("online",g);var t=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(t||(t=[{name:e.exchange.name,apiKey:"",secret:""}]),u({name:e.exchange.name,apiKey:t.length>0?t[0].apiKey:"",secret:t.length>0?t[0].secret:"",url:e.exchange.url,asks:[],bids:[],market:[],selectedTicker:"",prevSelectedTicker:e.selectedTicker,tickerEndpoint:e.exchange.tickerEndpoint}),!(e.selectedTicker.length<3)){var a="";void 0===localStorage.getItem("selectedTicker")?(localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]})):e.selectedTicker===localStorage.getItem("selectedTicker")||e.selectedTicker!==localStorage.getItem("selectedTicker")&&(a=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]}),localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]})),e.exchange.name;var n=[];if(a=JSON.stringify({op:"subscribe",args:["spot/trade:"+e.selectedTicker]}),n[e.exchange.name]=new F.a(e,u,d,a),"Bitmart"===e.exchange.name){var s=setInterval((function(){1===n.Bitmart.readyState&&n.Bitmart.send("ping")}),15e3);i(s)}return function(){window.removeEventListener("offline",b),window.removeEventListener("online",g),u({});var e=JSON.stringify({op:"unsubscribe",args:["spot/trade:"+localStorage.getItem("selectedTicker")]});localStorage.setItem("selectedTicker",""),n.Bitmart&&(clearInterval(c),n.Bitmart.close()),n.Binance&&n.Binance.close(),console.log("Leaving",e)}}}),[e.selectedTicker]),void 0===d.market)return null;if(void 0===d.bids)return null;var f="";return Object(p.jsx)("div",{className:"pull-right",style:{marginTop:"2px",marginBottom:"2px",paddingRight:"35px",width:"160px"},children:Object(p.jsx)("ul",{className:"pt-1",style:{listStyleType:"none",paddingLeft:"0px"},children:d.market.map((function(e,t){return f="buy"===e.side?"text-success":"text-danger",Object(p.jsxs)("li",{className:"tiny",style:{whiteSpace:"nowrap"},children:[Object(p.jsx)("small",{onClick:j,className:f,children:e.price})," ",Object(p.jsx)("small",{className:"",children:e.size.split(".")[0]})]},t)}))})})},U=a(114),J=a(73),K=function(e){var t;return console.log("AssetProps",e),void 0===e.assets||e.assets.length<1?null:(console.log("AssetProps1",e.assets),e.assets.map((function(e,a){return t=void 0!==e.state&&"CANCELED"===e.state?{textDecoration:"line-through"}:{},Object(p.jsxs)("tr",{style:t,children:[Object(p.jsx)("td",{className:"buy"===e.side?"text-success":"text-danger",children:void 0!==e.pair?e.pair.replace(/_/g,"/"):""}),Object(p.jsxs)("td",{style:{textTransform:"capitalize",whiteSpace:"nowrap"},className:" ",children:[e.price," ",void 0!==e.order_type?e.order_type:""]}),Object(p.jsxs)("td",{className:"",children:[void 0!==e.qty?e.qty:""," "]}),Object(p.jsxs)("td",{style:{},className:"",children:[e.cost," ",e.base]}),Object(p.jsx)("td",{style:{},className:"",children:e.transaction_date})]},a)})))},W=function(e){var t=Object(n.useState)(""),a=Object(r.a)(t,2),s=a[0],c=(a[1],Object(n.useState)({asset:[]})),i=Object(r.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(navigator.onLine),h=Object(r.a)(u,1)[0],m=Object(n.useState)(0),g=Object(r.a)(m,2),b=g[0],j=g[1],f=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(f||(f=[{name:e.exchange.name,apiKey:"",secret:""}]),Object(n.useEffect)((function(){R()("#carousel-"+e.exchange.name).carousel("pause"),R()("#carousel-"+e.exchange.name).on("slide.bs.carousel",(function(e){console.log(e.to),j(e.to),e.to,y()}))}),[e.selectedTicker,j]),Object(n.useEffect)((function(){var t,a=[];if(!(void 0===e.selectedTicker||e.selectedTicker.length<1)){var n=f[0].apiKey,c=f[0].apiName,i=f[0].secret;console.log("CREDS",n,c,i);var r=[];e.setData(Object(o.a)(Object(o.a)({},e.data),{},{asset:[]})),console.log("GETTING TRADES",e,b);var l=new J(e.exchange.name);return O.a.get("/api/"+e.exchange.name+"/trades?status=4&symbol="+e.selectedTicker,{headers:{xbmkey:n,xbmname:c,xbmsecret:i}}).then((function(s){console.log("TRADES DATA",s.data,e.data,"/api/"+e.exchange.name+"/trades?status=4&symbol="+e.selectedTicker),a=l.getTrades(s.data.trades,e.selectedTicker),e.setData(Object(o.a)(Object(o.a)({},e.data),{},{asset:a})),"Binance"===e.exchange.name&&(t=s.data.listenKey,console.log("LISTENKEY",t)),console.log("Properties",e,{key:n,apiName:c,secret:i},a,!0);var d={Bitmart:{name:"BitmartWebSocket",login:!0,url:"wss://ws-manager-compress.bitmart.com?protocol=1.1"},Binance:{name:"BinanceWebSocket",login:!1,url:"wss://stream.binance.us:9443/ws/"+t}},u="Bitmart"===e.exchange.name?d[e.exchange.name].url:d[e.exchange.name].url+t;r[e.exchange.name]=B.createInstance(d[e.exchange.name],u,e,{key:n,apiName:c,secret:i},a),e.exchange.name})).catch((function(e){console.log(e)})),function(){window.removeEventListener("offline",v),window.removeEventListener("online",x),localStorage.setItem("selectedTicker",""),void 0!==r.Bitmart&&(clearInterval(s),r.Bitmart.client.close()),r.Binance,console.log("Leaving")}}}),[e.selectedTicker,b]),console.log("AssetsList",e),void 0!==e.data&&void 0!==e.data.asset&&void 0!==e.selectedTicker){var x=function(){console.log("We are online!"),h(!0)},v=function(){console.log("We are offline!"),l.push("/login?offline=true"),h(!1)},y=function(){var t,a=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));a||(a=[{name:e.exchange.name,apiKey:"",secret:""}]);var n=a[0].apiKey,s=a[0].apiName,c=a[0].secret;d(Object(o.a)(Object(o.a)({},l),{},{asset:[]})),console.log("GETTING ORDERS",e,a);var i=new J(e.exchange.name);O.a.get("http://localhost:4000/"+e.exchange.name+"/trades?status=6&symbol="+e.selectedTicker,{headers:{xbmkey:n,xbmname:s,xbmsecret:c}}).then((function(a){console.log("ORDERS DATA",a.data),t=i.getTrades(a.data.trades,e.selectedTicker),d(Object(o.a)(Object(o.a)({},l),{},{asset:t}))})),console.log("listOrderHistory",l)};return Object(p.jsx)("div",{className:"font-face-din fx-12",style:{width:"100%",maxHeight:"196px",overflow:"scroll",overflowY:"scroll"},children:Object(p.jsxs)("div",{id:"carousel-"+e.exchange.name,className:"carousel slide",children:[Object(p.jsxs)("ol",{className:"carousel-indicators carousel-indicators-numbers",children:[Object(p.jsx)("li",{"data-target":"#carousel-"+e.exchange.name,"data-slide-to":"0",className:"active",children:"Open Orders"}),Object(p.jsx)("li",{"data-target":"#carousel-"+e.exchange.name,"data-slide-to":"1",className:"",children:"Order History"}),Object(p.jsx)("li",{"data-target":"#carousel-"+e.exchange.name,"data-slide-to":"2",children:"Market Trades"})]}),Object(p.jsxs)("div",{className:"carousel-inner",role:"listbox",children:[Object(p.jsx)("div",{className:"carousel-item active",children:Object(p.jsx)(U.a,{size:"sm",className:"font-face-din fx-11 mb-0",style:{marginTop:0,width:"100%",minWidth:"375px",textAlign:"left"},children:Object(p.jsx)("tbody",{style:{overflow:"auto"},children:Object(p.jsx)(K,{data:e.data,assets:e.data.asset})})})}),Object(p.jsx)("div",{className:"carousel-item",children:Object(p.jsx)(U.a,{size:"sm",className:"font-face-din fx-11 mb-0",style:{marginTop:0,width:"100%",minWidth:"375px",textAlign:"left"},children:Object(p.jsx)("tbody",{style:{overflow:"auto"},children:Object(p.jsx)(K,{data:l,assets:l.asset})})})}),Object(p.jsx)("div",{className:"carousel-item",children:Object(p.jsx)("div",{size:"sm",className:"font-face-din fx-11 mb-0",style:{marginTop:0,width:"100%",minWidth:"375px",textAlign:"left"},children:Object(p.jsx)("div",{style:{overflow:"auto"},children:Object(p.jsx)(D,{onChangePrice:e.onChangePrice,clearTicker:e.clearTicker,baseAsset:e.data.baseAsset,exchange:e.exchange,selectedTicker:e.selectedTicker,prevSelectedTicker:e.prevSelectedTicker})})})})]})]})})}},q=a(36),z=a(35),G=a(188),V=a.n(G),H=function(e){Object(q.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={options:{alignLabels:!0,timeScale:{rightOffset:12,barSpacing:3,fixLeftEdge:!0,lockVisibleTimeRangeOnResize:!0,rightBarStaysOnScroll:!0,borderVisible:!1,borderColor:"#fff000",visible:!0,timeVisible:!0,secondsVisible:!1}},candlestickSeries:[{data:[{time:"2018-10-19",open:180.34,high:180.99,low:178.57,close:179.85},{time:"2018-10-22",open:180.82,high:181.4,low:177.56,close:178.75},{time:"2018-10-23",open:175.77,high:179.49,low:175.44,close:178.53},{time:"2018-10-24",open:178.58,high:182.37,low:176.31,close:176.97},{time:"2018-10-25",open:177.52,high:180.5,low:176.83,close:179.07},{time:"2018-10-26",open:176.88,high:177.34,low:170.91,close:172.23},{time:"2018-10-29",open:173.74,high:175.99,low:170.95,close:173.2},{time:"2018-10-30",open:173.16,high:176.43,low:172.64,close:176.24},{time:"2018-10-31",open:177.98,high:178.85,low:175.59,close:175.88},{time:"2018-11-01",open:176.84,high:180.86,low:175.9,close:180.46},{time:"2018-11-02",open:182.47,high:183.01,low:177.39,close:179.93},{time:"2018-11-05",open:181.02,high:182.41,low:179.3,close:182.19}]}]},n}return Object(S.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"container",style:{height:"200px"},children:Object(p.jsx)(V.a,{options:this.state.options,candlestickSeries:this.state.candlestickSeries,autoWidth:!0,height:320})})}}]),a}(s.a.Component),X=a(21),Q=function(e){Object(q.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).onChangePair=n.onChangePair.bind(Object(X.a)(n)),n.onChangePrice=n.onChangePrice.bind(Object(X.a)(n)),n.onChangeAmount=n.onChangeAmount.bind(Object(X.a)(n)),n.onSubmit=n.onSubmit.bind(Object(X.a)(n)),n.state={pair:"",price:"",amount:""},n}return Object(S.a)(a,[{key:"onChangePair",value:function(e){this.setState({pair:e.target.value})}},{key:"onChangePrice",value:function(e){this.setState({price:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Form submitted:",this.state),console.log("Pair: ".concat(this.state.pair)),console.log("Price: ".concat(this.state.price)),console.log("Amount: ".concat(this.state.amount));var a={pair:this.state.pair,price:this.state.price,amount:this.state.amount};O.a.post("/api/asset/add",a).then((function(e){console.log(e.data),t.setState({redirectTo:"/"})})),this.setState({pair:"",price:"",amount:""})}},{key:"render",value:function(){return Object(p.jsxs)("div",{style:{marginLeft:"12px",minWidth:"400px"},className:"float-left pt-2",children:[Object(p.jsx)("h5",{children:"Create New Asset"}),Object(p.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Pair: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.pair,onChange:this.onChangePair})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Price: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.price,onChange:this.onChangePrice})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Amount: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.amount,onChange:this.onChangeAmount})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"submit",value:"Create Asset",className:"btn btn-primary"})})]})]})}}]),a}(n.Component),Y=function(e){Object(q.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(X.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(X.a)(n)),n.onSubmit=n.onSubmit.bind(Object(X.a)(n)),n.state={username:"",password:""},n}return Object(S.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Registration submitted:",this.state),console.log("Pair: ".concat(this.state.username)),console.log("Price: ".concat(this.state.price)),console.log("Amount: ".concat(this.state.amount));var a={username:this.state.username,password:this.state.password};O.a.post("/api/auth/signup",a).then((function(e){console.log(e.data),t.props.history.push("/login")})),this.setState({username:"",password:""})}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(p.jsx)("h3",{children:"Register"}),Object(p.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"User Name: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.onChangeUsername})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Password: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.password,onChange:this.onChangePassword})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"submit",value:"Register",className:"btn btn-primary"})})]})]})}}]),a}(n.Component),Z=(a(39),a(53),a(193)),$=function(e){return Object(p.jsx)(Z.a,{classNamePrefix:"react-select",className:"react-select-container",options:e.options,onFocus:e.onFocus,onChange:e.onChange})},ee=a(189),te=function(e){var t=Object(x.e)(),a=Object(n.useState)(""),s=Object(r.a)(a,2),c=s[0],i=s[1],o=Object(n.useState)({}),l=Object(r.a)(o,2),d=l[0],u=l[1],h=Object(n.useState)(navigator.onLine),m=Object(r.a)(h,1)[0],g=function(){console.log("We are online!"),m(!0)},b=function(){console.log("We are offline!"),t.push("/login?offline=true"),m(!1)};return Object(n.useEffect)((function(){}),[d.lastPrice,e.selectedTicker]),Object(n.useEffect)((function(){window.addEventListener("offline",b),window.addEventListener("online",g);var t=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(t||(t=[{name:e.exchange.name,apiKey:"",secret:""}]),u({name:e.exchange.name,apiKey:t.length>0?t[0].apiKey:"",secret:t.length>0?t[0].secret:"",url:e.exchange.url,high24hr:"",low24hr:"",open24hr:"",volume24hr:"",lastPrice:"",priceStyle:"",prevPrice:"0.00",selectedTicker:"",prevSelectedTicker:e.selectedTicker,tickerEndpoint:e.exchange.tickerEndpoint}),console.log("exchange",e.exchange,e),!(e.selectedTicker.length<3)){var a="";void 0===localStorage.getItem("selectedTicker")?(localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/ticker:"+e.selectedTicker]})):e.selectedTicker===localStorage.getItem("selectedTicker")||e.selectedTicker!==localStorage.getItem("selectedTicker")&&(a=JSON.stringify({op:"unsubscribe",args:["spot/ticker:"+localStorage.getItem("selectedTicker")]}),localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/ticker:"+e.selectedTicker]})),e.exchange.name;var n=[];if(n[e.exchange.name]=new ee.a(e,u,d,a),"Bitmart"===e.exchange.name){var s=setInterval((function(){1===n.Bitmart.readyState&&n.Bitmart.send("ping")}),15e3);i(s)}return function(){window.removeEventListener("offline",b),window.removeEventListener("online",g),u({});var e=JSON.stringify({op:"unsubscribe",args:["spot/ticker:"+localStorage.getItem("selectedTicker")]});localStorage.setItem("selectedTicker","");n.Bitmart&&(clearInterval(c),n.Bitmart.close()),n.Binance&&n.Binance.close(),console.log("Leaving",e)}}}),[e.selectedTicker]),Object(p.jsxs)("div",{className:"container",style:{marginTop:"2px",marginBottom:"2px"},children:[Object(p.jsx)("div",{onClick:function(t){console.log("Price Click",t.target.innerText);var a={target:{value:t.target.innerText}};e.onChangePrice(a)},style:{width:"72%",paddingLeft:"1px",paddingTop:"1px"},className:"float-left",children:Object(p.jsx)("h6",{className:d.priceStyle,children:d.lastPrice})}),Object(p.jsx)("div",{style:{width:"28%",paddingLeft:"1px"},className:"float-left",children:Object(p.jsxs)("h6",{children:[" ",d.baseAsset]})}),Object(p.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",marginTop:"0px"},className:"tiny pt-1 float-left",children:Object(p.jsx)("small",{children:d.high24hr})}),Object(p.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"tiny-label pt-1 float-left",children:Object(p.jsx)("small",{children:"High"})}),Object(p.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",marginTop:"0px"},className:"tiny float-left",children:Object(p.jsx)("small",{children:d.low24hr})}),Object(p.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"tiny-label float-left",children:Object(p.jsx)("small",{children:" Low"})}),Object(p.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",color:"",marginTop:"0px"},className:"tiny float-left",children:Object(p.jsx)("small",{children:d.open24hr})}),Object(p.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"tiny-label float-left",children:Object(p.jsx)("small",{children:"Open"})}),Object(p.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",color:"",marginTop:"0px"},className:"tiny float-left",children:Object(p.jsx)("small",{children:d.volume24hr})}),Object(p.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"tiny-label float-left",children:Object(p.jsx)("small",{children:" Volume"})})]})},ae=a(190),ne=function(e){var t=Object(x.e)(),a=Object(n.useState)(""),s=Object(r.a)(a,2),c=s[0],i=s[1],o=Object(n.useState)({}),l=Object(r.a)(o,2),d=l[0],u=l[1],h=Object(n.useState)(navigator.onLine),m=Object(r.a)(h,1)[0],g=function(){console.log("We are online!"),m(!0)},b=function(){console.log("We are offline!"),t.push("/login?offline=true"),m(!1)},j=function(t){console.log("Price Click",t.target.innerText);var a={target:{value:t.target.innerText}};e.onChangePrice(a)};return Object(n.useEffect)((function(){window.addEventListener("offline",b),window.addEventListener("online",g);var t=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(t||(t=[{name:e.exchange.name,apiKey:"",secret:""}]),u({name:e.exchange.name,apiKey:t.length>0?t[0].apiKey:"",secret:t.length>0?t[0].secret:"",url:e.exchange.url,asks:[],bids:[],selectedTicker:"",prevSelectedTicker:e.selectedTicker,tickerEndpoint:e.exchange.tickerEndpoint}),!(e.selectedTicker.length<3)){var a="";void 0===localStorage.getItem("selectedTicker")?(localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]})):e.selectedTicker===localStorage.getItem("selectedTicker")?console.log("ws_send2",e.selectedTicker):e.selectedTicker!==localStorage.getItem("selectedTicker")&&(a=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]}),localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]})),e.exchange.name;var n=[];if(a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]}),n[e.exchange.name]=new ae.a(e,u,d,a),"Bitmart"===e.exchange.name){var s=setInterval((function(){1===n.Bitmart.readyState&&n.Bitmart.send("ping")}),15e3);i(s)}return function(){window.removeEventListener("offline",b),window.removeEventListener("online",g),u({});var e=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]});localStorage.setItem("selectedTicker","");n.Bitmart&&(clearInterval(c),n.Bitmart.close()),n.Binance&&n.Binance.close(),console.log("Leaving",e)}}}),[e.selectedTicker]),void 0===d.asks||void 0===d.bids?null:Object(p.jsxs)("div",{className:"container",style:{marginTop:"2px",marginBottom:"2px",paddingLeft:"0px"},children:[Object(p.jsx)("ul",{className:"pt-1",style:{listStyleType:"none",paddingLeft:"0px"},children:d.asks.map((function(e,t){return Object(p.jsxs)("li",{className:"tiny",style:{whiteSpace:"nowrap"},children:[Object(p.jsx)("small",{onClick:j,className:"text-danger",children:e[0]})," ",Object(p.jsx)("small",{className:"",children:e[1]})]},t)}))}),Object(p.jsx)("ul",{style:{listStyleType:"none",paddingLeft:"0px"},children:d.bids.map((function(e,t){return Object(p.jsxs)("li",{className:"tiny",style:{whiteSpace:"nowrap"},children:[Object(p.jsx)("small",{onClick:j,className:"text-success",children:e[0]})," ",Object(p.jsx)("small",{className:"",children:e[1]})]},t)}))})]})},se=function(e){Object(q.a)(a,e);var t=Object(z.a)(a);function a(e){return Object(k.a)(this,a),t.call(this,e)}return Object(S.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return null}}]),a}(n.Component),ce=function(e){var t,a,n="",s="",c="";if(void 0!==e.wallet){t="buy"===e.tab?void 0!==e.ticker?e.ticker.replace(/.*_/g,""):"":void 0!==e.ticker?e.ticker.replace(/_.*/g,""):"",a=e.wallet.filter((function(e){return e.id===t})),console.log("WALLET TAG",a,t),a.length>0&&(n=a[0].available,c=a[0].frozen,s=a[0].id);return Object(p.jsxs)("div",{className:"",style:{paddingLeft:"0px"},children:[Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{onClick:function(t){console.log("PERCENT25"),n.length>0&&e.setAmount({target:{value:.25*Math.round(n)}})},className:"col-sm-3 tiny",children:Object(p.jsx)("small",{children:"25%"})}),Object(p.jsx)("div",{onClick:function(t){console.log("PERCENT50"),n.length>0&&e.setAmount({target:{value:.5*Math.round(n)}})},className:"col-sm-3 tiny",children:Object(p.jsx)("small",{className:"",children:"50%"})}),Object(p.jsx)("div",{onClick:function(t){console.log("PERCENT75"),n.length>0&&e.setAmount({target:{value:.75*Math.round(n)}})},className:"col-sm-3 tiny",children:Object(p.jsx)("small",{className:"",children:"75%"})}),Object(p.jsx)("div",{onClick:function(t){console.log("PERCENT100",n),n.length>0&&e.setAmount({target:{value:Math.round(n)}})},className:"col-sm-3 tiny",children:Object(p.jsx)("small",{className:"",children:"100%"})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{style:{whiteSpace:"nowrap"},className:"col-sm-12 pt-2 tiny",children:Object(p.jsxs)("small",{className:"",children:["Avail. ",n," ",s]})}),Object(p.jsx)("div",{style:{whiteSpace:"nowrap"},className:"col-sm-12  tiny",children:Object(p.jsxs)("small",{className:"",children:["In Orders ",c," "]})})]})]})}},ie=a(195),re=a(115),oe=function(e){var t=Object(n.useState)("limit"),a=Object(r.a)(t,2),c=a[0],i=a[1],l=s.a.useContext(ve).dispatch,u=JSON.parse(localStorage.getItem("exchanges")),h=Object(x.e)(),m=u.filter((function(t){return e.exchange.name===t.name}));m||(m=[{name:e.exchange.name,apiKey:"",secret:""}]),void 0===m[0]&&(h.push("/exchanges"),l({type:d,payload:{message:"Configure your Exchanges by adding API Keys",alertType:"success",timeout:3e3}}));var g={name:e.exchange.name,apiKey:m.length>0?m[0].apiKey:"",url:e.exchange.url,tickers:[],asset:[],amount:"",qty:"",lastPrice:"",selectedTicker:"",baseAsset:"",price:"",tickerEndpoint:e.exchange.tickerEndpoint,secret:m.length>0?m[0].secret:""},b=Object(n.useState)(g),j=Object(r.a)(b,2),f=j[0],v=j[1],y=Object(n.useState)({wallet:[]}),k=Object(r.a)(y,2),S=k[0],N=k[1];Object(n.useEffect)((function(){(f.price.length>0||f.qty.length>0||f.amount.length>0)&&v(Object(o.a)(Object(o.a)({},f),{},{price:"",amount:"",qty:""}))}),[]),Object(n.useEffect)((function(){(f.price.length>0||f.qty.length>0||f.amount.length>0)&&v(Object(o.a)(Object(o.a)({},f),{},{price:"",amount:"",qty:""}))}),[c]),Object(n.useEffect)((function(){return O.a.get(e.exchange.url+"/tickers").then((function(t){t.data.tickers.forEach((function(e,a){t.data.tickers[a]={value:e,label:e}})),console.log("TICKERS:",e.exchange.url,t.data.tickers),v(Object(o.a)(Object(o.a)({},f),{},{tickers:t.data.tickers}))})),console.log("URL",e.exchange.url),O.a.get(e.exchange.url+"/accounts",{headers:{xbmkey:f.apiKey,xbmsecret:f.secret}}).then((function(e){console.log("WALLET",e.data.wallet),N({wallet:e.data.wallet})})),function(){console.log("LEAVING")}}),[]);var T=function(e){v(Object(o.a)(Object(o.a)({},f),{},{selectedTicker:"",baseAsset:""}))},w=function(e){v(Object(o.a)(Object(o.a)({},f),{},{price:"",amount:"",qty:""}))},E=function(t){var a,n;f.price.length<1&&"limit"===c?l({type:d,payload:{message:"Please Choose a price before setting qty",alertType:"success",timeout:3e3}}):("buy"===e.tab&&"limit"===c?(a=Math.round(parseFloat(t.target.value)/parseFloat(f.price)),n=parseFloat(t.target.value).toFixed(2)):"sell"===e.tab&&"limit"===c?(a=t.target.value,n=(n=Math.round(parseFloat(t.target.value)*parseFloat(f.price))).toFixed(2)):("buy"===e.tab&&"market"===c||"sell"===e.tab&&"market"===c)&&(n=parseFloat(t.target.value).toFixed(2),a=""),v(Object(o.a)(Object(o.a)({},f),{},{amount:n,qty:a})))},C=function(e){v(Object(o.a)(Object(o.a)({},f),{},{price:e.target.value}))},L=function(e){v(Object(o.a)(Object(o.a)({},f),{},{qty:e.target.value}))};return Object(p.jsx)("div",{className:"pl-0",style:{marginTop:"10px",marginLeft:"2px",marginRight:"2px"},children:Object(p.jsxs)("form",{className:"form-row pb-0 mb-0",style:{width:"100%"},onSubmit:function(e){e.preventDefault(),console.log("Form submitted:",f.name)},children:[Object(p.jsxs)("div",{className:"form-group col-sm-6 mb-0",children:[Object(p.jsx)($,{options:f.tickers,onFocus:function(e){v(Object(o.a)(Object(o.a)({},f),{},{prevSelectedTicker:f.selectedTicker?f.selectedTicker:""}))},onChange:function(t){var a,n;console.log("OnChangeTicker",t),"buy"===e.tab?(a=t.value.replace(/.*_/g,""),n=t.value.replace(/_.*/g,"")):(a=t.value.replace(/_.*/g,""),n=t.value.replace(/.*_/g,"")),v(Object(o.a)(Object(o.a)({},f),{},{selectedTicker:t.value?t.value:"",baseAsset:void 0!==t.value?a:"",sellAsset:n}))}}),Object(p.jsx)("input",{type:"hidden",className:"form-control",value:f.name,onChange:function(e){v(Object(o.a)(Object(o.a)({},f),{},{name:e.target.value}))}}),Object(p.jsxs)("h5",{className:"mt-9x",children:[e.exchange.name," "]}),Object(p.jsx)(se,{})]}),Object(p.jsx)("div",{className:"form-group col-sm-6 mb-0",children:Object(p.jsx)(te,{onChangePrice:C,clearTicker:T,baseAsset:f.baseAsset,exchange:e.exchange,selectedTicker:f.selectedTicker,prevSelectedTicker:f.prevSelectedTicker})}),Object(p.jsxs)(ie.a,{onSelect:function(e){console.log("onSelect",e),i(e)},defaultActiveKey:"limit",id:"controlled-tab-example",className:"col-sm-12",children:[Object(p.jsx)(re.a,{eventKey:"limit",title:"Limit",className:"col-sm-12",children:Object(p.jsxs)("div",{className:"row pt-2",children:[Object(p.jsxs)("div",{className:"col-sm-6",children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Price"}),Object(p.jsx)("input",{type:"text",placeholder:"Price",className:"form-control",value:f.price,onChange:C})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Qty"}),Object(p.jsx)("input",{type:"text",placeholder:"Quantity",className:"form-control",value:f.qty,onChange:L})]}),Object(p.jsx)(ce,{tab:e.tab,clearAmount:w,wallet:S.wallet,ticker:f.selectedTicker,setAmount:E}),Object(p.jsxs)("div",{className:"form-group mb-0 pb-0",children:[Object(p.jsx)("label",{children:"Total:"})," ",Object(p.jsx)("div",{style:{display:"inline-block"},onChange:E,children:f.amount})]})]}),Object(p.jsxs)("div",{className:"col-sm-6 form-group",children:[Object(p.jsx)("label",{children:"Depth"}),Object(p.jsx)(ne,{onChangePrice:C,clearTicker:T,baseAsset:f.baseAsset,exchange:e.exchange,selectedTicker:f.selectedTicker,prevSelectedTicker:f.prevSelectedTicker})]})]})}),Object(p.jsx)(re.a,{eventKey:"market",title:"Market",className:"col-sm-12",children:Object(p.jsxs)("div",{className:"row pt-2",children:[Object(p.jsxs)("div",{className:"col-sm-6",children:[Object(p.jsxs)("div",{className:"form-group ",children:[Object(p.jsx)("label",{children:"Price"}),Object(p.jsx)("input",{type:"text",disabled:"disabled",placeholder:"Optimal Market Price",className:"form-control",value:"Optimal Market Price"})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Total"}),Object(p.jsx)("input",{type:"text",placeholder:"buy"===e.tab?"Total "+f.baseAsset:"Total "+f.sellAsset,className:"form-control",value:f.amount,onChange:L})]}),Object(p.jsx)("div",{children:Object(p.jsx)(ce,{clearAmount:w,tab:e.tab,wallet:S.wallet,ticker:f.selectedTicker,setAmount:E})}),Object(p.jsxs)("div",{className:"form-group mb-0",children:[Object(p.jsx)("label",{children:"Total:"})," ",Object(p.jsx)("div",{style:{display:"inline-block"},onChange:E,children:f.amount})]})]}),Object(p.jsxs)("div",{className:"col-sm-6 form-group",children:[Object(p.jsx)("label",{children:"Depth"}),Object(p.jsx)(ne,{onChangePrice:C,clearTicker:T,baseAsset:f.baseAsset,exchange:e.exchange,selectedTicker:f.selectedTicker,prevSelectedTicker:f.prevSelectedTicker})]})]})})]}),Object(p.jsx)("div",{className:"form-group col-sm-12 pb-2 mb-0",children:"buy"===e.tab?Object(p.jsx)("input",{type:"submit",value:"Place buy order",className:"btn btn-success"}):Object(p.jsx)("input",{type:"submit",value:"Place sell order",className:"btn btn-danger"})}),Object(p.jsx)(W,{onChangePrice:C,data:f,clearTicker:T,setData:v,selectedTicker:f.selectedTicker,exchange:e.exchange,prevSelectedTicker:f.prevSelectedTicker})]})})},le=function(e){var t=Object(n.useState)("buy"),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)("sell"),o=Object(r.a)(i,2),l=o[0],d=o[1],u=function(e){console.log("onSelect",e),d("buy"===e?"sell":"buy"),c(e)};return Object(n.useEffect)((function(){}),[]),Object(p.jsx)("div",{className:"card",style:{float:"left",width:"26rem",marginLeft:"10px",marginRight:"5px"},children:Object(p.jsxs)("div",{style:{paddingLeft:"10px",paddingRight:"0px",paddingTop:"10px",paddingBottom:"5px"},className:"card-body",children:[Object(p.jsxs)(ie.a,{defaultActiveKey:"buy",id:"buy-sell-tab-"+e.exchange.name,onSelect:u,className:"nav nav-pills nav-justified nav-fill",children:[Object(p.jsx)(re.a,{className:"tab","data-toggle":"tab",eventKey:"buy",title:"Buy",tabClassName:""}),Object(p.jsx)(re.a,{className:"tab","data-toggle":"tab",eventKey:"sell",title:"Sell",tabClassName:""})]}),Object(p.jsx)(oe,{onTabSelect:u,prev:l,setTab:c,tab:s,exchange:e.exchange})]})})},de=function(e){var t=s.a.useState({exchange:[],showModal:"none"}),a=Object(r.a)(t,2),c=a[0],i=a[1];console.log("ExchangeTradeList",c),Object(n.useEffect)((function(){return O.a.get("/api/exchange/").then((function(e){console.log("GET EX",e.data,c),i(Object(o.a)(Object(o.a)({},c),{},{exchange:e.data,showModal:"none"}))})).catch((function(e){console.log(e)})),function(){i({})}}),[]);var l=s.a.useState(!1),d=Object(r.a)(l,1)[0],u=s.a.useState("Transitioning ...."),h=Object(r.a)(u,1)[0],m=s.a.useState(""),g=Object(r.a)(m,1)[0],b=function(e){d(!0),h(e.exchange.name)},j=function(){d(!1),h("")};return void 0===c?null:Object(p.jsx)("div",{className:"pull-left",style:{marginTop:"36px",width:"100%"},children:(console.log("ListEx",c),c.exchange.map((function(e,t){return console.log("DATA",e),Object(p.jsx)(le,{title:e.name,hideModal:j,setUrl:g,setTitle:h,showModal:b,setIsOpen:d,exchange:e},t)})))})},ue=function(e){return Object(n.useEffect)((function(){}),[]),Object(p.jsx)(de,{})},he=a(194),me=function(e){Object(q.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(X.a)(n)),n.onChangeApiKey=n.onChangeApiKey.bind(Object(X.a)(n)),n.onChangeApiName=n.onChangeApiName.bind(Object(X.a)(n)),n.onChangeSecret=n.onChangeSecret.bind(Object(X.a)(n)),n.onSubmit=n.onSubmit.bind(Object(X.a)(n)),n.ex=JSON.parse(localStorage.getItem("exchanges")),n.thisExchange=n.ex.filter((function(t){return e.exchange.name===t.name})),n.thisExchange||(n.thisExchange=[{name:e.exchange.name,apiKey:"",apiName:"",secret:""}]),n.state={name:e.exchange.name,apiKey:n.thisExchange.length>0?n.thisExchange[0].apiKey:"",apiName:n.thisExchange.length>0?n.thisExchange[0].apiName:"",url:e.exchange.url,secret:n.thisExchange.length>0?n.thisExchange[0].secret:""},console.log("exchange",e.exchange),n}return Object(S.a)(a,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeApiKey",value:function(e){this.setState({apiKey:e.target.value})}},{key:"onChangeApiName",value:function(e){this.setState({apiName:e.target.value})}},{key:"onChangeUrl",value:function(e){this.setState({url:e.target.value})}},{key:"onChangeSecret",value:function(e){this.setState({secret:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Form submitted:",this.state.name);var a=this.ex.filter((function(e){return t.state.name!==e.name}));a.push({name:this.state.name,secret:this.state.secret,apiKey:this.state.apiKey,apiName:this.state.apiName}),localStorage.setItem("exchanges",JSON.stringify(a)),this.props.hideModal()}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"container",style:{marginTop:10},children:Object(p.jsxs)("form",{style:{width:"100%"},onSubmit:this.onSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Name: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onChangeName})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Url: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.url,onChange:this.onChangeUrl})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"API Name: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.apiName,onChange:this.onChangeApiName})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"API Key: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.apiKey,onChange:this.onChangeApiKey})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Secret: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.secret,onChange:this.onChangeSecret})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"submit",value:"Save and Close",className:"btn btn-primary"})})]})})}}]),a}(n.Component),ge=function(e){return Object(p.jsx)(he.a,{show:e.isOpen,tabIndex:"-1",children:Object(p.jsx)("div",{style:{width:"400px"},className:"modal-dialog",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsxs)("div",{className:"modal-header",children:[Object(p.jsx)("h5",{className:"modal-title",children:e.title}),Object(p.jsx)("button",{type:"button",className:"close",onClick:e.hideModal,"aria-label":"Close",children:Object(p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(p.jsx)("div",{className:"modal-body",children:Object(p.jsx)(me,{hideModal:e.hideModal,exchange:e.exchange})}),Object(p.jsx)("div",{className:"modal-footer",children:Object(p.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:e.hideModal,children:"Close"})})]})})})},be=function(e){return Object(p.jsx)("div",{className:"card",style:{float:"left",width:"14rem",marginRight:"10px",height:"204px"},children:Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsxs)("h5",{className:"card-title",children:[e.exchange.name," "]}),Object(p.jsx)("p",{className:"card-text"}),Object(p.jsx)(l.b,{className:"btn btn-primary",onClick:function(){return e.showModal(e)},to:"#",children:"Configure"})]})})},pe=function(){var e=s.a.useState({exchange:[]}),t=Object(r.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){O.a.get("/api/exchange/").then((function(e){c(Object(o.a)(Object(o.a)({},a),{},{exchange:e.data,showModal:"none"}))})).catch((function(e){console.log(e)}))}),[]);var i=s.a.useState(!1),l=Object(r.a)(i,2),d=l[0],u=l[1],h=s.a.useState({}),m=Object(r.a)(h,2),g=m[0],b=m[1],j=s.a.useState("Transitioning..."),f=Object(r.a)(j,2),x=f[0],v=f[1],y=s.a.useState(""),k=Object(r.a)(y,2),S=k[0],N=k[1],T=function(e){u(!0),v(e.exchange.name),b(e.exchange)},w=function(){u(!1),v("")};return Object(p.jsxs)("div",{style:{marginLeft:"12px"},className:"float-left pt-2",children:[Object(p.jsx)("h5",{children:"Exchanges"}),a.exchange.map((function(e,t){return console.log("FFFF",a),Object(p.jsx)(be,{title:e.name,hideModal:w,setUrl:N,setTitle:v,showModal:T,setIsOpen:u,exchange:e},t)})),Object(p.jsx)(ge,{id:"exchangeModal",setExchange:b,exchange:g,title:x,url:S,setUrl:N,setTitle:v,isOpen:d,show:!0,hideModal:w,showModal:T,tabindex:"-1"})]})},je=a(192),fe=function(e){var t=s.a.useContext(ve),a=t.data,n=t.setData,c=function(){n({isOpen:!1})};return Object(p.jsxs)(je.slide,{pageWrapId:e.pageWrapId,outerContainerId:e.outerContainerId,styles:e.styles,isOpen:a.isOpen,onStateChange:function(e){n({isOpen:e.isOpen})},className:"col-md-2 d-none d-md-block eggplant",children:[e.isAuthenticated&&Object(p.jsx)(l.b,{to:"/dashboard",onClick:c,className:"nav-link menu-item",children:"Dashboard"}),e.isAuthenticated&&Object(p.jsx)(l.b,{to:"/exchanges",onClick:c,className:"nav-link menu-item",children:"Exchanges"}),e.isAuthenticated&&Object(p.jsx)(l.b,{to:"/asset",onClick:c,className:"nav-link menu-item",children:"Assets"}),e.isAuthenticated&&Object(p.jsx)(l.b,{to:"/create",onClick:c,className:"nav-link menu-item",children:"Create Asset"}),e.isAuthenticated&&Object(p.jsx)(l.b,{to:"/edit",onClick:c,className:"nav-link menu-item",children:"Edit Asset"})]})},Oe=function(e){var t=s.a.useContext(ve),a=t.state,n=t.data,c=Object(x.f)(),i=function(e){return void 0!==e&&e};return Object(p.jsx)("div",{id:"outer-container",className:"container-fluid",style:{width:"100%"},children:Object(p.jsxs)("div",{className:"row",children:[a.isAuthenticated&&"/register"!==c.pathname&&Object(p.jsx)(fe,{pageWrapId:"main",outerContainerId:"outer-container",styles:{width:"196px",bmBurgerButton:{position:"fixed",width:"36px",height:"30px",left:"14px",top:"72px"},bmBurgerBars:{background:"#373a47"},bmBurgerBarsHover:{background:"#a90000"},bmCrossButton:{height:"24px",width:"24px"},bmCross:{background:"#bdc3c7"},bmMenuWrap:{position:"fixed",height:"100%",minWidth:"230px"},bmMenu:{background:"#373a47",padding:"2.5em 1.5em 0",fontSize:"1.15em"},bmMorphShape:{fill:"#373a47"},bmItemList:{color:"#b8b7ad",padding:"0.8em"},bmItem:{display:"inline-block"},bmOverlay:{background:"rgba(0, 0, 0, 0.3)"}},onStateChange:function(e){return console.log("SIDEBAR MENU STATE",e),e},isOpen:n.isOpen,isAuthenticated:a.isAuthenticated}),Object(p.jsxs)("main",{id:"main",role:"main",style:{marginLeft:"unset"},className:"col-md-12 ml-sm-auto col-lg-12 mt-3 px-0",children:[Object(p.jsx)(x.a,{path:"/dashboard",exact:!0,render:function(){return Object(p.jsx)(ue,{isOpen:i})}}),Object(p.jsx)(x.a,{path:"/asset",exact:!0,render:function(e){return Object(p.jsx)(W,{showHeading:!0})}}),Object(p.jsx)(x.a,{path:"/exchanges",exact:!0,component:pe}),Object(p.jsx)(x.a,{path:"/edit",component:H}),Object(p.jsx)(x.a,{path:"/create",component:Q}),Object(p.jsx)(x.a,{path:"/login",component:y}),Object(p.jsx)(x.a,{path:"/register",component:Y})]})]})})},xe=a(367);window.onbeforeunload=function(e){var t=e||window.event;return t.preventDefault(),t&&(t.returnValue=""),""};var ve=s.a.createContext(),ye={isAuthenticated:!1,isOpen:!1,username:null,token:null,message:null,alerts:[],onTabSelect:{},prev:"",setTab:{},tab:"",selectedTicker:"",exchange:[]},ke={onTabSelect:{},prev:"",theme:"dark",isOpen:!1,setTab:{},tab:"",selectedTicker:"",exchange:[],asset:[],name:"",apiKey:"",secret:"",url:"",asks:[],bids:[],prevSelectedTicker:"",tickerEndpoint:"",price:"",qty:"",amount:"",wallet:[]},Se=function(e,t){switch(t.type){case m:return localStorage.setItem("username",t.payload.username),localStorage.setItem("token",t.payload.token),!1===(!!localStorage.getItem("exchanges")&&localStorage.getItem("exchanges"))&&localStorage.setItem("exchanges",JSON.stringify([])),Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!0,isOpen:!1,username:t.payload.username,token:t.payload.token});case"MENU_STATE":return console.log("RCVD MENU STATE",t.payload,e),Object(o.a)(Object(o.a)({},e),{},{isOpen:!1});case d:return e.alerts.push({message:t.payload.message,alertType:t.payload.alertType,timeout:t.payload.timeout,id:Object(xe.a)()}),Object(o.a)(Object(o.a)({},e),{},{message:t.payload.message,alerts:e.alerts});case u:return e.alerts=[],e.alerts.push({message:t.payload.message,alertType:t.payload.alertType,timeout:t.payload.timeout,id:Object(xe.a)()}),Object(o.a)(Object(o.a)({},e),{},{message:t.payload.message,alerts:e.alerts});case h:return Object(o.a)(Object(o.a)({},e),{},{message:"",alerts:e.alerts.filter((function(e){return e.id!==t.payload}))});case g:return localStorage.setItem("token",""),Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!1,username:null});default:return e}};var Ne=function(){var e=s.a.useReducer(Se,ye),t=Object(r.a)(e,2),a=t[0],n=t[1],c=s.a.useState(ke),i=Object(r.a)(c,2),o=i[0],d=i[1];return Object(p.jsx)(ve.Provider,{value:{state:a,dispatch:n,data:o,setData:d},children:Object(p.jsx)(l.a,{children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(j,{}),Object(p.jsx)(v,{}),Object(p.jsx)(Oe,{}),Object(p.jsx)("br",{})]})})})},Te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,368)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};a.p;i.a.render(Object(p.jsx)(Ne,{}),document.getElementById("root")),Te()},73:function(e,t,a){"use strict";a.r(t),function(e){var t=a(16),n=a(17),s=function(){function e(a){Object(t.a)(this,e),this.name=a}return Object(n.a)(e,[{key:"getTrades",value:function(e,t){var a,n,s,c=[];return void 0===e?[]:(console.log("getTrades",e),"Bitmart"===this.name?(e.forEach((function(e){a=Number.parseInt(e.create_time)+1e3,n=new Date(a),s=n.toLocaleString("en-US",{month:"numeric"})+"-"+n.toLocaleString("en-US",{day:"numeric"})+" "+n.toLocaleTimeString("en-US"),c.push({order_id:e.order_id,detail_id:e.detail_id,avg_price:e.price_avg,price:e.price,pair:e.symbol,side:e.side,qty:e.size,cost:parseFloat(e.notional).toFixed(2),base:e.symbol.split("_")[1],order_type:"M"===e.exec_type?"Market":"Limit",transaction_date:s,state:"EXISTING",status:"WORKING"})})),c):"Binance"===this.name?(e.forEach((function(e){a=Number.parseInt(e.create_time)+1e3,n=new Date(a),s=n.toLocaleString("en-US",{month:"numeric"})+"-"+n.toLocaleString("en-US",{day:"numeric"})+" "+n.toLocaleTimeString("en-US"),c.push({order_id:e.order_id,detail_id:e.detail_id,avg_price:void 0===e.price_avg?e.price_avg:e.price,price:e.price,pair:t.replace("_","/"),side:e.side,qty:parseFloat(e.size).toFixed(2),cost:parseFloat(e.notional).toFixed(2),base:t.split("_")[1],order_type:"M"===e.exec_type?"Market":"Limit",transaction_date:s,state:"EXISTING",status:"WORKING"})})),c):void 0)}},{key:"getStream",value:function(e,t,a){var n=a.length,s="";return"Bitmart"===this.name?(s=parseFloat(a[n-1])>parseFloat(e.last_price)?"text-danger":parseFloat(a[n-1])<parseFloat(e.last_price)?"text-success":"",{lastPrice:e.last_price,high24hr:e.high_24h,low24hr:e.low_24h,open24hr:e.open_24h,volume24hr:e.base_volume_24h.split(".")[0],priceStyle:s,prevPrice:a[n-1],baseAsset:t.replace(/.*_/g,"")}):"Binance"===this.name?(n=a.length,s="",s=parseFloat(a[n-1])>parseFloat(e.c)?"text-danger":parseFloat(a[n-1])<parseFloat(e.c)?"text-success":"",{lastPrice:e.c,high24hr:e.h,low24hr:e.l,open24hr:e.o,volume24hr:void 0!==e.v?e.v.split(".")[0]:"",priceStyle:s,prevPrice:a[n-1],baseAsset:t.replace(/.*_/g,"")}):void 0}},{key:"getTradeStream",value:function(e,t){var a,n,s,c,i,r,o={};if("Bitmart"===this.name)return console.log("Pre Transform",e),void 0!==e.ms_t?(c=e.ms_t,a=Number.parseInt(c)):(c=e.create_time,a=Number.parseInt(c)+1e3),s=(n=new Date(a)).toLocaleString("en-US",{month:"numeric"})+"-"+n.toLocaleString("en-US",{day:"numeric"})+" "+n.toLocaleTimeString("en-US"),"1"!==e.state&&"3"!==e.state||(i="REJECTED",r="REJECTED state:"+e.state),"8"!==e.state&&"7"!==e.state||(i="CANCELED",r="CANCELED state:"+e.state),"2"!==e.state&&"4"!==e.state&&"5"!==e.state&&"6"!==e.state||(i="NEW",r="NEW state:"+e.state),o={order_id:parseInt(e.order_id),avg_price:void 0!==e.price&&e.price.length>0?e.price.match(/.*[1-9]/gm)[0]:"",price:void 0!==e.price&&e.price.length>0?e.price.match(/.*[1-9]/gm)[0]:"",pair:e.symbol.replace("_","/"),side:e.side,qty:parseFloat(e.size).toFixed(2),cost:void 0!==e.notional&&e.notional.length>0?parseFloat(e.notional).toFixed(2):void 0!==e.filled_notional?parseFloat(e.filled_notional).toFixed(2):"",base:e.symbol.split("_")[1],order_type:"market"===e.type||"M"===e.type?"Market":"Limit",transaction_date:s,status:r,state:i},console.log("Post Transform",o),o;if("Binance"===this.name){if(console.log("Pre Transform Binance",e),void 0!==e.create_time&&e.create_time.length>0)return e;if(void 0!==e.e&&"executionReport"!==e.e)return e;c=e.T,a=Number.parseInt(c)+1e3,s=(n=new Date(a)).toLocaleString("en-US",{month:"numeric"})+"-"+n.toLocaleString("en-US",{day:"numeric"})+" "+n.toLocaleTimeString("en-US");var l=parseFloat(e.p)*parseFloat(e.q);return o={order_id:e.i,avg_price:e.p,price:e.p,pair:t.replace("_","/"),side:e.S,qty:parseFloat(e.q).toFixed(2),cost:l.toFixed(2),base:t.split("_")[1],order_type:"market"===e.o||"MARKET"===e.o?"Market":"Limit",transaction_date:s,status:void 0!==e.X?e.X:"",state:void 0!==e.x?e.x:""},console.log("POST Transform Binance",o),o}}}]),e}();e.exports=s}.call(this,a(253)(e))}},[[361,1,2]]]);
//# sourceMappingURL=main.e55fbc50.chunk.js.map