(this["webpackJsonpsignal-app"]=this["webpackJsonpsignal-app"]||[]).push([[0],{174:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));var n=a(3),s=a(61),c=a(64),i=a(81);function r(e,t,a,n){var s=Object.create(l);return s.client={},s.getClient(e,e.setData,e.data,t,a,n)}var l={getClient:function(t,r,l,o,d,u){if(void 0!==t.selectedTicker){var m="";return m="Binance"===t.exchange.name?"wss://stream.binance.us:9443/ws/"+o:"wss://ws-manager-compress.bitmart.com?protocol=1.1",console.log("Connecting to:",m),this.client=new c(m,null,{timeout:6e4,shouldReconnect:function(e,t){if(console.log("Reconnecting"),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){if("Binance"===t.exchange.name);else{var n=Date.now().toString(),s=a(240).createHmac("sha256",d.secret).update(n+"#"+d.apiName+"#bitmart.WebSocket").digest("hex"),c=JSON.stringify({op:"login",args:[d.key,n,s]});this.send(c)}console.log("WebSocket Client Connected to ",t.exchange.name)})),this.client.addEventListener("message",(function(a){if("pong"!==a.data&&"ping"!==a.data){if(console.log("message",a.data),a.data instanceof Blob);else if("login"===JSON.parse(a.data).event){var c=JSON.stringify({op:"subscribe",args:["spot/user/order:"+t.selectedTicker]});console.log("SUBSCRIBING:",c),this.send(c)}if(a.data instanceof Blob){if("Bitmart"===t.exchange.name){var o=new i(t.exchange.name);a.data.stream().getReader().read().then((function(a){var c=a.done,i=a.value;if(c);else{var d=e.from(i);s.inflateRaw(d,{flush:3,info:!0},(function(e,a){var s=JSON.parse(a.toString("UTF-8"));if(console.log("pre pre pre pre undefined Transform",s),void 0!==s.data&&s.data.length>0){console.log("pre pre pre Transform",s),r(Object(n.a)(Object(n.a)({},l),{},{asset:[]})),console.log("pre pre Transform",s.data,u);var c,i=o.getTradeStream(s.data[0],t.selectedTicker);"CANCELED"===i.state?(c=i.order_id,u=u.filter((function(e){return e.order_id!==c})),console.log("FILTERED",u),u.length):(c="-1",u.unshift(i)),console.log("TRDATA4",u),r(Object(n.a)(Object(n.a)({},l),{},{asset:u}))}}))}}))}}else{if("pong"===a.data||"ping"===a.data)return;if("Binance"===t.exchange.name){var d=new i(t.exchange.name);try{var m=JSON.parse(a.data);if(m.e.length>0&&"executionReport"===m.e){r(Object(n.a)(Object(n.a)({},l),{},{asset:[]})),console.log("TRDATA1",m,l);var h,g=d.getTradeStream(m,t.selectedTicker);"CANCELED"===g.state?(h=g.order_id,u=u.filter((function(e){return e.order_id!==h}))):(h="-1",u.unshift(g)),console.log("TRDATA4",u),r(Object(n.a)(Object(n.a)({},l),{},{asset:u}))}}catch(b){console.log(b)}}}}})),this.client.addEventListener("close",(function(e){void 0!==e.data&&r({asset:[]})})),{client:this.client,setData:this.setData,trades:this.trades}}}}}).call(this,a(12).Buffer)},175:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var n=a(3),s=a(61),c=a(64);function i(e,t,a,n){var s=Object.create(r);return s.client={},s.getClient(e,t,a,n)}var r={getClient:function(t,a,i,r){var l="";l="Binance"===t.exchange.name?"wss://stream.binance.com:9443/ws/"+t.selectedTicker.replace(/_/g,"").toLowerCase()+"@aggTrade":"wss://ws-manager-compress.bitmart.com?protocol=1.1",this.client=new c(l,null,{timeout:4e3,shouldReconnect:function(e,t){if(console.log("Reconnecting"),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){console.log("WebSocket Client Connected"),r.length>0&&"Bitmart"===t.exchange.name&&this.send(r)}));var o=[];return i.market=[],a(Object(n.a)({},i)),this.client.addEventListener("message",(function(t){if(r.length,t.data instanceof Blob){t.data.stream().getReader().read().then((function(t){var c=t.done,r=t.value;if(c);else{var l=e.from(r);s.inflateRaw(l,{flush:3,info:!0},(function(e,t){var s=JSON.parse(t.toString("UTF-8"));i.market.unshift(s.data[0]),i.market.length>9&&i.market.splice(9,1),a(Object(n.a)({},i))}))}}))}else{if("pong"===t.data||"ping"===t.data)return;try{var c=JSON.parse(t.data),l=o.length,d="";d=parseFloat(o[l-1])>parseFloat(c.p)?"sell":"buy",i.market.unshift({price:c.p,size:c.q,side:d}),i.market.length>9&&i.market.splice(9,1),a(Object(n.a)({},i)),o.push(c.p),o.length>2&&o.splice(0,1)}catch(u){console.log(u)}}})),this.client.addEventListener("close",(function(e){a({asks:[],bids:[],market:[]}),e.data})),this.client}}}).call(this,a(12).Buffer)},176:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));var n=a(3),s=a(61),c=a(64),i=a(81);function r(e,t,a,n){var s=Object.create(l);return s.client={},s.getClient(e,t,a,n)}var l={getClient:function(t,a,r,l){var o="";o="Binance"===t.exchange.name?"wss://stream.binance.com:9443/ws/"+t.selectedTicker.replace(/_/g,"").toLowerCase()+"@miniTicker":"wss://ws-manager-compress.bitmart.com?protocol=1.1",this.client=new c(o,null,{timeout:4e3,shouldReconnect:function(e,t){if(console.log("Reconnecting",e,t,o),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){console.log("WebSocket Client Connected"),l.length>0&&"Bitmart"===t.exchange.name&&this.send(l)}));var d=[];return this.client.addEventListener("message",(function(c){if(l.length,c.data instanceof Blob){var o=new i(t.exchange.name);c.data.stream().getReader().read().then((function(c){var i=c.done,l=c.value;if(i);else{var u=e.from(l);s.inflateRaw(u,{flush:3,info:!0},(function(e,s){var c=JSON.parse(s.toString("UTF-8")),i=o.getStream(c.data[0],t.selectedTicker,d);a(Object(n.a)(Object(n.a)({},r),i)),d.push(i.lastPrice),d.length>2&&d.splice(0,1)}))}}))}else{if("pong"===c.data||"ping"===c.data)return;var u=new i(t.exchange.name);try{var m=JSON.parse(c.data),h=u.getStream(m,t.selectedTicker,d);a(Object(n.a)(Object(n.a)({},r),h)),d.push(h.lastPrice),d.length>2&&d.splice(0,1)}catch(g){console.log(g)}}})),this.client.addEventListener("close",(function(e){d=[],a({high24hr:"",low24hr:"",open24hr:"",volume24hr:"",lastPrice:"",priceStyle:"",prevPrice:"0.00"}),e.data})),this.client}}}).call(this,a(12).Buffer)},177:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var n=a(3),s=a(61),c=a(64);function i(e,t,a,n){var s=Object.create(r);return s.client={},s.getClient(e,t,a,n)}var r={getClient:function(t,a,i,r){var l="";return l="Binance"===t.exchange.name?"wss://stream.binance.com:9443/ws/"+t.selectedTicker.replace(/_/g,"").toLowerCase()+"@depth5@100ms":"wss://ws-manager-compress.bitmart.com?protocol=1.1",this.client=new c(l,null,{timeout:4e3,shouldReconnect:function(e,t){if(console.log("Reconnecting"),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){console.log("WebSocket Client Connected"),r.length>0&&"Bitmart"===t.exchange.name&&this.send(r)})),this.client.addEventListener("message",(function(t){if(r.length,t.data instanceof Blob){t.data.stream().getReader().read().then((function(t){var c=t.done,r=t.value;if(c);else{var l=e.from(r);s.inflateRaw(l,{flush:3,info:!0},(function(e,t){var s=JSON.parse(t.toString("UTF-8")).data[0];a(Object(n.a)(Object(n.a)({},i),s))}))}}))}else{if("pong"===t.data||"ping"===t.data)return;try{var c=JSON.parse(t.data);a(Object(n.a)(Object(n.a)({},i),c))}catch(l){console.log(l)}}})),this.client.addEventListener("close",(function(e){a({asks:[],bids:[]}),e.data})),this.client}}}).call(this,a(12).Buffer)},187:function(e,t,a){},188:function(e,t,a){},218:function(e,t){},220:function(e,t){},242:function(e,t){},244:function(e,t){},272:function(e,t){},274:function(e,t){},275:function(e,t){},280:function(e,t){},282:function(e,t){},301:function(e,t){},313:function(e,t){},316:function(e,t){},349:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(25),i=a.n(c),r=(a(187),a(7)),l=a(3),o=a(16),d=(a(39),a(188),"SET_ALERT"),u="SET_ALERT_OVERWRITE",m="REMOVE_ALERT",h="LOGIN",g="LOGOUT",b=a.p+"static/media/logo.6ce24c58.svg",p=a(1),j=function(){var e,t=s.a.useContext(oe),a=t.state,n=t.dispatch,c=a.alerts;return"undefined"!==typeof c&&null!==c&&c.length>0?c.filter((function(e){return"null"!==e.message})).map((function(t,a){return e=t.id,setTimeout((function(){return n({type:m,payload:t.id})}),t.timeout),t.id&&Object(p.jsx)("div",{className:"","aria-live":"polite","aria-atomic":"true",style:{position:"absolute",top:"150px",right:"500px",minHeight:"200px",width:"200px",zIndex:1e3},children:Object(p.jsxs)("div",{id:e,className:"toast fade show",children:[Object(p.jsxs)("div",{className:"toast-header",children:[Object(p.jsx)("img",{style:{width:30,height:30},src:b,className:"rounded mr-2",alt:"..."}),Object(p.jsx)("strong",{className:"mr-auto",children:"System"}),Object(p.jsx)("button",{type:"button",onClick:function(t){return a=e,console.log(a),void n({type:m,payload:a});var a},className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",children:Object(p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(p.jsx)("div",{className:"toast-body",children:t.message})]})},t.id)})):null},x=a(11),f=a.n(x),O=a(9),v=function(){var e=s.a.useContext(oe),t=e.state,a=e.dispatch,n=Object(O.e)();return Object(p.jsx)("div",{children:Object(p.jsx)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("div",{className:"pull-left",children:[Object(p.jsx)("a",{className:"navbar-brand",onClick:function(){t.isOpen||a({type:"MENU_STATE",payload:!0})},href:"#",target:"",rel:"noreferrer",children:Object(p.jsx)("img",{src:b,width:"30",height:"30",alt:"CodingTheSmartWay.com"})}),Object(p.jsx)(o.b,{to:"/dashboard",className:"navbar-brand",children:"Order Desk"})]}),Object(p.jsx)("div",{className:"pull-right",children:Object(p.jsxs)("ul",{className:"navbar-nav navbar-right pull-right mr-auto",children:[t.isAuthenticated?Object(p.jsx)("li",{className:"navbar-item pull-right",children:Object(p.jsx)(o.b,{to:"/login",onClick:function(e){console.log("Logout"),localStorage.setItem("token",null),f.a.defaults.headers.common.Authorization=null,a({type:g}),a({type:u,payload:{message:"Logout Successful",alertType:"success",timeout:3e3}}),n.push("/login")},className:"nav-link",children:"Log Out"})}):Object(p.jsx)("li",{className:"navbar-item pull-right",children:Object(p.jsx)(o.b,{to:"/login",isloggedin:"true",className:"nav-link",children:"Login "})}),Object(p.jsx)("li",{className:"navbar-item",children:Object(p.jsx)(o.b,{to:"/register",className:"nav-link",children:"Register"})})]})})]})})})},y=function(){var e=s.a.useContext(oe).dispatch,t=s.a.useState({username:"",password:"",isSubmitting:!1,errorMessage:null}),a=Object(r.a)(t,2),c=a[0],i=a[1],o=Object(O.e)(),u=Object(n.useState)(navigator.onLine),m=Object(r.a)(u,2),g=m[0],b=m[1],j=function(){console.log("We are online!"),b(!0)},x=function(){console.log("We are offline!"),b(!1)};Object(n.useEffect)((function(){return window.addEventListener("offline",x),window.addEventListener("online",j),function(){window.removeEventListener("offline",x),window.removeEventListener("online",j)}}),[]);var v=window.location.search;return g=!0!==new URLSearchParams(v).get("offline")&&!1!==g,Object(p.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(p.jsx)("h3",{children:"Login"}),Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),i(Object(l.a)(Object(l.a)({},c),{},{isSubmitting:!0,errorMessage:null})),console.log("Form submitted:");var a={username:c.username,password:c.password};f.a.post("/api/auth/signin",a).then((function(t){console.log(t.data),localStorage.setItem("token",t.data.token),f.a.defaults.headers.common.Authorization=t.data.token,f.a.defaults.baseURL="",e({type:h,payload:t.data}),e({type:d,payload:{message:"Login Successful",alertType:"success",timeout:3e3}}),o.push("/dashboard")})),i(Object(l.a)(Object(l.a)({},c),{},{username:"",password:"",isLoggedIn:!0}))},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"User Name: "}),Object(p.jsx)("input",{type:"text",className:"form-control",autoComplete:"username",value:c.username,onChange:function(e){i(Object(l.a)(Object(l.a)({},c),{},{username:e.target.value}))}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Password: "}),Object(p.jsx)("input",{type:"password",className:"form-control",value:c.password,autoComplete:"current-password",onChange:function(e){i(Object(l.a)(Object(l.a)({},c),{},{password:e.target.value}))}})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"submit",disabled:!g,value:g?"Login":"Offline",className:"btn btn-primary"})})]})]})},N=a(174),k=(a(168),a(70)),T=a.n(k),S=a(175),w=function(e){var t=Object(O.e)(),a=Object(n.useState)(""),s=Object(r.a)(a,2),c=s[0],i=s[1],l=Object(n.useState)({}),o=Object(r.a)(l,2),d=o[0],u=o[1],m=Object(n.useState)(navigator.onLine),h=Object(r.a)(m,1)[0],g=function(){console.log("We are online!"),h(!0)},b=function(){console.log("We are offline!"),t.push("/login?offline=true"),h(!1)},j=function(t){console.log("Price Click",t.target.innerText);var a={target:{value:t.target.innerText}};e.onChangePrice(a)};if(Object(n.useEffect)((function(){window.addEventListener("offline",b),window.addEventListener("online",g);var t=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(t||(t=[{name:e.exchange.name,apiKey:"",secret:""}]),u({name:e.exchange.name,apiKey:t.length>0?t[0].apiKey:"",secret:t.length>0?t[0].secret:"",url:e.exchange.url,asks:[],bids:[],market:[],selectedTicker:"",prevSelectedTicker:e.selectedTicker,tickerEndpoint:e.exchange.tickerEndpoint}),!(e.selectedTicker.length<3)){var a="";void 0===localStorage.getItem("selectedTicker")?(localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]})):e.selectedTicker===localStorage.getItem("selectedTicker")||e.selectedTicker!==localStorage.getItem("selectedTicker")&&(a=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]}),localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]})),e.exchange.name;var n=[];if(a=JSON.stringify({op:"subscribe",args:["spot/trade:"+e.selectedTicker]}),n[e.exchange.name]=new S.a(e,u,d,a),"Bitmart"===e.exchange.name){var s=setInterval((function(){1===n.Bitmart.readyState&&n.Bitmart.send("ping")}),15e3);i(s)}return function(){window.removeEventListener("offline",b),window.removeEventListener("online",g),u({});var e=JSON.stringify({op:"unsubscribe",args:["spot/trade:"+localStorage.getItem("selectedTicker")]});localStorage.setItem("selectedTicker",""),n.Bitmart&&(clearInterval(c),n.Bitmart.close()),n.Binance&&n.Binance.close(),console.log("Leaving",e)}}}),[e.selectedTicker]),void 0===d.market)return null;if(void 0===d.bids)return null;var x="";return Object(p.jsx)("div",{className:"pull-right",style:{marginTop:"2px",marginBottom:"2px",paddingRight:"35px",width:"160px"},children:Object(p.jsx)("ul",{className:"pt-1",style:{listStyleType:"none",paddingLeft:"0px"},children:d.market.map((function(e,t){return x="buy"===e.side?"text-success":"text-danger",Object(p.jsxs)("li",{className:"tiny",style:{whiteSpace:"nowrap"},children:[Object(p.jsx)("small",{onClick:j,className:x,children:e.price})," ",Object(p.jsx)("small",{className:"",children:e.size.split(".")[0]})]},t)}))})})},C=a(105),E=a(81),L=function(e){var t;return console.log("AssetProps",e),void 0===e.assets||e.assets.length<1?null:(console.log("AssetProps1",e.assets),e.assets.map((function(e,a){return t=void 0!==e.state&&"CANCELED"===e.state?{textDecoration:"line-through"}:{},Object(p.jsxs)("tr",{style:t,children:[Object(p.jsx)("td",{className:"buy"===e.side?"text-success":"text-danger",children:void 0!==e.pair?e.pair.replace(/_/g,"/"):""}),Object(p.jsxs)("td",{style:{textTransform:"capitalize",whiteSpace:"nowrap"},className:" ",children:[e.price," ",void 0!==e.order_type?e.order_type:""]}),Object(p.jsxs)("td",{className:"",children:[void 0!==e.qty?e.qty:""," "]}),Object(p.jsxs)("td",{style:{},className:"",children:[e.cost," ",e.base]}),Object(p.jsx)("td",{style:{},className:"",children:e.transaction_date})]},a)})))},A=function(e){var t=Object(n.useState)(""),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)({asset:[]}),o=Object(r.a)(i,2),d=o[0],u=o[1],m=Object(n.useState)(navigator.onLine),h=Object(r.a)(m,1)[0],g=Object(n.useState)(0),b=Object(r.a)(g,2),j=b[0],x=b[1],O=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(O||(O=[{name:e.exchange.name,apiKey:"",secret:""}]),Object(n.useEffect)((function(){T()("#carousel-"+e.exchange.name).carousel("pause"),T()("#carousel-"+e.exchange.name).on("slide.bs.carousel",(function(e){console.log(e.to),x(e.to),e.to,k()}))}),[e.selectedTicker,x]),Object(n.useEffect)((function(){var t,a=[];if(!(void 0===e.selectedTicker||e.selectedTicker.length<1)){var n=O[0].apiKey,i=O[0].apiName,r=O[0].secret;console.log("CREDS",n,i,r);var o=[];e.setData(Object(l.a)(Object(l.a)({},e.data),{},{asset:[]})),console.log("GETTING TRADES",e,j);var d=new E(e.exchange.name);return f.a.get("http://localhost:4000/"+e.exchange.name+"/trades?status=4&symbol="+e.selectedTicker,{headers:{xbmkey:n,xbmname:i,xbmsecret:r}}).then((function(s){if(console.log("TRADES DATA",s.data,e.data,"http://localhost:4000/"+e.exchange.name+"/trades?status=4&symbol="+e.selectedTicker),a=d.getTrades(s.data.trades,e.selectedTicker),e.setData(Object(l.a)(Object(l.a)({},e.data),{},{asset:a})),"Binance"===e.exchange.name&&(t=s.data.listenKey,console.log("LISTENKEY",t),void 0===t&&f.a.get("http://localhost:4000/"+e.exchange.name+"/orders",{headers:{xbmkey:n,xbmname:i,xbmsecret:r}}).then((function(e){t=e.listenKey,console.log("GET LISTENKEY",e)})).catch((function(e){console.log("LISTENKEY ERROR",e)}))),o[e.exchange.name]=new N.a(e,t,{key:n,apiName:i,secret:r},a),"Bitmart"===e.exchange.name){var u=setInterval((function(){1===o.Bitmart.client.readyState&&o.Bitmart.client.send("ping")}),6e3);c(u)}})).catch((function(e){console.log(e)})),function(){window.removeEventListener("offline",y),window.removeEventListener("online",v),localStorage.setItem("selectedTicker",""),void 0!==o.Bitmart&&(clearInterval(s),o.Bitmart.client.close()),o.Binance,console.log("Leaving")}}}),[e.selectedTicker,j]),console.log("AssetsList",e),void 0!==e.data&&void 0!==e.data.asset&&void 0!==e.selectedTicker){var v=function(){console.log("We are online!"),h(!0)},y=function(){console.log("We are offline!"),d.push("/login?offline=true"),h(!1)},k=function(){var t,a=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));a||(a=[{name:e.exchange.name,apiKey:"",secret:""}]);var n=a[0].apiKey,s=a[0].apiName,c=a[0].secret;u(Object(l.a)(Object(l.a)({},d),{},{asset:[]})),console.log("GETTING ORDERS",e,a);var i=new E(e.exchange.name);f.a.get("http://localhost:4000/"+e.exchange.name+"/trades?status=6&symbol="+e.selectedTicker,{headers:{xbmkey:n,xbmname:s,xbmsecret:c}}).then((function(a){console.log("ORDERS DATA",a.data),t=i.getTrades(a.data.trades,e.selectedTicker),u(Object(l.a)(Object(l.a)({},d),{},{asset:t}))})),console.log("listOrderHistory",d)};return Object(p.jsx)("div",{className:"font-face-din fx-12",style:{width:"100%",maxHeight:"196px",overflow:"scroll",overflowY:"scroll"},children:Object(p.jsxs)("div",{id:"carousel-"+e.exchange.name,className:"carousel slide",children:[Object(p.jsxs)("ol",{className:"carousel-indicators carousel-indicators-numbers",children:[Object(p.jsx)("li",{"data-target":"#carousel-"+e.exchange.name,"data-slide-to":"0",className:"active",children:"Open Orders"}),Object(p.jsx)("li",{"data-target":"#carousel-"+e.exchange.name,"data-slide-to":"1",className:"",children:"Order History"}),Object(p.jsx)("li",{"data-target":"#carousel-"+e.exchange.name,"data-slide-to":"2",children:"Market Trades"})]}),Object(p.jsxs)("div",{className:"carousel-inner",role:"listbox",children:[Object(p.jsx)("div",{className:"carousel-item active",children:Object(p.jsx)(C.a,{size:"sm",className:"font-face-din fx-11 mb-0",style:{marginTop:0,width:"100%",minWidth:"375px",textAlign:"left"},children:Object(p.jsx)("tbody",{style:{overflow:"auto"},children:Object(p.jsx)(L,{data:e.data,assets:e.data.asset})})})}),Object(p.jsx)("div",{className:"carousel-item",children:Object(p.jsx)(C.a,{size:"sm",className:"font-face-din fx-11 mb-0",style:{marginTop:0,width:"100%",minWidth:"375px",textAlign:"left"},children:Object(p.jsx)("tbody",{style:{overflow:"auto"},children:Object(p.jsx)(L,{data:d,assets:d.asset})})})}),Object(p.jsx)("div",{className:"carousel-item",children:Object(p.jsx)("div",{size:"sm",className:"font-face-din fx-11 mb-0",style:{marginTop:0,width:"100%",minWidth:"375px",textAlign:"left"},children:Object(p.jsx)("div",{style:{overflow:"auto"},children:Object(p.jsx)(w,{onChangePrice:e.onChangePrice,clearTicker:e.clearTicker,baseAsset:e.data.baseAsset,exchange:e.exchange,selectedTicker:e.selectedTicker,prevSelectedTicker:e.prevSelectedTicker})})})})]})]})})}},I=function(e){return Object(p.jsx)("div",{className:"container font-face-din fx-12",style:{width:"600px"},children:Object(p.jsxs)("div",{id:"carousel-example-generic",className:"carousel slide",children:[Object(p.jsxs)("ol",{className:"carousel-indicators carousel-indicators-numbers",children:[Object(p.jsx)("li",{"data-target":"#carousel-example-generic","data-slide-to":"0",className:"active",children:"Market Trades"}),Object(p.jsx)("li",{"data-target":"#carousel-example-generic","data-slide-to":"1",className:"",children:"Order History"}),Object(p.jsx)("li",{"data-target":"#carousel-example-generic","data-slide-to":"2",children:"Open Orders"})]}),Object(p.jsxs)("div",{className:"carousel-inner",role:"listbox",children:[Object(p.jsx)("div",{className:"carousel-item active",children:Object(p.jsx)("img",{src:"http://placehold.it/600x400",alt:"..."})}),Object(p.jsx)("div",{className:"carousel-item",children:Object(p.jsx)("img",{src:"http://placehold.it/6600x400",alt:"..."})}),Object(p.jsx)("div",{className:"carousel-item",children:Object(p.jsx)("img",{src:"http://placehold.it/600x400",alt:"..."})})]})]})})},_=a(31),B=a(32),P=a(17),R=a(38),F=a(37),D=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChangePair=n.onChangePair.bind(Object(P.a)(n)),n.onChangePrice=n.onChangePrice.bind(Object(P.a)(n)),n.onChangeAmount=n.onChangeAmount.bind(Object(P.a)(n)),n.onSubmit=n.onSubmit.bind(Object(P.a)(n)),n.state={pair:"",price:"",amount:""},n}return Object(B.a)(a,[{key:"onChangePair",value:function(e){this.setState({pair:e.target.value})}},{key:"onChangePrice",value:function(e){this.setState({price:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Form submitted:",this.state),console.log("Pair: ".concat(this.state.pair)),console.log("Price: ".concat(this.state.price)),console.log("Amount: ".concat(this.state.amount));var a={pair:this.state.pair,price:this.state.price,amount:this.state.amount};f.a.post("/api/asset/add",a).then((function(e){console.log(e.data),t.setState({redirectTo:"/"})})),this.setState({pair:"",price:"",amount:""})}},{key:"render",value:function(){return Object(p.jsxs)("div",{style:{marginLeft:"12px",minWidth:"400px"},className:"float-left pt-2",children:[Object(p.jsx)("h5",{children:"Create New Asset"}),Object(p.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Pair: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.pair,onChange:this.onChangePair})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Price: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.price,onChange:this.onChangePrice})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Amount: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.amount,onChange:this.onChangeAmount})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"submit",value:"Create Asset",className:"btn btn-primary"})})]})]})}}]),a}(n.Component),M=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(P.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(P.a)(n)),n.onSubmit=n.onSubmit.bind(Object(P.a)(n)),n.state={username:"",password:""},n}return Object(B.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Registration submitted:",this.state),console.log("Pair: ".concat(this.state.username)),console.log("Price: ".concat(this.state.price)),console.log("Amount: ".concat(this.state.amount));var a={username:this.state.username,password:this.state.password};f.a.post("/api/auth/signup",a).then((function(e){console.log(e.data),t.props.history.push("/login")})),this.setState({username:"",password:""})}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(p.jsx)("h3",{children:"Register"}),Object(p.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"User Name: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.onChangeUsername})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Password: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.password,onChange:this.onChangePassword})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"submit",value:"Register",className:"btn btn-primary"})})]})]})}}]),a}(n.Component),K=(a(48),a(71),a(180)),J=function(e){return Object(p.jsx)(K.a,{classNamePrefix:"react-select",className:"react-select-container",options:e.options,onFocus:e.onFocus,onChange:e.onChange})},U=a(176),W=function(e){var t=Object(O.e)(),a=Object(n.useState)(""),s=Object(r.a)(a,2),c=s[0],i=s[1],l=Object(n.useState)({}),o=Object(r.a)(l,2),d=o[0],u=o[1],m=Object(n.useState)(navigator.onLine),h=Object(r.a)(m,1)[0],g=function(){console.log("We are online!"),h(!0)},b=function(){console.log("We are offline!"),t.push("/login?offline=true"),h(!1)};return Object(n.useEffect)((function(){}),[d.lastPrice,e.selectedTicker]),Object(n.useEffect)((function(){window.addEventListener("offline",b),window.addEventListener("online",g);var t=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(t||(t=[{name:e.exchange.name,apiKey:"",secret:""}]),u({name:e.exchange.name,apiKey:t.length>0?t[0].apiKey:"",secret:t.length>0?t[0].secret:"",url:e.exchange.url,high24hr:"",low24hr:"",open24hr:"",volume24hr:"",lastPrice:"",priceStyle:"",prevPrice:"0.00",selectedTicker:"",prevSelectedTicker:e.selectedTicker,tickerEndpoint:e.exchange.tickerEndpoint}),console.log("exchange",e.exchange,e),!(e.selectedTicker.length<3)){var a="";void 0===localStorage.getItem("selectedTicker")?(localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/ticker:"+e.selectedTicker]})):e.selectedTicker===localStorage.getItem("selectedTicker")||e.selectedTicker!==localStorage.getItem("selectedTicker")&&(a=JSON.stringify({op:"unsubscribe",args:["spot/ticker:"+localStorage.getItem("selectedTicker")]}),localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/ticker:"+e.selectedTicker]})),e.exchange.name;var n=[];if(n[e.exchange.name]=new U.a(e,u,d,a),"Bitmart"===e.exchange.name){var s=setInterval((function(){1===n.Bitmart.readyState&&n.Bitmart.send("ping")}),15e3);i(s)}return function(){window.removeEventListener("offline",b),window.removeEventListener("online",g),u({});var e=JSON.stringify({op:"unsubscribe",args:["spot/ticker:"+localStorage.getItem("selectedTicker")]});localStorage.setItem("selectedTicker","");n.Bitmart&&(clearInterval(c),n.Bitmart.close()),n.Binance&&n.Binance.close(),console.log("Leaving",e)}}}),[e.selectedTicker]),Object(p.jsxs)("div",{className:"container",style:{marginTop:"2px",marginBottom:"2px"},children:[Object(p.jsx)("div",{onClick:function(t){console.log("Price Click",t.target.innerText);var a={target:{value:t.target.innerText}};e.onChangePrice(a)},style:{width:"72%",paddingLeft:"1px",paddingTop:"1px"},className:"float-left",children:Object(p.jsx)("h6",{className:d.priceStyle,children:d.lastPrice})}),Object(p.jsx)("div",{style:{width:"28%",paddingLeft:"1px"},className:"float-left",children:Object(p.jsxs)("h6",{children:[" ",d.baseAsset]})}),Object(p.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",marginTop:"0px"},className:"tiny pt-1 float-left",children:Object(p.jsx)("small",{children:d.high24hr})}),Object(p.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"tiny-label pt-1 float-left",children:Object(p.jsx)("small",{children:"High"})}),Object(p.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",marginTop:"0px"},className:"tiny float-left",children:Object(p.jsx)("small",{children:d.low24hr})}),Object(p.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"tiny-label float-left",children:Object(p.jsx)("small",{children:" Low"})}),Object(p.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",color:"",marginTop:"0px"},className:"tiny float-left",children:Object(p.jsx)("small",{children:d.open24hr})}),Object(p.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"tiny-label float-left",children:Object(p.jsx)("small",{children:"Open"})}),Object(p.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",color:"",marginTop:"0px"},className:"tiny float-left",children:Object(p.jsx)("small",{children:d.volume24hr})}),Object(p.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"tiny-label float-left",children:Object(p.jsx)("small",{children:" Volume"})})]})},q=a(177),G=function(e){var t=Object(O.e)(),a=Object(n.useState)(""),s=Object(r.a)(a,2),c=s[0],i=s[1],l=Object(n.useState)({}),o=Object(r.a)(l,2),d=o[0],u=o[1],m=Object(n.useState)(navigator.onLine),h=Object(r.a)(m,1)[0],g=function(){console.log("We are online!"),h(!0)},b=function(){console.log("We are offline!"),t.push("/login?offline=true"),h(!1)},j=function(t){console.log("Price Click",t.target.innerText);var a={target:{value:t.target.innerText}};e.onChangePrice(a)};return Object(n.useEffect)((function(){window.addEventListener("offline",b),window.addEventListener("online",g);var t=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(t||(t=[{name:e.exchange.name,apiKey:"",secret:""}]),u({name:e.exchange.name,apiKey:t.length>0?t[0].apiKey:"",secret:t.length>0?t[0].secret:"",url:e.exchange.url,asks:[],bids:[],selectedTicker:"",prevSelectedTicker:e.selectedTicker,tickerEndpoint:e.exchange.tickerEndpoint}),!(e.selectedTicker.length<3)){var a="";void 0===localStorage.getItem("selectedTicker")?(localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]})):e.selectedTicker===localStorage.getItem("selectedTicker")?console.log("ws_send2",e.selectedTicker):e.selectedTicker!==localStorage.getItem("selectedTicker")&&(a=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]}),localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]})),e.exchange.name;var n=[];if(a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]}),n[e.exchange.name]=new q.a(e,u,d,a),"Bitmart"===e.exchange.name){var s=setInterval((function(){1===n.Bitmart.readyState&&n.Bitmart.send("ping")}),15e3);i(s)}return function(){window.removeEventListener("offline",b),window.removeEventListener("online",g),u({});var e=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]});localStorage.setItem("selectedTicker","");n.Bitmart&&(clearInterval(c),n.Bitmart.close()),n.Binance&&n.Binance.close(),console.log("Leaving",e)}}}),[e.selectedTicker]),void 0===d.asks||void 0===d.bids?null:Object(p.jsxs)("div",{className:"container",style:{marginTop:"2px",marginBottom:"2px",paddingLeft:"0px"},children:[Object(p.jsx)("ul",{className:"pt-1",style:{listStyleType:"none",paddingLeft:"0px"},children:d.asks.map((function(e,t){return Object(p.jsxs)("li",{className:"tiny",style:{whiteSpace:"nowrap"},children:[Object(p.jsx)("small",{onClick:j,className:"text-danger",children:e[0]})," ",Object(p.jsx)("small",{className:"",children:e[1]})]},t)}))}),Object(p.jsx)("ul",{style:{listStyleType:"none",paddingLeft:"0px"},children:d.bids.map((function(e,t){return Object(p.jsxs)("li",{className:"tiny",style:{whiteSpace:"nowrap"},children:[Object(p.jsx)("small",{onClick:j,className:"text-success",children:e[0]})," ",Object(p.jsx)("small",{className:"",children:e[1]})]},t)}))})]})},z=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(e){return Object(_.a)(this,a),t.call(this,e)}return Object(B.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return null}}]),a}(n.Component),H=function(e){var t,a,n="",s="",c="";if(void 0!==e.wallet){t="buy"===e.tab?void 0!==e.ticker?e.ticker.replace(/.*_/g,""):"":void 0!==e.ticker?e.ticker.replace(/_.*/g,""):"",a=e.wallet.filter((function(e){return e.id===t})),console.log("WALLET TAG",a,t),a.length>0&&(n=a[0].available,c=a[0].frozen,s=a[0].id);return Object(p.jsxs)("div",{className:"",style:{paddingLeft:"0px"},children:[Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{onClick:function(t){console.log("PERCENT25"),n.length>0&&e.setAmount({target:{value:.25*Math.round(n)}})},className:"col-sm-3 tiny",children:Object(p.jsx)("small",{children:"25%"})}),Object(p.jsx)("div",{onClick:function(t){console.log("PERCENT50"),n.length>0&&e.setAmount({target:{value:.5*Math.round(n)}})},className:"col-sm-3 tiny",children:Object(p.jsx)("small",{className:"",children:"50%"})}),Object(p.jsx)("div",{onClick:function(t){console.log("PERCENT75"),n.length>0&&e.setAmount({target:{value:.75*Math.round(n)}})},className:"col-sm-3 tiny",children:Object(p.jsx)("small",{className:"",children:"75%"})}),Object(p.jsx)("div",{onClick:function(t){console.log("PERCENT100",n),n.length>0&&e.setAmount({target:{value:Math.round(n)}})},className:"col-sm-3 tiny",children:Object(p.jsx)("small",{className:"",children:"100%"})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{style:{whiteSpace:"nowrap"},className:"col-sm-12 pt-2 tiny",children:Object(p.jsxs)("small",{className:"",children:["Avail. ",n," ",s]})}),Object(p.jsx)("div",{style:{whiteSpace:"nowrap"},className:"col-sm-12  tiny",children:Object(p.jsxs)("small",{className:"",children:["In Orders ",c," "]})})]})]})}},V=a(182),X=a(106),Y=function(e){var t=Object(n.useState)("limit"),a=Object(r.a)(t,2),c=a[0],i=a[1],o=s.a.useContext(oe).dispatch,u=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));u||(u=[{name:e.exchange.name,apiKey:"",secret:""}]);var m={name:e.exchange.name,apiKey:u.length>0?u[0].apiKey:"",url:e.exchange.url,tickers:[],asset:[],amount:"",qty:"",lastPrice:"",selectedTicker:"",baseAsset:"",price:"",tickerEndpoint:e.exchange.tickerEndpoint,secret:u.length>0?u[0].secret:""},h=Object(n.useState)(m),g=Object(r.a)(h,2),b=g[0],j=g[1],x=Object(n.useState)({wallet:[]}),O=Object(r.a)(x,2),v=O[0],y=O[1];Object(n.useEffect)((function(){(b.price.length>0||b.qty.length>0||b.amount.length>0)&&j(Object(l.a)(Object(l.a)({},b),{},{price:"",amount:"",qty:""}))}),[]),Object(n.useEffect)((function(){(b.price.length>0||b.qty.length>0||b.amount.length>0)&&j(Object(l.a)(Object(l.a)({},b),{},{price:"",amount:"",qty:""}))}),[c]),Object(n.useEffect)((function(){return f.a.get(e.exchange.url+"/tickers").then((function(t){t.data.tickers.forEach((function(e,a){t.data.tickers[a]={value:e,label:e}})),console.log("TICKERS:",e.exchange.url,t.data.tickers),j(Object(l.a)(Object(l.a)({},b),{},{tickers:t.data.tickers}))})),console.log("URL",e.exchange.url),f.a.get(e.exchange.url+"/accounts",{headers:{xbmkey:b.apiKey,xbmsecret:b.secret}}).then((function(e){console.log("WALLET",e.data.wallet),y({wallet:e.data.wallet})})),function(){console.log("LEAVING")}}),[]);var N=function(e){j(Object(l.a)(Object(l.a)({},b),{},{selectedTicker:"",baseAsset:""}))},k=function(e){j(Object(l.a)(Object(l.a)({},b),{},{price:"",amount:"",qty:""}))},T=function(t){var a,n;b.price.length<1&&"limit"===c?o({type:d,payload:{message:"Please Choose a price before setting qty",alertType:"success",timeout:3e3}}):("buy"===e.tab&&"limit"===c?(a=Math.round(parseFloat(t.target.value)/parseFloat(b.price)),n=parseFloat(t.target.value).toFixed(2)):"sell"===e.tab&&"limit"===c?(a=t.target.value,n=(n=Math.round(parseFloat(t.target.value)*parseFloat(b.price))).toFixed(2)):("buy"===e.tab&&"market"===c||"sell"===e.tab&&"market"===c)&&(n=parseFloat(t.target.value).toFixed(2),a=""),j(Object(l.a)(Object(l.a)({},b),{},{amount:n,qty:a})))},S=function(e){j(Object(l.a)(Object(l.a)({},b),{},{price:e.target.value}))},w=function(e){j(Object(l.a)(Object(l.a)({},b),{},{qty:e.target.value}))};return Object(p.jsx)("div",{className:"pl-0",style:{marginTop:"10px",marginLeft:"2px",marginRight:"2px"},children:Object(p.jsxs)("form",{className:"form-row pb-0 mb-0",style:{width:"100%"},onSubmit:function(e){e.preventDefault(),console.log("Form submitted:",b.name)},children:[Object(p.jsxs)("div",{className:"form-group col-sm-6 mb-0",children:[Object(p.jsx)(J,{options:b.tickers,onFocus:function(e){j(Object(l.a)(Object(l.a)({},b),{},{prevSelectedTicker:b.selectedTicker?b.selectedTicker:""}))},onChange:function(t){var a,n;console.log("OnChangeTicker",t),"buy"===e.tab?(a=t.value.replace(/.*_/g,""),n=t.value.replace(/_.*/g,"")):(a=t.value.replace(/_.*/g,""),n=t.value.replace(/.*_/g,"")),j(Object(l.a)(Object(l.a)({},b),{},{selectedTicker:t.value?t.value:"",baseAsset:void 0!==t.value?a:"",sellAsset:n}))}}),Object(p.jsx)("input",{type:"hidden",className:"form-control",value:b.name,onChange:function(e){j(Object(l.a)(Object(l.a)({},b),{},{name:e.target.value}))}}),Object(p.jsxs)("h5",{className:"mt-9x",children:[e.exchange.name," "]}),Object(p.jsx)(z,{})]}),Object(p.jsx)("div",{className:"form-group col-sm-6 mb-0",children:Object(p.jsx)(W,{onChangePrice:S,clearTicker:N,baseAsset:b.baseAsset,exchange:e.exchange,selectedTicker:b.selectedTicker,prevSelectedTicker:b.prevSelectedTicker})}),Object(p.jsxs)(V.a,{onSelect:function(e){console.log("onSelect",e),i(e)},defaultActiveKey:"limit",id:"controlled-tab-example",className:"col-sm-12",children:[Object(p.jsx)(X.a,{eventKey:"limit",title:"Limit",className:"col-sm-12",children:Object(p.jsxs)("div",{className:"row pt-2",children:[Object(p.jsxs)("div",{className:"col-sm-6",children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Price"}),Object(p.jsx)("input",{type:"text",placeholder:"Price",className:"form-control",value:b.price,onChange:S})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Qty"}),Object(p.jsx)("input",{type:"text",placeholder:"Quantity",className:"form-control",value:b.qty,onChange:w})]}),Object(p.jsx)(H,{tab:e.tab,clearAmount:k,wallet:v.wallet,ticker:b.selectedTicker,setAmount:T}),Object(p.jsxs)("div",{className:"form-group mb-0 pb-0",children:[Object(p.jsx)("label",{children:"Total:"})," ",Object(p.jsx)("div",{style:{display:"inline-block"},onChange:T,children:b.amount})]})]}),Object(p.jsxs)("div",{className:"col-sm-6 form-group",children:[Object(p.jsx)("label",{children:"Depth"}),Object(p.jsx)(G,{onChangePrice:S,clearTicker:N,baseAsset:b.baseAsset,exchange:e.exchange,selectedTicker:b.selectedTicker,prevSelectedTicker:b.prevSelectedTicker})]})]})}),Object(p.jsx)(X.a,{eventKey:"market",title:"Market",className:"col-sm-12",children:Object(p.jsxs)("div",{className:"row pt-2",children:[Object(p.jsxs)("div",{className:"col-sm-6",children:[Object(p.jsxs)("div",{className:"form-group ",children:[Object(p.jsx)("label",{children:"Price"}),Object(p.jsx)("input",{type:"text",disabled:"disabled",placeholder:"Optimal Market Price",className:"form-control",value:"Optimal Market Price"})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Total"}),Object(p.jsx)("input",{type:"text",placeholder:"buy"===e.tab?"Total "+b.baseAsset:"Total "+b.sellAsset,className:"form-control",value:b.amount,onChange:w})]}),Object(p.jsx)("div",{children:Object(p.jsx)(H,{clearAmount:k,tab:e.tab,wallet:v.wallet,ticker:b.selectedTicker,setAmount:T})}),Object(p.jsxs)("div",{className:"form-group mb-0",children:[Object(p.jsx)("label",{children:"Total:"})," ",Object(p.jsx)("div",{style:{display:"inline-block"},onChange:T,children:b.amount})]})]}),Object(p.jsxs)("div",{className:"col-sm-6 form-group",children:[Object(p.jsx)("label",{children:"Depth"}),Object(p.jsx)(G,{onChangePrice:S,clearTicker:N,baseAsset:b.baseAsset,exchange:e.exchange,selectedTicker:b.selectedTicker,prevSelectedTicker:b.prevSelectedTicker})]})]})})]}),Object(p.jsx)("div",{className:"form-group col-sm-12 pb-2 mb-0",children:"buy"===e.tab?Object(p.jsx)("input",{type:"submit",value:"Place buy order",className:"btn btn-success"}):Object(p.jsx)("input",{type:"submit",value:"Place sell order",className:"btn btn-danger"})}),Object(p.jsx)(A,{onChangePrice:S,data:b,clearTicker:N,setData:j,selectedTicker:b.selectedTicker,exchange:e.exchange,prevSelectedTicker:b.prevSelectedTicker})]})})},Q=function(e){var t=Object(n.useState)("buy"),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)("sell"),l=Object(r.a)(i,2),o=l[0],d=l[1],u=function(e){console.log("onSelect",e),d("buy"===e?"sell":"buy"),c(e)};return Object(n.useEffect)((function(){}),[]),Object(p.jsx)("div",{className:"card",style:{float:"left",width:"26rem",marginLeft:"10px",marginRight:"5px"},children:Object(p.jsxs)("div",{style:{paddingLeft:"10px",paddingRight:"0px",paddingTop:"10px",paddingBottom:"5px"},className:"card-body",children:[Object(p.jsxs)(V.a,{defaultActiveKey:"buy",id:"buy-sell-tab-"+e.exchange.name,onSelect:u,className:"nav nav-pills nav-justified nav-fill",children:[Object(p.jsx)(X.a,{className:"tab","data-toggle":"tab",eventKey:"buy",title:"Buy",tabClassName:""}),Object(p.jsx)(X.a,{className:"tab","data-toggle":"tab",eventKey:"sell",title:"Sell",tabClassName:""})]}),Object(p.jsx)(Y,{onTabSelect:u,prev:o,setTab:c,tab:s,exchange:e.exchange})]})})},$=function(e){var t=s.a.useState({exchange:[],showModal:"none"}),a=Object(r.a)(t,2),c=a[0],i=a[1];console.log("ExchangeTradeList",c),Object(n.useEffect)((function(){return f.a.get("/api/exchange/").then((function(e){console.log("GET EX",e.data,c),i(Object(l.a)(Object(l.a)({},c),{},{exchange:e.data,showModal:"none"}))})).catch((function(e){console.log(e)})),function(){i({})}}),[]);var o=s.a.useState(!1),d=Object(r.a)(o,1)[0],u=s.a.useState("Transitioning ...."),m=Object(r.a)(u,1)[0],h=s.a.useState(""),g=Object(r.a)(h,1)[0],b=function(e){d(!0),m(e.exchange.name)},j=function(){d(!1),m("")};return void 0===c?null:Object(p.jsx)("div",{className:"pull-left",style:{marginTop:"36px",width:"100%"},children:(console.log("ListEx",c),c.exchange.map((function(e,t){return console.log("DATA",e),Object(p.jsx)(Q,{title:e.name,hideModal:j,setUrl:g,setTitle:m,showModal:b,setIsOpen:d,exchange:e},t)})))})},Z=function(e){return Object(n.useEffect)((function(){}),[]),Object(p.jsx)($,{})},ee=a(181),te=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(P.a)(n)),n.onChangeApiKey=n.onChangeApiKey.bind(Object(P.a)(n)),n.onChangeApiName=n.onChangeApiName.bind(Object(P.a)(n)),n.onChangeSecret=n.onChangeSecret.bind(Object(P.a)(n)),n.onSubmit=n.onSubmit.bind(Object(P.a)(n)),n.ex=JSON.parse(localStorage.getItem("exchanges")),n.thisExchange=n.ex.filter((function(t){return e.exchange.name===t.name})),n.thisExchange||(n.thisExchange=[{name:e.exchange.name,apiKey:"",apiName:"",secret:""}]),n.state={name:e.exchange.name,apiKey:n.thisExchange.length>0?n.thisExchange[0].apiKey:"",apiName:n.thisExchange.length>0?n.thisExchange[0].apiName:"",url:e.exchange.url,secret:n.thisExchange.length>0?n.thisExchange[0].secret:""},console.log("exchange",e.exchange),n}return Object(B.a)(a,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeApiKey",value:function(e){this.setState({apiKey:e.target.value})}},{key:"onChangeApiName",value:function(e){this.setState({apiName:e.target.value})}},{key:"onChangeUrl",value:function(e){this.setState({url:e.target.value})}},{key:"onChangeSecret",value:function(e){this.setState({secret:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Form submitted:",this.state.name);var a=this.ex.filter((function(e){return t.state.name!==e.name}));a.push({name:this.state.name,secret:this.state.secret,apiKey:this.state.apiKey,apiName:this.state.apiName}),localStorage.setItem("exchanges",JSON.stringify(a)),this.props.hideModal()}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"container",style:{marginTop:10},children:Object(p.jsxs)("form",{style:{width:"100%"},onSubmit:this.onSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Name: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onChangeName})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Url: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.url,onChange:this.onChangeUrl})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"API Name: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.apiName,onChange:this.onChangeApiName})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"API Key: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.apiKey,onChange:this.onChangeApiKey})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Secret: "}),Object(p.jsx)("input",{type:"text",className:"form-control",value:this.state.secret,onChange:this.onChangeSecret})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"submit",value:"Save and Close",className:"btn btn-primary"})})]})})}}]),a}(n.Component),ae=function(e){return Object(p.jsx)(ee.a,{show:e.isOpen,tabIndex:"-1",children:Object(p.jsx)("div",{style:{width:"400px"},className:"modal-dialog",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsxs)("div",{className:"modal-header",children:[Object(p.jsx)("h5",{className:"modal-title",children:e.title}),Object(p.jsx)("button",{type:"button",className:"close",onClick:e.hideModal,"aria-label":"Close",children:Object(p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(p.jsx)("div",{className:"modal-body",children:Object(p.jsx)(te,{hideModal:e.hideModal,exchange:e.exchange})}),Object(p.jsx)("div",{className:"modal-footer",children:Object(p.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:e.hideModal,children:"Close"})})]})})})},ne=function(e){return Object(p.jsx)("div",{className:"card",style:{float:"left",width:"14rem",marginRight:"10px",height:"204px"},children:Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsxs)("h5",{className:"card-title",children:[e.exchange.name," "]}),Object(p.jsx)("p",{className:"card-text"}),Object(p.jsx)(o.b,{className:"btn btn-primary",onClick:function(){return e.showModal(e)},to:"#",children:"Configure"})]})})},se=function(){var e=s.a.useState({exchange:[]}),t=Object(r.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){f.a.get("/api/exchange/").then((function(e){c(Object(l.a)(Object(l.a)({},a),{},{exchange:e.data,showModal:"none"}))})).catch((function(e){console.log(e)}))}),[]);var i=s.a.useState(!1),o=Object(r.a)(i,2),d=o[0],u=o[1],m=s.a.useState({}),h=Object(r.a)(m,2),g=h[0],b=h[1],j=s.a.useState("Transitioning..."),x=Object(r.a)(j,2),O=x[0],v=x[1],y=s.a.useState(""),N=Object(r.a)(y,2),k=N[0],T=N[1],S=function(e){u(!0),v(e.exchange.name),b(e.exchange)},w=function(){u(!1),v("")};return Object(p.jsxs)("div",{style:{marginLeft:"12px"},className:"float-left pt-2",children:[Object(p.jsx)("h5",{children:"Exchanges"}),a.exchange.map((function(e,t){return console.log("FFFF",a),Object(p.jsx)(ne,{title:e.name,hideModal:w,setUrl:T,setTitle:v,showModal:S,setIsOpen:u,exchange:e},t)})),Object(p.jsx)(ae,{id:"exchangeModal",setExchange:b,exchange:g,title:O,url:k,setUrl:T,setTitle:v,isOpen:d,show:!0,hideModal:w,showModal:S,tabindex:"-1"})]})},ce=a(179),ie=function(e){var t=s.a.useContext(oe),a=t.data,n=t.setData,c=function(){n({isOpen:!1})};return Object(p.jsxs)(ce.slide,{pageWrapId:e.pageWrapId,outerContainerId:e.outerContainerId,styles:e.styles,isOpen:a.isOpen,onStateChange:function(e){n({isOpen:e.isOpen})},className:"col-md-2 d-none d-md-block eggplant",children:[e.isAuthenticated&&Object(p.jsx)(o.b,{to:"/dashboard",onClick:c,className:"nav-link menu-item",children:"Dashboard"}),e.isAuthenticated&&Object(p.jsx)(o.b,{to:"/exchanges",onClick:c,className:"nav-link menu-item",children:"Exchanges"}),e.isAuthenticated&&Object(p.jsx)(o.b,{to:"/asset",onClick:c,className:"nav-link menu-item",children:"Assets"}),e.isAuthenticated&&Object(p.jsx)(o.b,{to:"/create",onClick:c,className:"nav-link menu-item",children:"Create Asset"}),e.isAuthenticated&&Object(p.jsx)(o.b,{to:"/edit",onClick:c,className:"nav-link menu-item",children:"Edit Asset"})]})},re=function(e){var t=s.a.useContext(oe),a=t.state,n=t.data,c=Object(O.f)(),i=function(e){return void 0!==e&&e};return Object(p.jsx)("div",{id:"outer-container",className:"container-fluid",style:{width:"100%"},children:Object(p.jsxs)("div",{className:"row",children:[a.isAuthenticated&&"/register"!==c.pathname&&Object(p.jsx)(ie,{pageWrapId:"main",outerContainerId:"outer-container",styles:{width:"196px",bmBurgerButton:{position:"fixed",width:"36px",height:"30px",left:"14px",top:"72px"},bmBurgerBars:{background:"#373a47"},bmBurgerBarsHover:{background:"#a90000"},bmCrossButton:{height:"24px",width:"24px"},bmCross:{background:"#bdc3c7"},bmMenuWrap:{position:"fixed",height:"100%",minWidth:"230px"},bmMenu:{background:"#373a47",padding:"2.5em 1.5em 0",fontSize:"1.15em"},bmMorphShape:{fill:"#373a47"},bmItemList:{color:"#b8b7ad",padding:"0.8em"},bmItem:{display:"inline-block"},bmOverlay:{background:"rgba(0, 0, 0, 0.3)"}},onStateChange:function(e){return console.log("SIDEBAR MENU STATE",e),e},isOpen:n.isOpen,isAuthenticated:a.isAuthenticated}),Object(p.jsxs)("main",{id:"main",role:"main",style:{marginLeft:"unset"},className:"col-md-12 ml-sm-auto col-lg-12 mt-3 px-0",children:[Object(p.jsx)(O.a,{path:"/dashboard",exact:!0,render:function(){return Object(p.jsx)(Z,{isOpen:i})}}),Object(p.jsx)(O.a,{path:"/asset",exact:!0,render:function(e){return Object(p.jsx)(A,{showHeading:!0})}}),Object(p.jsx)(O.a,{path:"/exchanges",exact:!0,component:se}),Object(p.jsx)(O.a,{path:"/edit",component:I}),Object(p.jsx)(O.a,{path:"/create",component:D}),Object(p.jsx)(O.a,{path:"/login",component:y}),Object(p.jsx)(O.a,{path:"/register",component:M})]})]})})},le=a(353),oe=s.a.createContext();window.onbeforeunload=function(e){var t=e||window.event;return t.preventDefault(),t&&(t.returnValue=""),""};var de={isAuthenticated:!1,isOpen:!1,username:null,token:null,message:null,alerts:[],onTabSelect:{},prev:"",setTab:{},tab:"",selectedTicker:"",exchange:[]},ue={onTabSelect:{},prev:"",theme:"dark",isOpen:!1,setTab:{},tab:"",selectedTicker:"",exchange:[],asset:[],name:"",apiKey:"",secret:"",url:"",asks:[],bids:[],prevSelectedTicker:"",tickerEndpoint:"",price:"",qty:"",amount:"",wallet:[]},me=function(e,t){switch(t.type){case h:return localStorage.setItem("username",t.payload.username),localStorage.setItem("token",t.payload.token),!1===(!!localStorage.getItem("exchanges")&&localStorage.getItem("exchanges"))&&localStorage.setItem("exchanges",JSON.stringify([])),Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!0,isOpen:!1,username:t.payload.username,token:t.payload.token});case"MENU_STATE":return console.log("RCVD MENU STATE",t.payload,e),Object(l.a)(Object(l.a)({},e),{},{isOpen:!1});case d:return e.alerts.push({message:t.payload.message,alertType:t.payload.alertType,timeout:t.payload.timeout,id:Object(le.a)()}),Object(l.a)(Object(l.a)({},e),{},{message:t.payload.message,alerts:e.alerts});case u:return e.alerts=[],e.alerts.push({message:t.payload.message,alertType:t.payload.alertType,timeout:t.payload.timeout,id:Object(le.a)()}),Object(l.a)(Object(l.a)({},e),{},{message:t.payload.message,alerts:e.alerts});case m:return Object(l.a)(Object(l.a)({},e),{},{message:"",alerts:e.alerts.filter((function(e){return e.id!==t.payload}))});case g:return localStorage.setItem("token",""),Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!1,username:null});default:return e}};var he=function(){var e=s.a.useReducer(me,de),t=Object(r.a)(e,2),a=t[0],n=t[1],c=s.a.useState(ue),i=Object(r.a)(c,2),l=i[0],d=i[1];return Object(p.jsx)(oe.Provider,{value:{state:a,dispatch:n,data:l,setData:d},children:Object(p.jsx)(o.a,{children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(j,{}),Object(p.jsx)(v,{}),Object(p.jsx)(re,{}),Object(p.jsx)("br",{})]})})})},ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,354)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.p;i.a.render(Object(p.jsx)(he,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),ge()},81:function(e,t,a){"use strict";a.r(t),function(e){var t=a(31),n=a(32),s=function(){function e(a){Object(t.a)(this,e),this.name=a}return Object(n.a)(e,[{key:"getTrades",value:function(e,t){var a,n,s,c=[];return void 0===e?[]:(console.log("getTrades",e),"Bitmart"===this.name?(e.forEach((function(e){a=Number.parseInt(e.create_time)+1e3,n=new Date(a),s=n.toLocaleString("en-US",{month:"numeric"})+"-"+n.toLocaleString("en-US",{day:"numeric"})+" "+n.toLocaleTimeString("en-US"),c.push({order_id:e.order_id,detail_id:e.detail_id,avg_price:e.price_avg,price:e.price,pair:e.symbol,side:e.side,qty:e.size,cost:parseFloat(e.notional).toFixed(2),base:e.symbol.split("_")[1],order_type:"M"===e.exec_type?"Market":"Limit",transaction_date:s,state:"EXISTING",status:"WORKING"})})),c):"Binance"===this.name?(e.forEach((function(e){a=Number.parseInt(e.create_time)+1e3,n=new Date(a),s=n.toLocaleString("en-US",{month:"numeric"})+"-"+n.toLocaleString("en-US",{day:"numeric"})+" "+n.toLocaleTimeString("en-US"),c.push({order_id:e.order_id,detail_id:e.detail_id,avg_price:void 0===e.price_avg?e.price_avg:e.price,price:e.price,pair:t.replace("_","/"),side:e.side,qty:parseFloat(e.size).toFixed(2),cost:parseFloat(e.notional).toFixed(2),base:t.split("_")[1],order_type:"M"===e.exec_type?"Market":"Limit",transaction_date:s,state:"EXISTING",status:"WORKING"})})),c):void 0)}},{key:"getStream",value:function(e,t,a){var n=a.length,s="";return"Bitmart"===this.name?(s=parseFloat(a[n-1])>parseFloat(e.last_price)?"text-danger":parseFloat(a[n-1])<parseFloat(e.last_price)?"text-success":"",{lastPrice:e.last_price,high24hr:e.high_24h,low24hr:e.low_24h,open24hr:e.open_24h,volume24hr:e.base_volume_24h.split(".")[0],priceStyle:s,prevPrice:a[n-1],baseAsset:t.replace(/.*_/g,"")}):"Binance"===this.name?(n=a.length,s="",s=parseFloat(a[n-1])>parseFloat(e.c)?"text-danger":parseFloat(a[n-1])<parseFloat(e.c)?"text-success":"",{lastPrice:e.c,high24hr:e.h,low24hr:e.l,open24hr:e.o,volume24hr:void 0!==e.v?e.v.split(".")[0]:"",priceStyle:s,prevPrice:a[n-1],baseAsset:t.replace(/.*_/g,"")}):void 0}},{key:"getTradeStream",value:function(e,t){var a,n,s,c,i,r,l={};if("Bitmart"===this.name)return console.log("Pre Transform",e),void 0!==e.ms_t?(c=e.ms_t,a=Number.parseInt(c)):(c=e.create_time,a=Number.parseInt(c)+1e3),s=(n=new Date(a)).toLocaleString("en-US",{month:"numeric"})+"-"+n.toLocaleString("en-US",{day:"numeric"})+" "+n.toLocaleTimeString("en-US"),"1"!==e.state&&"3"!==e.state||(i="REJECTED",r="REJECTED state:"+e.state),"8"!==e.state&&"7"!==e.state||(i="CANCELED",r="CANCELED state:"+e.state),"2"!==e.state&&"4"!==e.state&&"5"!==e.state&&"6"!==e.state||(i="NEW",r="NEW state:"+e.state),l={order_id:parseInt(e.order_id),avg_price:void 0!==e.price&&e.price.length>0?e.price.match(/.*[1-9]/gm)[0]:"",price:void 0!==e.price&&e.price.length>0?e.price.match(/.*[1-9]/gm)[0]:"",pair:e.symbol.replace("_","/"),side:e.side,qty:parseFloat(e.size).toFixed(2),cost:void 0!==e.notional&&e.notional.length>0?parseFloat(e.notional).toFixed(2):void 0!==e.filled_notional?parseFloat(e.filled_notional).toFixed(2):"",base:e.symbol.split("_")[1],order_type:"market"===e.type||"M"===e.type?"Market":"Limit",transaction_date:s,status:r,state:i},console.log("Post Transform",l),l;if("Binance"===this.name){if(console.log("Pre Transform Binance",e),void 0!==e.create_time&&e.create_time.length>0)return e;if(void 0!==e.e&&"executionReport"!==e.e)return e;c=e.T,a=Number.parseInt(c)+1e3,s=(n=new Date(a)).toLocaleString("en-US",{month:"numeric"})+"-"+n.toLocaleString("en-US",{day:"numeric"})+" "+n.toLocaleTimeString("en-US");var o=parseFloat(e.p)*parseFloat(e.q);return l={order_id:e.i,avg_price:e.p,price:e.p,pair:t.replace("_","/"),side:e.S,qty:parseFloat(e.q).toFixed(2),cost:o.toFixed(2),base:t.split("_")[1],order_type:"market"===e.o||"MARKET"===e.o?"Market":"Limit",transaction_date:s,status:void 0!==e.X?e.X:"",state:void 0!==e.x?e.x:""},console.log("POST Transform Binance",l),l}}}]),e}();e.exports=s}.call(this,a(239)(e))}},[[349,1,2]]]);
//# sourceMappingURL=main.ad872eda.chunk.js.map