(this["webpackJsonpsignal-app"]=this["webpackJsonpsignal-app"]||[]).push([[0],{100:function(e,t,a){},142:function(e,t){},144:function(e,t){},172:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(19),i=a.n(c),l=(a(99),a(7)),r=a(3),o=a(12),d=(a(34),a(100),"SET_ALERT"),h="SET_ALERT_OVERWRITE",u="REMOVE_ALERT",j="LOGIN",m="LOGOUT",b=a.p+"static/media/logo.6ce24c58.svg",g=a(1),p=function(){var e,t=s.a.useContext(ae),a=t.state,n=t.dispatch,c=a.alerts;return"undefined"!==typeof c&&null!==c&&c.length>0?c.filter((function(e){return"null"!==e.message})).map((function(t,a){return"alert alert-"+t.alertType,e=t.id,setTimeout((function(){return n({type:u,payload:t.id})}),t.timeout),t.id&&Object(g.jsx)("div",{className:"","aria-live":"polite","aria-atomic":"true",style:{position:"absolute",top:"150px",right:"500px",minHeight:"200px",width:"200px",zIndex:1e3},children:Object(g.jsxs)("div",{id:e,className:"toast fade show",children:[Object(g.jsxs)("div",{className:"toast-header",children:[Object(g.jsx)("img",{style:{width:30,height:30},src:b,className:"rounded mr-2",alt:"..."}),Object(g.jsx)("strong",{className:"mr-auto",children:"System"}),Object(g.jsx)("button",{type:"button",onClick:function(t){return a=e,console.log(a),void n({type:u,payload:a});var a},className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",children:Object(g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(g.jsx)("div",{className:"toast-body",children:t.message})]})},t.id)})):null},x=a(9),O=a.n(x),f=a(6),v=function(){var e=s.a.useContext(ae),t=e.state,a=e.dispatch,n=Object(f.e)();return Object(g.jsx)("div",{children:Object(g.jsx)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:Object(g.jsxs)("div",{className:"",children:[Object(g.jsxs)("div",{className:"pull-left",children:[Object(g.jsx)("a",{className:"navbar-brand",href:"https://codingthesmartway.com",target:"_blank",rel:"noreferrer",children:Object(g.jsx)("img",{src:b,width:"30",height:"30",alt:"CodingTheSmartWay.com"})}),Object(g.jsx)(o.b,{to:"/dashboard",className:"navbar-brand",children:"Order Desk"})]}),Object(g.jsx)("div",{className:"pull-right",children:Object(g.jsxs)("ul",{className:"navbar-nav navbar-right pull-right mr-auto",children:[t.isAuthenticated?Object(g.jsx)("li",{className:"navbar-item pull-right",children:Object(g.jsx)(o.b,{to:"/login",onClick:function(e){console.log("Logout"),localStorage.setItem("token",null),O.a.defaults.headers.common.Authorization=null,a({type:m}),a({type:h,payload:{message:"Logout Successful",alertType:"success",timeout:5e3}}),n.push("/login")},className:"nav-link",children:"Log Out"})}):Object(g.jsx)("li",{className:"navbar-item pull-right",children:Object(g.jsx)(o.b,{to:"/login",isloggedin:"true",className:"nav-link",children:"Login "})}),Object(g.jsx)("li",{className:"navbar-item",children:Object(g.jsx)(o.b,{to:"/register",className:"nav-link",children:"Register"})})]})})]})})})},y=function(){var e=s.a.useContext(ae).dispatch,t=s.a.useState({username:"",password:"",isSubmitting:!1,errorMessage:null}),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(f.e)(),h=Object(n.useState)(navigator.onLine),u=Object(l.a)(h,2),m=u[0],b=u[1],p=function(){console.log("We are online!");b(!0)},x=function(){console.log("We are offline!");b(!1)};Object(n.useEffect)((function(){return window.addEventListener("offline",x),window.addEventListener("online",p),function(){window.removeEventListener("offline",x),window.removeEventListener("online",p)}}),[]);var v=window.location.search;return m=!0!==new URLSearchParams(v).get("offline")&&!1!==m,Object(g.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(g.jsx)("h3",{children:"Login"}),Object(g.jsxs)("form",{onSubmit:function(t){t.preventDefault(),i(Object(r.a)(Object(r.a)({},c),{},{isSubmitting:!0,errorMessage:null})),console.log("Form submitted:");var a={username:c.username,password:c.password};O.a.post("/api/auth/signin",a).then((function(t){console.log(t.data),localStorage.setItem("token",t.data.token),O.a.defaults.headers.common.Authorization=t.data.token,O.a.defaults.baseURL="",e({type:j,payload:t.data}),e({type:d,payload:{message:"Login Successful",alertType:"success",timeout:5e3}}),o.push("/exchanges")})),i(Object(r.a)(Object(r.a)({},c),{},{username:"",password:"",isLoggedIn:!0}))},children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"User Name: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:c.username,onChange:function(e){i(Object(r.a)(Object(r.a)({},c),{},{username:e.target.value}))}})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Password: "}),Object(g.jsx)("input",{type:"password",className:"form-control",value:c.password,onChange:function(e){i(Object(r.a)(Object(r.a)({},c),{},{password:e.target.value}))}})]}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"submit",disabled:!m,value:m?"Login":"Offline",className:"btn btn-primary"})})]})]})},N=function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.asset.pair}),Object(g.jsx)("td",{children:e.asset.price}),Object(g.jsx)("td",{children:e.asset.amount}),Object(g.jsxs)("td",{children:[Object(g.jsx)(o.b,{to:"/edit/"+e.asset._id,children:"Edit"}),"\xa0",Object(g.jsx)(o.b,{id:e.asset._id,asset:e.asset,onClick:k,to:"/asset/",children:"Delete"})]})]})},k=function(e){console.log(e.target.asset),O.a.delete("http://localhost:4000/asset/delete/"+e.target.id).then((function(e){console.log(e.data)}))},T=function(){s.a.useContext(ae).dispatch;var e=s.a.useState({asset:[]}),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(f.e)();Object(n.useEffect)((function(){O.a.get("http://localhost:4000/asset/").then((function(e){c(Object(r.a)(Object(r.a)({},a),{},{asset:e.data}))})).catch((function(e){console.log(e)}))}),[]);return Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"Assets"}),Object(g.jsxs)("table",{className:"table table-striped",style:{marginTop:20},children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Pair"}),Object(g.jsx)("th",{children:"Price"}),Object(g.jsx)("th",{children:"Amount"}),Object(g.jsx)("th",{children:"Action"})]})}),Object(g.jsx)("tbody",{children:a.asset.map((function(e,t){return Object(g.jsx)(N,{asset:e},t)}))})]})]})},S=function(e){var t=s.a.useContext(ae);t.state,t.dispatch;return Object(n.useEffect)((function(){}),[]),Object(g.jsx)("div",{children:Object(g.jsx)("p",{children:"Welcome to Edit Asset Component!!"})})},w=a(22),C=a(23),E=a(11),A=a(30),L=a(29),P=function(e){Object(A.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).onChangePair=n.onChangePair.bind(Object(E.a)(n)),n.onChangePrice=n.onChangePrice.bind(Object(E.a)(n)),n.onChangeAmount=n.onChangeAmount.bind(Object(E.a)(n)),n.onSubmit=n.onSubmit.bind(Object(E.a)(n)),n.state={pair:"",price:"",amount:""},n}return Object(C.a)(a,[{key:"onChangePair",value:function(e){this.setState({pair:e.target.value})}},{key:"onChangePrice",value:function(e){this.setState({price:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Form submitted:",this.state),console.log("Pair: ".concat(this.state.pair)),console.log("Price: ".concat(this.state.price)),console.log("Amount: ".concat(this.state.amount));var a={pair:this.state.pair,price:this.state.price,amount:this.state.amount};O.a.post("/api/asset/add",a).then((function(e){console.log(e.data),t.setState({redirectTo:"/"})})),this.setState({pair:"",price:"",amount:""})}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(g.jsx)("h3",{children:"Create New Asset"}),Object(g.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Pair: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.pair,onChange:this.onChangePair})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Price: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.price,onChange:this.onChangePrice})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Amount: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.amount,onChange:this.onChangeAmount})]}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"submit",value:"Create Asset",className:"btn btn-primary"})})]})]})}}]),a}(n.Component),I=function(e){Object(A.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(E.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(E.a)(n)),n.onSubmit=n.onSubmit.bind(Object(E.a)(n)),n.state={username:"",password:""},n}return Object(C.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Registration submitted:",this.state),console.log("Pair: ".concat(this.state.username)),console.log("Price: ".concat(this.state.price)),console.log("Amount: ".concat(this.state.amount));var a={username:this.state.username,password:this.state.password};O.a.post("/api/auth/signup",a).then((function(e){console.log(e.data),t.props.history.push("/login")})),this.setState({username:"",password:""})}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"container",style:{marginTop:10},children:[Object(g.jsx)("h3",{children:"Register"}),Object(g.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"User Name: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.onChangeUsername})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Password: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.password,onChange:this.onChangePassword})]}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"submit",value:"Register",className:"btn btn-primary"})})]})]})}}]),a}(n.Component),F=(a(38),a(50),a(93)),R=function(e){return Object(g.jsx)(F.a,{style:e.style,options:e.options,onFocus:e.onFocus,onChange:e.onChange})},B=a(36),_=a(51),K=a(90),M=(a(48),function(e){var t=s.a.useContext(ae),a=(t.state,t.dispatch,Object(f.e)()),c=Object(n.useState)(""),i=Object(l.a)(c,2),r=(i[0],i[1],Object(n.useState)({})),o=Object(l.a)(r,2),d=o[0],h=o[1],u=Object(n.useState)(navigator.onLine),j=Object(l.a)(u,2),m=(j[0],j[1]),b=function(){console.log("We are online!"),m(!0)},p=function(){console.log("We are offline!"),a.push("/login?offline=true"),m(!1)};return Object(n.useEffect)((function(){window.addEventListener("offline",p),window.addEventListener("online",b);var t=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(t||(e.exchange.name,Object(_.a)("thisExchange")),h(Object(B.a)({name:e.exchange.name,apiKey:t.length>0?t[0].apiKey:"",secret:t.length>0?t[0].secret:"",url:e.exchange.url,high24hr:"",low24hr:"",open24hr:"",volume24hr:"",lastPrice:"",priceStyle:"",prevPrice:"0.00",selectedTicker:"",prevSelectedTicker:e.selectedTicker,tickerEndpoint:e.exchange.tickerEndpoint},"secret",t.length>0?t[0].secret:"")),console.log("exchange",e.exchange,e),!(e.selectedTicker.length<3)){var a="";void 0===localStorage.getItem("selectedTicker")?(localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/ticker:"+e.selectedTicker]}),console.log("ws_send1",e.selectedTicker)):e.selectedTicker===localStorage.getItem("selectedTicker")?console.log("ws_send2",e.selectedTicker):e.selectedTicker!==localStorage.getItem("selectedTicker")&&(a=JSON.stringify({op:"unsubscribe",args:["spot/ticker:"+localStorage.getItem("selectedTicker")]}),console.log("ws_send3",e.selectedTicker),localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/ticker:"+e.selectedTicker]}),console.log("ws_send4",e.selectedTicker)),e.exchange.name;var n=[];if(n[e.exchange.name]=new K.a(e,h,d,a),"Bitmart"===e.exchange.name){var s=setInterval((function(){1==n.Bitmart.readyState&&(n.Bitmart.send(a),clearInterval(s))}),500);setInterval((function(){1==n.Bitmart.readyState&&n.Bitmart.send("ping")}),1e4)}return function(){window.removeEventListener("offline",p),window.removeEventListener("online",b),h({});var e=JSON.stringify({op:"unsubscribe",args:["spot/ticker:"+localStorage.getItem("selectedTicker")]});localStorage.setItem("selectedTicker","");n.Bitmart&&n.Bitmart.close(),n.Binance&&n.Binance.close(),console.log("Leaving",e)}}}),[e.selectedTicker]),Object(g.jsxs)("div",{className:"container",style:{marginTop:"2px",marginBottom:"2px"},children:[Object(g.jsx)("div",{onClick:function(t){console.log("Price Click",t.target.innerText);var a={target:{value:t.target.innerText}};e.onChangePrice(a)},style:{width:"72%",paddingLeft:"1px",paddingTop:"1px"},className:"float-left",children:Object(g.jsx)("h6",{className:d.priceStyle,children:d.lastPrice})}),Object(g.jsx)("div",{style:{width:"28%",paddingLeft:"1px",paddingTop:"1px"},className:"float-left",children:Object(g.jsx)("small",{children:d.baseAsset})}),Object(g.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(g.jsx)("small",{children:d.high24hr})}),Object(g.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(g.jsx)("small",{children:"High"})}),Object(g.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(g.jsx)("small",{children:d.low24hr})}),Object(g.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(g.jsx)("small",{children:" Low"})}),Object(g.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",color:"",marginTop:"0px"},className:"float-left",children:Object(g.jsx)("small",{children:d.open24hr})}),Object(g.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(g.jsx)("small",{children:"Open"})}),Object(g.jsx)("div",{style:{width:"72%",paddingLeft:"1px",paddingTop:"1px",color:"",marginTop:"0px"},className:"float-left",children:Object(g.jsx)("small",{children:d.volume24hr})}),Object(g.jsx)("div",{style:{width:"28%",color:"",paddingTop:"1px",marginTop:"0px"},className:"float-left",children:Object(g.jsx)("small",{children:" Volume"})})]})}),U=a(91),J=(a(48),function(e){var t=s.a.useContext(ae),a=(t.state,t.dispatch,Object(f.e)()),c=Object(n.useState)(""),i=Object(l.a)(c,2),r=(i[0],i[1],Object(n.useState)({})),o=Object(l.a)(r,2),d=o[0],h=o[1],u=Object(n.useState)(navigator.onLine),j=Object(l.a)(u,2),m=(j[0],j[1]),b=function(){console.log("We are online!"),m(!0)},p=function(){console.log("We are offline!"),a.push("/login?offline=true"),m(!1)},x=function(t){console.log("Price Click",t.target.innerText);var a={target:{value:t.target.innerText}};e.onChangePrice(a)};return Object(n.useEffect)((function(){window.addEventListener("offline",p),window.addEventListener("online",b);var t=JSON.parse(localStorage.getItem("exchanges")).filter((function(t){return e.exchange.name===t.name}));if(t||(e.exchange.name,Object(_.a)("thisExchange")),h(Object(B.a)({name:e.exchange.name,apiKey:t.length>0?t[0].apiKey:"",secret:t.length>0?t[0].secret:"",url:e.exchange.url,asks:[],bids:[],selectedTicker:"",prevSelectedTicker:e.selectedTicker,tickerEndpoint:e.exchange.tickerEndpoint},"secret",t.length>0?t[0].secret:"")),console.log("exchange",e.exchange,e),!(e.selectedTicker.length<3)){var a="";void 0===localStorage.getItem("selectedTicker")?(localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]}),console.log("ws_send1",e.selectedTicker)):e.selectedTicker===localStorage.getItem("selectedTicker")?console.log("ws_send2",e.selectedTicker):e.selectedTicker!==localStorage.getItem("selectedTicker")&&(a=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]}),console.log("ws_send3",e.selectedTicker),localStorage.setItem("selectedTicker",e.selectedTicker),a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]}),console.log("ws_send4",e.selectedTicker)),e.exchange.name;var n=[];if(a=JSON.stringify({op:"subscribe",args:["spot/depth5:"+e.selectedTicker]}),n[e.exchange.name]=new U.a(e,h,d,a),"Bitmart"===e.exchange.name){var s=setInterval((function(){1==n.Bitmart.readyState&&(n.Bitmart.send(a),clearInterval(s))}),500);console.log("DEPTH SENT:",a);setInterval((function(){1==n.Bitmart.readyState&&n.Bitmart.send("ping")}),1e4)}return function(){window.removeEventListener("offline",p),window.removeEventListener("online",b),h({});var e=JSON.stringify({op:"unsubscribe",args:["spot/depth5:"+localStorage.getItem("selectedTicker")]});localStorage.setItem("selectedTicker","");n.Bitmart&&n.Bitmart.close(),n.Binance&&n.Binance.close(),console.log("Leaving",e)}}}),[e.selectedTicker]),void 0===d.asks||void 0===d.bids?null:Object(g.jsxs)("div",{className:"container",style:{marginTop:"2px",marginBottom:"2px",paddingLeft:"0px"},children:[Object(g.jsx)("ul",{style:{listStyleType:"none",paddingLeft:"0px"},children:d.asks.map((function(e,t){return Object(g.jsxs)("li",{style:{whiteSpace:"nowrap"},children:[Object(g.jsx)("small",{onClick:x,className:"text-danger",children:e[0]})," ",Object(g.jsx)("small",{className:"",children:e[1]})]},t)}))}),Object(g.jsx)("ul",{style:{listStyleType:"none",paddingLeft:"0px"},children:d.bids.map((function(e,t){return Object(g.jsxs)("li",{style:{whiteSpace:"nowrap"},children:[Object(g.jsx)("small",{onClick:x,className:"text-success",children:e[0]})," ",Object(g.jsx)("small",{className:"",children:e[1]})]},t)}))})]})}),D=function(e){var t="",a="";console.log("WALLET TAG",e),e.wallet.length>0&&(t=e.wallet[0].available,a=e.wallet[0].id);return Object(g.jsxs)("div",{className:"container",style:{paddingLeft:"0px"},children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{onClick:function(a){console.log("PERCENT25"),t.length>0&&e.setAmount({target:{value:.25*Math.round(t)}})},className:"col-sm-3",children:Object(g.jsx)("small",{className:"tiny",children:"25%"})}),Object(g.jsx)("div",{onClick:function(a){console.log("PERCENT25"),t.length>0&&e.setAmount({target:{value:.5*Math.round(t)}})},className:"col-sm-3",children:Object(g.jsx)("small",{className:"tiny",children:"50%"})}),Object(g.jsx)("div",{onClick:function(a){console.log("PERCENT25"),t.length>0&&e.setAmount({target:{value:.75*Math.round(t)}})},className:"col-sm-3",children:Object(g.jsx)("small",{className:"tiny",children:"75%"})}),Object(g.jsx)("div",{onClick:function(a){console.log("PERCENT25"),t.length>0&&e.setAmount({target:{value:Math.round(t)}})},className:"col-sm-3",children:Object(g.jsx)("small",{className:"tiny",children:"100%"})})]}),Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{style:{whiteSpace:"nowrap"},className:"col-sm-12",children:Object(g.jsxs)("small",{className:"tiny",children:["Avail. ",t," ",a]})})})]})},W=a(176),q=a(175),G=(a(165),a(59),function(e){var t=s.a.useContext(ae),a=(t.state,t.dispatch,JSON.parse(localStorage.getItem("exchanges")));console.log("local",a,e);var c=a.filter((function(t){return e.exchange.name===t.name}));c||(c=[{name:e.exchange.name,apiKey:"",secret:""}]);var i={name:e.exchange.name,apiKey:c.length>0?c[0].apiKey:"",url:e.exchange.url,tickers:[],amount:"",qty:"",lastPrice:"",selectedTicker:"",baseAsset:"",price:"",tickerEndpoint:e.exchange.tickerEndpoint,secret:c.length>0?c[0].secret:""},o=Object(n.useState)(i),d=Object(l.a)(o,2),h=d[0],u=d[1],j=Object(n.useState)({wallet:[]}),m=Object(l.a)(j,2),b=m[0],p=m[1];console.log("exchange",e.exchange),console.log("B4UseEffect",h),Object(n.useEffect)((function(){return console.log("DuringUseEffect",e,h),console.log(e.exchange.url),O.a.get(e.exchange.url+"/tickers").then((function(t){t.data.tickers.map((function(e,a){t.data.tickers[a]={value:e,label:e}})),console.log("TICKERS:",e.exchange.url,t.data.tickers),u(Object(r.a)(Object(r.a)({},h),{},{tickers:t.data.tickers}))})),console.log("URL",e.exchange.url),O.a.get(e.exchange.url+"/accounts",{headers:{xbmkey:h.apiKey,xbmsecret:h.secret}}).then((function(e){console.log("WALLET",e.data.wallet),p({wallet:e.data.wallet})})),function(){}}),[]);var x=function(e){u(Object(r.a)(Object(r.a)({},h),{},{selectedTicker:"",baseAsset:""}))},f=function(e){u(Object(r.a)(Object(r.a)({},h),{},{name:e.target.value}))},v=function(e){console.log(e.target.value,h.amount,parseFloat(e.target.value),parseFloat(h.amount));var t=Math.round(parseFloat(e.target.value)/parseFloat(h.price));u(Object(r.a)(Object(r.a)({},h),{},{amount:e.target.value,qty:t}))},y=function(e){u(Object(r.a)(Object(r.a)({},h),{},{price:e.target.value}))};var N=b.wallet.filter((function(e){return e.id===h.baseAsset}));return console.log("RETURN FORM",h),Object(g.jsx)("div",{className:"container",style:{marginTop:"10px",marginLeft:"2px",marginRight:"2px"},children:Object(g.jsxs)("form",{className:"form-row",style:{width:"100%"},onSubmit:function(e){e.preventDefault(),console.log("Form submitted:",h.name)},children:[Object(g.jsxs)("div",{className:"form-group col-sm-6",children:[Object(g.jsx)(R,{class:{width:"8rem"},options:h.tickers,onFocus:function(e){console.log("FOCUS",undefined),u(Object(r.a)(Object(r.a)({},h),{},{prevSelectedTicker:h.selectedTicker?h.selectedTicker:""}))},onChange:function(e){console.log("OnChangeTicker",e),u(Object(r.a)(Object(r.a)({},h),{},{selectedTicker:e.value?e.value:"",baseAsset:void 0!==e.value?e.value.replace(/.*_/g,""):""}))}}),Object(g.jsx)("input",{type:"hidden",className:"form-control",value:h.name,onChange:f})]}),Object(g.jsx)("div",{className:"form-group col-sm-6",children:Object(g.jsx)(M,{onChangePrice:y,clearTicker:x,baseAsset:h.baseAsset,exchange:e.exchange,selectedTicker:h.selectedTicker,prevSelectedTicker:h.prevSelectedTicker})}),Object(g.jsxs)(W.a,{defaultActiveKey:"limit",id:"controlled-tab-example",className:"nav nav-pills nav-fill col-sm-12",children:[Object(g.jsx)(q.a,{eventKey:"limit",title:"Limit",className:"col-sm-12",children:Object(g.jsxs)("div",{className:"row pt-2",children:[Object(g.jsxs)("div",{className:"col-sm-6",children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Price"}),Object(g.jsx)("input",{type:"text",className:"form-control",value:h.price,onChange:y})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Qty"}),Object(g.jsx)("input",{type:"text",className:"form-control",value:h.qty,onChange:function(e){u(Object(r.a)(Object(r.a)({},h),{},{qty:e.target.value}))}})]}),Object(g.jsx)(D,{wallet:N,setAmount:v}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsxs)("label",{children:["Total:",Object(g.jsx)("div",{onChange:v,children:h.amount})," "]})})]}),Object(g.jsxs)("div",{className:"col-sm-6",children:["Depth",Object(g.jsx)(J,{onChangePrice:y,clearTicker:x,baseAsset:h.baseAsset,exchange:e.exchange,selectedTicker:h.selectedTicker,prevSelectedTicker:h.prevSelectedTicker})]})]})}),Object(g.jsx)(q.a,{eventKey:"market",title:"Market",className:"",children:Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Amount"}),Object(g.jsx)("input",{type:"text",className:"form-control",value:h.name,onChange:f})]})})]}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"hidden",className:"form-control",value:h.name,onChange:f})}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"hidden",className:"form-control",value:h.apiKey})}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"hidden",className:"form-control",value:h.secret})}),Object(g.jsx)("div",{className:"form-group col-sm-12",children:Object(g.jsx)("input",{type:"submit",value:"Place buy order",className:"btn btn-primary"})})]})})}),z=(n.Component,function(e){return Object(g.jsx)("div",{className:"card",style:{float:"left",width:"28rem",marginRight:"10px"},children:Object(g.jsxs)("div",{style:{paddingLeft:"5px",paddingRight:"5px"},className:"card-body",children:[Object(g.jsxs)("h5",{className:"card-title",children:[e.exchange.name," "]}),Object(g.jsx)("p",{className:"card-text"}),Object(g.jsxs)(W.a,{defaultActiveKey:"buy",id:"controlled-tab-example",className:"nav nav-pills nav-fill",children:[Object(g.jsx)("div",{className:"tabPane",eventKey:"buy",title:"Buy",tabClassName:"",children:Object(g.jsx)(G,{exchange:e.exchange})}),Object(g.jsx)("div",{className:"tabPane",eventKey:"sell",title:"Sell",tabClassName:"",children:Object(g.jsx)(G,{exchange:e.exchange})})]})]})})}),H=function(){var e=s.a.useState({exchange:[],showModal:"none"}),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(f.e)();Object(n.useEffect)((function(){return O.a.get("/api/exchange/").then((function(e){console.log("GET EX",e.data,a),c(Object(r.a)(Object(r.a)({},a),{},{exchange:e.data,showModal:"none"}))})).catch((function(e){console.log(e)})),function(){c({})}}),[]),console.log("isData",a);var i=s.a.useState(!1),o=Object(l.a)(i,2),d=(o[0],o[1]),h=s.a.useState({}),u=Object(l.a)(h,2),j=(u[0],u[1]),m=s.a.useState("Transitioning..."),b=Object(l.a)(m,2),p=(b[0],b[1]),x=s.a.useState(""),v=Object(l.a)(x,2),y=(v[0],v[1]),N=(s.a.useContext(ae).dispatch,function(e){d(!0),p(e.exchange.name),j(e.exchange)}),k=function(){d(!1),p("")};return void 0===a?null:Object(g.jsx)("div",{className:"container",style:{marginTop:"35px",width:"100%"},children:(console.log("ListEx",a),a.exchange.map((function(e,t){return console.log("DATA",e),console.log("FFFF",a),Object(g.jsx)(z,{title:e.name,hideModal:k,setUrl:y,setTitle:p,showModal:N,setIsOpen:d,exchange:e},t)})))})},V=function(e){var t=s.a.useContext(ae);t.state,t.dispatch;return Object(n.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:"float-left",children:[Object(g.jsxs)("div",{className:"d-flex justify-content-between flex-wrap  align-items-center pt-3 pb-2 mb-3 border-bottom",children:[Object(g.jsx)("h1",{className:"h2",children:"Dashboard"}),Object(g.jsxs)("div",{className:"btn-toolbar mb-2 mb-md-0",children:[Object(g.jsxs)("div",{className:"btn-group mr-2",children:[Object(g.jsx)("button",{className:"btn btn-sm btn-outline-secondary",children:"Share"}),Object(g.jsx)("button",{className:"btn btn-sm btn-outline-secondary",children:"Export"})]}),Object(g.jsxs)("button",{className:"btn btn-sm btn-outline-secondary dropdown-toggle",children:[Object(g.jsx)("span",{"data-feather":"calendar"}),"This week"]})]}),Object(g.jsx)("div",{className:"container",style:{marginTop:"35px",width:"100%"}})]}),Object(g.jsx)(H,{})]})},Q=a(65),X=function(e){Object(A.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(E.a)(n)),n.onChangeApiKey=n.onChangeApiKey.bind(Object(E.a)(n)),n.onChangeSecret=n.onChangeSecret.bind(Object(E.a)(n)),n.onSubmit=n.onSubmit.bind(Object(E.a)(n)),n.ex=JSON.parse(localStorage.getItem("exchanges")),n.thisExchange=n.ex.filter((function(t){return e.exchange.name===t.name})),n.thisExchange||(n.thisExchange=[{name:e.exchange.name,apiKey:"",secret:""}]),n.state={name:e.exchange.name,apiKey:n.thisExchange.length>0?n.thisExchange[0].apiKey:"",url:e.exchange.url,secret:n.thisExchange.length>0?n.thisExchange[0].secret:""},console.log("exchange",e.exchange),n}return Object(C.a)(a,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeApiKey",value:function(e){this.setState({apiKey:e.target.value})}},{key:"onChangeUrl",value:function(e){this.setState({url:e.target.value})}},{key:"onChangeSecret",value:function(e){this.setState({secret:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Form submitted:",this.state.name);var a=this.ex.filter((function(e){return t.state.name!==e.name}));a.push({name:this.state.name,secret:this.state.secret,apiKey:this.state.apiKey}),localStorage.setItem("exchanges",JSON.stringify(a)),this.props.hideModal()}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"container",style:{marginTop:10},children:Object(g.jsxs)("form",{style:{width:"100%"},onSubmit:this.onSubmit,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Name: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onChangeName})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Url: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.url,onChange:this.onChangeUrl})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"API Key: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.apiKey,onChange:this.onChangeApiKey})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Secret: "}),Object(g.jsx)("input",{type:"text",className:"form-control",value:this.state.secret,onChange:this.onChangeSecret})]}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"submit",value:"Save and Close",className:"btn btn-primary"})})]})})}}]),a}(n.Component),$=function(e){return Object(g.jsx)(Q.a,{show:e.isOpen,tabIndex:"-1",children:Object(g.jsx)("div",{style:{width:"400px"},className:"modal-dialog",children:Object(g.jsxs)("div",{className:"modal-content",children:[Object(g.jsxs)("div",{className:"modal-header",children:[Object(g.jsx)("h5",{className:"modal-title",children:e.title}),Object(g.jsx)("button",{type:"button",className:"close",onClick:e.hideModal,"aria-label":"Close",children:Object(g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(g.jsx)("div",{className:"modal-body",children:Object(g.jsx)(X,{hideModal:e.hideModal,exchange:e.exchange})}),Object(g.jsx)("div",{className:"modal-footer",children:Object(g.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:e.hideModal,children:"Close"})})]})})})},Y=function(e){return Object(g.jsx)("div",{className:"card",style:{float:"left",width:"14rem",marginRight:"10px",height:"204px"},children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsxs)("h5",{className:"card-title",children:[e.exchange.name," "]}),Object(g.jsx)("p",{className:"card-text"}),Object(g.jsx)(o.b,{className:"btn btn-primary",onClick:function(){return e.showModal(e)},to:"#",children:"Configure"})]})})},Z=function(){var e=s.a.useState({exchange:[]}),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(f.e)();Object(n.useEffect)((function(){O.a.get("/api/exchange/").then((function(e){c(Object(r.a)(Object(r.a)({},a),{},{exchange:e.data,showModal:"none"}))})).catch((function(e){console.log(e)}))}),[]);var i=s.a.useState(!1),o=Object(l.a)(i,2),d=o[0],h=o[1],u=s.a.useState({}),j=Object(l.a)(u,2),m=j[0],b=j[1],p=s.a.useState("Transitioning..."),x=Object(l.a)(p,2),v=x[0],y=x[1],N=s.a.useState(""),k=Object(l.a)(N,2),T=k[0],S=k[1],w=(s.a.useContext(ae).dispatch,function(e){h(!0),y(e.exchange.name),b(e.exchange)}),C=function(){h(!1),y("")};return Object(g.jsxs)("div",{className:"container",style:{marginTop:"35px",width:"100%"},children:[a.exchange.map((function(e,t){return console.log("DATA",e),console.log("FFFF",a),Object(g.jsx)(Y,{title:e.name,hideModal:C,setUrl:S,setTitle:y,showModal:w,setIsOpen:h,exchange:e},t)})),Object(g.jsx)($,{id:"exchangeModal",setExchange:b,exchange:m,title:v,url:T,setUrl:S,setTitle:y,isOpen:d,show:!0,hideModal:C,showModal:w,tabindex:"-1"})]})},ee=function(){var e=s.a.useContext(ae),t=e.state,a=(e.dispatch,Object(f.f)());return Object(g.jsx)("div",{className:"container-fluid",children:Object(g.jsxs)("div",{className:"row",children:[t.isAuthenticated&&"/register"!==a.pathname&&Object(g.jsx)("nav",{className:"col-md-2 d-none d-md-block eggplant sidebar",children:Object(g.jsx)("div",{className:"sidebar-sticky",children:Object(g.jsxs)("ul",{className:"nav flex-column",children:[t.isAuthenticated&&Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(o.b,{to:"/dashboard",className:"nav-link",children:"Dashboard"})}),t.isAuthenticated&&Object(g.jsx)("li",{className:"navbar-item",children:Object(g.jsx)(o.b,{to:"/exchanges",className:"nav-link",children:"Exchanges"})}),t.isAuthenticated&&Object(g.jsx)("li",{className:"navbar-item",children:Object(g.jsx)(o.b,{to:"/asset",className:"nav-link",children:"Assets"})}),t.isAuthenticated&&Object(g.jsx)("li",{className:"navbar-item",children:Object(g.jsx)(o.b,{to:"/create",className:"nav-link",children:"Create Asset"})}),t.isAuthenticated&&Object(g.jsx)("li",{className:"navbar-item",children:Object(g.jsx)(o.b,{to:"/edit",className:"nav-link",children:"Edit Asset"})})]})})}),Object(g.jsxs)("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-4",children:[Object(g.jsx)(f.a,{path:"/dashboard",exact:!0,component:V}),Object(g.jsx)(f.a,{path:"/asset",exact:!0,component:T}),Object(g.jsx)(f.a,{path:"/exchanges",exact:!0,component:Z}),Object(g.jsx)(f.a,{path:"/edit",component:S}),Object(g.jsx)(f.a,{path:"/create",component:P}),Object(g.jsx)(f.a,{path:"/login",component:y}),Object(g.jsx)(f.a,{path:"/register",component:I})]})]})})},te=a(177),ae=s.a.createContext(),ne={isAuthenticated:!1,username:null,token:null,message:null,alerts:[]},se=function(e,t){switch(t.type){case j:localStorage.setItem("username",t.payload.username),localStorage.setItem("token",t.payload.token);var a=!!localStorage.getItem("exchanges")&&localStorage.getItem("exchanges");return console.log("exchanges",a),!1===a&&localStorage.setItem("exchanges",JSON.stringify([])),Object(r.a)(Object(r.a)({},e),{},{isAuthenticated:!0,username:t.payload.username,token:t.payload.token});case d:return e.alerts.push({message:t.payload.message,alertType:t.payload.alertType,timeout:t.payload.timeout,id:Object(te.a)()}),Object(r.a)(Object(r.a)({},e),{},{message:t.payload.message,alerts:e.alerts});case h:return e.alerts=[],e.alerts.push({message:t.payload.message,alertType:t.payload.alertType,timeout:t.payload.timeout,id:Object(te.a)()}),Object(r.a)(Object(r.a)({},e),{},{message:t.payload.message,alerts:e.alerts});case u:return Object(r.a)(Object(r.a)({},e),{},{message:"",alerts:e.alerts.filter((function(e){return e.id!==t.payload}))});case"START_SPOT":return Object(r.a)(Object(r.a)({},e),{},{ticker:t.payload.ticker});case m:return localStorage.setItem("token",""),Object(r.a)(Object(r.a)({},e),{},{isAuthenticated:!1,username:null});default:return e}};var ce=function(){var e=s.a.useReducer(se,ne),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(g.jsx)(ae.Provider,{value:{state:a,dispatch:n},children:Object(g.jsx)(o.a,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(p,{}),Object(g.jsx)(v,{}),Object(g.jsx)(ee,{}),Object(g.jsx)("br",{})]})})})},ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,178)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(g.jsx)(ce,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),ie()},48:function(e,t,a){"use strict";a.r(t),function(e){var t=a(22),n=a(23),s=function(){function e(a){Object(t.a)(this,e),this.name=a}return Object(n.a)(e,[{key:"getStream",value:function(e,t,a){if("Bitmart"===this.name){var n=a.length,s="";return s=parseFloat(a[n-1])>parseFloat(e.last_price)?"text-danger":parseFloat(a[n-1])<parseFloat(e.last_price)?"text-success":"",{lastPrice:e.last_price,high24hr:e.high_24h,low24hr:e.low_24h,open24hr:e.open_24h,volume24hr:e.base_volume_24h.split(".")[0],priceStyle:s,prevPrice:a[n-1],baseAsset:t.replace(/.*_/g,"")}}if("Binance"===this.name){n=a.length,s="";return s=parseFloat(a[n-1])>parseFloat(e.c)?"text-danger":parseFloat(a[n-1])<parseFloat(e.c)?"text-success":"",{lastPrice:e.c,high24hr:e.h,low24hr:e.l,open24hr:e.o,volume24hr:e.v.split(".")[0],priceStyle:s,prevPrice:a[n-1],baseAsset:t.replace(/.*_/g,"")}}}}]),e}();e.exports=s}.call(this,a(164)(e))},90:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return l}));var n=a(3),s=a(59),c=a(88),i=a(48);function l(e,t,a,n){var s=Object.create(r);return s.client={},s.getClient(e,t,a,n)}var r={getClient:function(t,a,l,r){var o="";o="Binance"==t.exchange.name?"wss://stream.binance.com:9443/ws/"+t.selectedTicker.replace(/_/g,"").toLowerCase()+"@miniTicker":"wss://ws-manager.bitmart.com?protocol=1.1",this.client=new c(o,null,{timeout:4e3,shouldReconnect:function(e,t){if(console.log("Reconnecting"),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){console.log("WebSocket Client Connected")}));var d=[];return this.client.addEventListener("message",(function(c){if(r.length,c.data instanceof Blob){var o=new i(t.exchange.name);c.data.stream().getReader().read().then((function(c){var i=c.done,r=c.value;if(i);else{var h=e.from(r);s.inflateRaw(h,{flush:3,info:!0},(function(e,s){var c=JSON.parse(s.toString("UTF-8")),i=o.getStream(c.data[0],t.selectedTicker,d);a(Object(n.a)(Object(n.a)({},l),i)),d.push(i.lastPrice),d.length>2&&d.splice(0,1)}))}}))}else{if("pong"==c.data||"ping"==c.data)return;var h=new i(t.exchange.name);try{var u=JSON.parse(c.data),j=h.getStream(u,t.selectedTicker,d);a(Object(n.a)(Object(n.a)({},l),j)),d.push(j.lastPrice),d.length>2&&d.splice(0,1)}catch(m){console.log(m)}}})),this.client.addEventListener("close",(function(e){d=[],a({high24hr:"",low24hr:"",open24hr:"",volume24hr:"",lastPrice:"",priceStyle:"",prevPrice:"0.00"}),e.data})),this.client}}}).call(this,a(31).Buffer)},91:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var n=a(3),s=a(59),c=a(88);a(48);function i(e,t,a,n){var s=Object.create(l);return s.client={},s.getClient(e,t,a,n)}var l={getClient:function(t,a,i,l){var r="";r="Binance"==t.exchange.name?"wss://stream.binance.com:9443/ws/"+t.selectedTicker.replace(/_/g,"").toLowerCase()+"@depth5@100ms":"wss://ws-manager-compress.bitmart.com?protocol=1.1",this.client=new c(r,null,{timeout:4e3,shouldReconnect:function(e,t){if(console.log("Reconnecting"),1008!==e.code&&1011!==e.code)return[0,3e3,1e4][t.attempts]},automaticOpen:!0,ignoreConnectivityEvents:!1}),this.client.binaryType="blob",this.client.addEventListener("open",(function(e){console.log("WebSocket Client Connected")}));return this.client.addEventListener("message",(function(t){if(l.length,t.data instanceof Blob){t.data.stream().getReader().read().then((function(t){var c=t.done,l=t.value;if(c);else{var r=e.from(l);s.inflateRaw(r,{flush:3,info:!0},(function(e,t){var s=JSON.parse(t.toString("UTF-8")).data[0];a(Object(n.a)(Object(n.a)({},i),s))}))}}))}else{if("pong"==t.data||"ping"==t.data)return;try{var c=JSON.parse(t.data);a(Object(n.a)(Object(n.a)({},i),c))}catch(r){console.log(r)}}})),this.client.addEventListener("close",(function(e){a({asks:[],bids:[]}),e.data})),this.client}}}).call(this,a(31).Buffer)},99:function(e,t,a){}},[[172,1,2]]]);
//# sourceMappingURL=main.0219c7eb.chunk.js.map